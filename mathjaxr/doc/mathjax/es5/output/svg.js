!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=106)}([function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGWrapper=void 0;var Wrapper_js_1=__webpack_require__(18),svg_js_1=__webpack_require__(9),SVGWrapper=function(_super){function SVGWrapper(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.element=null,_this}return __extends(SVGWrapper,_super),SVGWrapper.prototype.toSVG=function(parent){this.addChildren(this.standardSVGnode(parent))},SVGWrapper.prototype.addChildren=function(parent){var e_1,_a,x=0;try{for(var _b=__values(this.childNodes),_c=_b.next();!_c.done;_c=_b.next()){var child=_c.value;child.toSVG(parent),child.element&&child.place(x+child.bbox.L*child.bbox.rscale,0),x+=(child.bbox.L+child.bbox.w+child.bbox.R)*child.bbox.rscale}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b["return"])&&_a.call(_b)}finally{if(e_1)throw e_1.error}}},SVGWrapper.prototype.standardSVGnode=function(parent){var svg=this.createSVGnode(parent);return this.handleStyles(),this.handleScale(),this.handleColor(),this.handleAttributes(),svg},SVGWrapper.prototype.createSVGnode=function(parent){var href=this.node.attributes.get("href");if(href){parent=this.adaptor.append(parent,this.svg("a",{href:href}));var _a=this.getBBox(),h=_a.h,d=_a.d,w=_a.w;this.adaptor.append(parent,this.svg("rect",{"data-hitbox":!0,fill:"none",stroke:"none","pointer-events":"all",width:this.fixed(w),height:this.fixed(h+d),y:this.fixed(-d)}))}return this.element=this.adaptor.append(parent,this.svg("g",{"data-mml-node":this.node.kind})),this.element},SVGWrapper.prototype.handleStyles=function(){if(this.styles){var styles=this.styles.cssText;styles&&this.adaptor.setAttribute(this.element,"style",styles)}},SVGWrapper.prototype.handleScale=function(){if(1!==this.bbox.rscale){var scale="scale("+this.fixed(this.bbox.rscale/1e3,3)+")";this.adaptor.setAttribute(this.element,"transform",scale)}},SVGWrapper.prototype.handleColor=function(){var adaptor=this.adaptor,attributes=this.node.attributes,mathcolor=attributes.getExplicit("mathcolor"),color=attributes.getExplicit("color"),mathbackground=attributes.getExplicit("mathbackground"),background=attributes.getExplicit("background");if((mathcolor||color)&&(adaptor.setAttribute(this.element,"fill",mathcolor||color),adaptor.setAttribute(this.element,"stroke",mathcolor||color)),mathbackground||background){var _a=this.getBBox(),h=_a.h,d=_a.d,w=_a.w,rect=this.svg("rect",{fill:mathbackground||background,x:0,y:this.fixed(-d),width:this.fixed(w),height:this.fixed(h+d),"data-bgcolor":!0}),child=adaptor.firstChild(this.element);child?adaptor.insert(rect,child):adaptor.append(this.element,rect)}},SVGWrapper.prototype.handleAttributes=function(){var e_2,_a,e_3,_b,attributes=this.node.attributes,defaults=attributes.getAllDefaults(),skip=SVGWrapper.skipAttributes;try{for(var _c=__values(attributes.getExplicitNames()),_d=_c.next();!_d.done;_d=_c.next()){var name_1=_d.value;skip[name_1]!==!1&&(name_1 in defaults||skip[name_1]||this.adaptor.hasAttribute(this.element,name_1))||this.adaptor.setAttribute(this.element,name_1,attributes.getExplicit(name_1))}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_d&&!_d.done&&(_a=_c["return"])&&_a.call(_c)}finally{if(e_2)throw e_2.error}}if(attributes.get("class")){var names=attributes.get("class").trim().split(/ +/);try{for(var names_1=__values(names),names_1_1=names_1.next();!names_1_1.done;names_1_1=names_1.next()){var name_2=names_1_1.value;this.adaptor.addClass(this.element,name_2)}}catch(e_3_1){e_3={error:e_3_1}}finally{try{names_1_1&&!names_1_1.done&&(_b=names_1["return"])&&_b.call(names_1)}finally{if(e_3)throw e_3.error}}}},SVGWrapper.prototype.place=function(x,y,element){if(void 0===element&&(element=null),x||y){element||(element=this.element);var transform=this.adaptor.getAttribute(element,"transform")||"";transform="translate("+this.fixed(x)+", "+this.fixed(y)+")"+(transform?" "+transform:""),this.adaptor.setAttribute(element,"transform",transform)}},SVGWrapper.prototype.placeChar=function(n,x,y,parent,variant){var e_4,_a;void 0===variant&&(variant=null),null===variant&&(variant=this.variant);var C=n.toString(16).toUpperCase(),_b=__read(this.getVariantChar(variant,n),4),w=_b[2],data=_b[3];if("p"in data){var path=data.p?"M"+data.p+"Z":"";this.place(x,y,this.adaptor.append(parent,this.charNode(variant,C,path)))}else if("c"in data){var g=this.adaptor.append(parent,this.svg("g",{"data-c":C}));this.place(x,y,g),x=0;try{for(var _c=__values(this.unicodeChars(data.c,variant)),_d=_c.next();!_d.done;_d=_c.next()){var n_1=_d.value;x+=this.placeChar(n_1,x,y,g,variant)}}catch(e_4_1){e_4={error:e_4_1}}finally{try{_d&&!_d.done&&(_a=_c["return"])&&_a.call(_c)}finally{if(e_4)throw e_4.error}}}else if(data.unknown){var char=String.fromCodePoint(n),text=this.adaptor.append(parent,this.jax.unknownText(char,variant));return this.place(x,y,text),this.jax.measureTextNodeWithCache(text,char,variant).w}return w},SVGWrapper.prototype.charNode=function(variant,C,path){var cache=this.jax.options.fontCache;return"none"!==cache?this.useNode(variant,C,path):this.pathNode(C,path)},SVGWrapper.prototype.pathNode=function(C,path){return this.svg("path",{"data-c":C,d:path})},SVGWrapper.prototype.useNode=function(variant,C,path){var use=this.svg("use"),id="#"+this.jax.fontCache.cachePath(variant,C,path);return this.adaptor.setAttribute(use,"href",id,svg_js_1.XLINKNS),use},SVGWrapper.prototype.drawBBox=function(){var _a=this.getBBox(),w=_a.w,h=_a.h,d=_a.d,box=this.svg("g",{style:{opacity:.25}},[this.svg("rect",{fill:"red",height:this.fixed(h),width:this.fixed(w)}),this.svg("rect",{fill:"green",height:this.fixed(d),width:this.fixed(w),y:this.fixed(-d)})]),node=this.element||this.parent.element;this.adaptor.append(node,box)},SVGWrapper.prototype.html=function(type,def,content){return void 0===def&&(def={}),void 0===content&&(content=[]),this.jax.html(type,def,content)},SVGWrapper.prototype.svg=function(type,def,content){return void 0===def&&(def={}),void 0===content&&(content=[]),this.jax.svg(type,def,content)},SVGWrapper.prototype.text=function(text){return this.jax.text(text)},SVGWrapper.prototype.fixed=function(x,n){return void 0===n&&(n=1),this.jax.fixed(1e3*x,n)},SVGWrapper.kind="unknown",SVGWrapper}(Wrapper_js_1.CommonWrapper);exports.SVGWrapper=SVGWrapper},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BBoxStyleAdjust=MathJax._.util.BBox.BBoxStyleAdjust,exports.BBox=MathJax._.util.BBox.BBox},function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;n>i;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)},__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=this&&this.__spread||function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar},__values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.FontData=exports.NOSTRETCH=exports.H=exports.V=void 0,exports.V=1,exports.H=2,exports.NOSTRETCH={dir:0};var FontData=function(){function FontData(){var e_1,_a;this.variant={},this.delimiters={},this.cssFontMap={},this.remapChars={};var CLASS=this.constructor;this.params=__assign({},CLASS.defaultParams),this.sizeVariants=__spread(CLASS.defaultSizeVariants),this.cssFontMap=__assign({},CLASS.defaultCssFonts),this.cssFamilyPrefix=CLASS.defaultCssFamilyPrefix,this.createVariants(CLASS.defaultVariants),this.defineDelimiters(CLASS.defaultDelimiters);try{for(var _b=__values(Object.keys(CLASS.defaultChars)),_c=_b.next();!_c.done;_c=_b.next()){var name_1=_c.value;this.defineChars(name_1,CLASS.defaultChars[name_1])}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b["return"])&&_a.call(_b)}finally{if(e_1)throw e_1.error}}this.defineRemap("accent",CLASS.defaultAccentMap),this.defineRemap("mo",CLASS.defaultMoMap),this.defineRemap("mn",CLASS.defaultMnMap)}return FontData.charOptions=function(font,n){var char=font[n];return 3===char.length&&(char[3]={}),char[3]},FontData.prototype.createVariant=function(name,inherit,link){void 0===inherit&&(inherit=null),void 0===link&&(link=null);var variant={linked:[],chars:inherit?Object.create(this.variant[inherit].chars):{}};link&&this.variant[link]&&(Object.assign(variant.chars,this.variant[link].chars),this.variant[link].linked.push(variant.chars),variant.chars=Object.create(variant.chars)),this.remapSmpChars(variant.chars,name),this.variant[name]=variant},FontData.prototype.remapSmpChars=function(chars,name){var e_2,_a,e_3,_b,CLASS=this.constructor;if(CLASS.VariantSmp[name]){var SmpRemap=CLASS.SmpRemap,SmpGreek=[null,null,CLASS.SmpRemapGreekU,CLASS.SmpRemapGreekL];try{for(var _c=__values(CLASS.SmpRanges),_d=_c.next();!_d.done;_d=_c.next()){var _e=__read(_d.value,3),i=_e[0],lo=_e[1],hi=_e[2],base=CLASS.VariantSmp[name][i];if(base){for(var n=lo;hi>=n;n++)if(930!==n){var smp=base+n-lo;chars[n]=this.smpChar(SmpRemap[smp]||smp)}if(SmpGreek[i])try{for(var _f=(e_3=void 0,__values(Object.keys(SmpGreek[i]).map(function(x){return parseInt(x)}))),_g=_f.next();!_g.done;_g=_f.next()){var n=_g.value;chars[n]=this.smpChar(base+SmpGreek[i][n])}}catch(e_3_1){e_3={error:e_3_1}}finally{try{_g&&!_g.done&&(_b=_f["return"])&&_b.call(_f)}finally{if(e_3)throw e_3.error}}}}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_d&&!_d.done&&(_a=_c["return"])&&_a.call(_c)}finally{if(e_2)throw e_2.error}}}"bold"===name&&(chars[988]=this.smpChar(120778),chars[989]=this.smpChar(120779))},FontData.prototype.smpChar=function(n){return[,,,{smp:n}]},FontData.prototype.createVariants=function(variants){var e_4,_a;try{for(var variants_1=__values(variants),variants_1_1=variants_1.next();!variants_1_1.done;variants_1_1=variants_1.next()){var variant=variants_1_1.value;this.createVariant(variant[0],variant[1],variant[2])}}catch(e_4_1){e_4={error:e_4_1}}finally{try{variants_1_1&&!variants_1_1.done&&(_a=variants_1["return"])&&_a.call(variants_1)}finally{if(e_4)throw e_4.error}}},FontData.prototype.defineChars=function(name,chars){var e_5,_a,variant=this.variant[name];Object.assign(variant.chars,chars);try{for(var _b=__values(variant.linked),_c=_b.next();!_c.done;_c=_b.next()){var link=_c.value;Object.assign(link,chars)}}catch(e_5_1){e_5={error:e_5_1}}finally{try{_c&&!_c.done&&(_a=_b["return"])&&_a.call(_b)}finally{if(e_5)throw e_5.error}}},FontData.prototype.defineDelimiters=function(delims){Object.assign(this.delimiters,delims)},FontData.prototype.defineRemap=function(name,remap){this.remapChars.hasOwnProperty(name)||(this.remapChars[name]={}),Object.assign(this.remapChars[name],remap)},FontData.prototype.getDelimiter=function(n){return this.delimiters[n]},FontData.prototype.getSizeVariant=function(n,i){return this.delimiters[n].variants&&(i=this.delimiters[n].variants[i]),this.sizeVariants[i]},FontData.prototype.getChar=function(name,n){return this.variant[name].chars[n]},FontData.prototype.getVariant=function(name){return this.variant[name]},FontData.prototype.getCssFont=function(variant){return this.cssFontMap[variant]||["serif",!1,!1]},FontData.prototype.getFamily=function(family){return this.cssFamilyPrefix?this.cssFamilyPrefix+", "+family:family},FontData.prototype.getRemappedChar=function(name,c){var map=this.remapChars[name]||{};return map[c]},FontData.OPTIONS={},FontData.defaultVariants=[["normal"],["bold","normal"],["italic","normal"],["bold-italic","italic","bold"],["double-struck","bold"],["fraktur","normal"],["bold-fraktur","bold","fraktur"],["script","italic"],["bold-script","bold-italic","script"],["sans-serif","normal"],["bold-sans-serif","bold","sans-serif"],["sans-serif-italic","italic","sans-serif"],["sans-serif-bold-italic","bold-italic","bold-sans-serif"],["monospace","normal"]],FontData.defaultCssFonts={normal:["serif",!1,!1],bold:["serif",!1,!0],italic:["serif",!0,!1],"bold-italic":["serif",!0,!0],"double-struck":["serif",!1,!0],fraktur:["serif",!1,!1],"bold-fraktur":["serif",!1,!0],script:["cursive",!1,!1],"bold-script":["cursive",!1,!0],"sans-serif":["sans-serif",!1,!1],"bold-sans-serif":["sans-serif",!1,!0],"sans-serif-italic":["sans-serif",!0,!1],"sans-serif-bold-italic":["sans-serif",!0,!0],monospace:["monospace",!1,!1]},FontData.defaultCssFamilyPrefix="",FontData.VariantSmp={bold:[119808,119834,120488,120514,120782],italic:[119860,119886,120546,120572],"bold-italic":[119912,119938,120604,120630],script:[119964,119990],"bold-script":[120016,120042],fraktur:[120068,120094],"double-struck":[120120,120146,,,120792],"bold-fraktur":[120172,120198],"sans-serif":[120224,120250,,,120802],"bold-sans-serif":[120276,120302,120662,120688,120812],"sans-serif-italic":[120328,120354],"sans-serif-bold-italic":[120380,120406,120720,120746],monospace:[120432,120458,,,120822]},FontData.SmpRanges=[[0,65,90],[1,97,122],[2,913,937],[3,945,969],[4,48,57]],FontData.SmpRemap={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},FontData.SmpRemapGreekU={8711:25,1012:17},FontData.SmpRemapGreekL={977:27,981:29,982:31,1008:28,1009:30,1013:26,8706:25},FontData.defaultAccentMap={768:"ˋ",769:"ˊ",770:"ˆ",771:"˜",772:"ˉ",774:"˘",775:"˙",776:"¨",778:"˚",780:"ˇ",8594:"⃗",8242:"'",8243:"''",8244:"'''",8245:"`",8246:"``",8247:"```",8279:"''''",8400:"↼",8401:"⇀",8406:"←",8417:"↔",8432:"*",8411:"...",8412:"....",8428:"⇁",8429:"↽",8430:"←",8431:"→"},FontData.defaultMoMap={45:"−"},FontData.defaultMnMap={45:"−"},FontData.defaultParams={x_height:.442,quad:1,num1:.676,num2:.394,num3:.444,denom1:.686,denom2:.345,sup1:.413,sup2:.363,sup3:.289,sub1:.15,sub2:.247,sup_drop:.386,sub_drop:.05,delim1:2.39,delim2:1,axis_height:.25,rule_thickness:.06,big_op_spacing1:.111,big_op_spacing2:.167,big_op_spacing3:.2,big_op_spacing4:.6,big_op_spacing5:.1,surd_height:.075,scriptspace:.05,nulldelimiterspace:.12,delimiterfactor:901,delimitershortfall:.3,min_rule_thickness:1.25},FontData.defaultDelimiters={},FontData.defaultChars={},FontData.defaultSizeVariants=[],FontData}();exports.FontData=FontData},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TEXCLASS=MathJax._.core.MmlTree.MmlNode.TEXCLASS,exports.TEXCLASSNAMES=MathJax._.core.MmlTree.MmlNode.TEXCLASSNAMES,exports.indentAttributes=MathJax._.core.MmlTree.MmlNode.indentAttributes,exports.AbstractMmlNode=MathJax._.core.MmlTree.MmlNode.AbstractMmlNode,exports.AbstractMmlTokenNode=MathJax._.core.MmlTree.MmlNode.AbstractMmlTokenNode,exports.AbstractMmlLayoutNode=MathJax._.core.MmlTree.MmlNode.AbstractMmlLayoutNode,exports.AbstractMmlBaseNode=MathJax._.core.MmlTree.MmlNode.AbstractMmlBaseNode,exports.AbstractMmlEmptyNode=MathJax._.core.MmlTree.MmlNode.AbstractMmlEmptyNode,exports.TextNode=MathJax._.core.MmlTree.MmlNode.TextNode,exports.XMLNode=MathJax._.core.MmlTree.MmlNode.XMLNode},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sortLength=MathJax._.util.string.sortLength,exports.quotePattern=MathJax._.util.string.quotePattern,exports.unicodeChars=MathJax._.util.string.unicodeChars,exports.isPercent=MathJax._.util.string.isPercent,exports.split=MathJax._.util.string.split},function(module,exports,__webpack_require__){"use strict";var __read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonArrow=exports.CommonDiagonalArrow=exports.CommonDiagonalStrike=exports.CommonBorder2=exports.CommonBorder=exports.arrowBBox=exports.diagonalArrowDef=exports.arrowDef=exports.arrowBBoxW=exports.arrowBBoxHD=exports.arrowHead=exports.fullBorder=exports.fullPadding=exports.fullBBox=exports.sideNames=exports.sideIndex=exports.SOLID=exports.PADDING=exports.THICKNESS=exports.ARROWY=exports.ARROWDX=exports.ARROWX=void 0,exports.ARROWX=4,exports.ARROWDX=1,exports.ARROWY=2,exports.THICKNESS=.067,exports.PADDING=.2,exports.SOLID=exports.THICKNESS+"em solid",exports.sideIndex={top:0,right:1,bottom:2,left:3},exports.sideNames=Object.keys(exports.sideIndex),exports.fullBBox=function(node){return new Array(4).fill(node.thickness+node.padding)},exports.fullPadding=function(node){return new Array(4).fill(node.padding)},exports.fullBorder=function(node){return new Array(4).fill(node.thickness)},exports.arrowHead=function(node){return Math.max(node.padding,node.thickness*(node.arrowhead.x+node.arrowhead.dx+1))},exports.arrowBBoxHD=function(node,TRBL){if(node.childNodes[0]){var _a=node.childNodes[0].getBBox(),h=_a.h,d=_a.d;TRBL[0]=TRBL[2]=Math.max(0,node.thickness*node.arrowhead.y-(h+d)/2)}return TRBL},exports.arrowBBoxW=function(node,TRBL){if(node.childNodes[0]){var w=node.childNodes[0].getBBox().w;TRBL[1]=TRBL[3]=Math.max(0,node.thickness*node.arrowhead.y-w/2)}return TRBL},exports.arrowDef={up:[-Math.PI/2,!1,!0,"verticalstrike"],down:[Math.PI/2,!1,!0,"verticakstrike"],right:[0,!1,!1,"horizontalstrike"],left:[Math.PI,!1,!1,"horizontalstrike"],updown:[Math.PI/2,!0,!0,"verticalstrike uparrow downarrow"],leftright:[0,!0,!1,"horizontalstrike leftarrow rightarrow"]},exports.diagonalArrowDef={updiagonal:[-1,0,!1,"updiagonalstrike northeastarrow"],northeast:[-1,0,!1,"updiagonalstrike updiagonalarrow"],southeast:[1,0,!1,"downdiagonalstrike"],northwest:[1,Math.PI,!1,"downdiagonalstrike"],southwest:[-1,Math.PI,!1,"updiagonalstrike"],northeastsouthwest:[-1,0,!0,"updiagonalstrike northeastarrow updiagonalarrow southwestarrow"],northwestsoutheast:[1,0,!0,"downdiagonalstrike northwestarrow southeastarrow"]},exports.arrowBBox={up:function(node){return exports.arrowBBoxW(node,[exports.arrowHead(node),0,node.padding,0])},down:function(node){return exports.arrowBBoxW(node,[node.padding,0,exports.arrowHead(node),0])},right:function(node){return exports.arrowBBoxHD(node,[0,exports.arrowHead(node),0,node.padding])},left:function(node){return exports.arrowBBoxHD(node,[0,node.padding,0,exports.arrowHead(node)])},updown:function(node){return exports.arrowBBoxW(node,[exports.arrowHead(node),0,exports.arrowHead(node),0])},leftright:function(node){return exports.arrowBBoxHD(node,[0,exports.arrowHead(node),0,exports.arrowHead(node)])}},exports.CommonBorder=function(render){return function(side){var i=exports.sideIndex[side];return[side,{renderer:render,bbox:function(node){var bbox=[0,0,0,0];return bbox[i]=node.thickness+node.padding,bbox},border:function(node){var bbox=[0,0,0,0];return bbox[i]=node.thickness,bbox}}]}},exports.CommonBorder2=function(render){return function(name,side1,side2){var i1=exports.sideIndex[side1],i2=exports.sideIndex[side2];return[name,{renderer:render,bbox:function(node){var t=node.thickness+node.padding,bbox=[0,0,0,0];return bbox[i1]=bbox[i2]=t,bbox},border:function(node){var bbox=[0,0,0,0];return bbox[i1]=bbox[i2]=node.thickness,bbox},remove:side1+" "+side2}]}},exports.CommonDiagonalStrike=function(render){return function(name){var cname="mjx-"+name.charAt(0)+"strike";return[name+"diagonalstrike",{renderer:render(cname),bbox:exports.fullBBox}]}},exports.CommonDiagonalArrow=function(render){return function(name){var _a=__read(exports.diagonalArrowDef[name],4),c=_a[0],pi=_a[1],double=_a[2],remove=_a[3];return[name+"arrow",{renderer:function(node,_child){var _a=node.arrowData(),a=_a.a,W=_a.W,arrow=node.arrow(W,c*(a-pi),double);render(node,arrow)},bbox:function(node){var _a=node.arrowData(),a=_a.a,x=_a.x,y=_a.y,_b=__read([node.arrowhead.x,node.arrowhead.y,node.arrowhead.dx],3),ax=_b[0],ay=_b[1],adx=_b[2],_c=__read(node.getArgMod(ax+adx,ay),2),b=_c[0],ar=_c[1],dy=y+(b>a?node.thickness*ar*Math.sin(b-a):0),dx=x+(b>Math.PI/2-a?node.thickness*ar*Math.sin(b+a-Math.PI/2):0);return[dy,dx,dy,dx]},remove:remove}]}},exports.CommonArrow=function(render){return function(name){var _a=__read(exports.arrowDef[name],4),angle=_a[0],double=_a[1],isVertical=_a[2],remove=_a[3];return[name+"arrow",{renderer:function(node,_child){var _a=node.getBBox(),w=_a.w,h=_a.h,d=_a.d,W=isVertical?h+d:w,arrow=node.arrow(W,angle,double);render(node,arrow)},bbox:exports.arrowBBox[name],remove:remove}]}}},function(module,exports,__webpack_require__){"use strict";function CommonMsubMixin(Base){return function(_super){function class_1(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(class_1,_super),Object.defineProperty(class_1.prototype,"script",{get:function(){return this.childNodes[this.node.sub]},enumerable:!1,configurable:!0}),class_1.prototype.getOffset=function(bbox,sbox){return[0,-this.getV(bbox,sbox)]},class_1}(Base)}function CommonMsupMixin(Base){return function(_super){function class_2(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(class_2,_super),Object.defineProperty(class_2.prototype,"script",{get:function(){return this.childNodes[this.node.sup]},enumerable:!1,configurable:!0}),class_2.prototype.getOffset=function(bbox,sbox){var x=this.baseCore.bbox.ic?.05*this.baseCore.bbox.ic+.05:0;return[x*this.coreScale(),this.getU(bbox,sbox)]},class_2}(Base)}function CommonMsubsupMixin(Base){return function(_super){function class_3(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.UVQ=null,_this}return __extends(class_3,_super),Object.defineProperty(class_3.prototype,"subChild",{get:function(){return this.childNodes[this.node.sub]},enumerable:!1,configurable:!0}),Object.defineProperty(class_3.prototype,"supChild",{get:function(){return this.childNodes[this.node.sup]},enumerable:!1,configurable:!0}),class_3.prototype.computeBBox=function(bbox,recompute){void 0===recompute&&(recompute=!1);var basebox=this.baseChild.getBBox(),subbox=this.subChild.getBBox(),supbox=this.supChild.getBBox();bbox.empty(),bbox.append(basebox);var w=bbox.w,_a=__read(this.getUVQ(basebox,subbox,supbox),2),u=_a[0],v=_a[1],x=this.baseCore.bbox.ic?this.coreIC()*this.coreScale():0;bbox.combine(subbox,w,v),bbox.combine(supbox,w+x,u),bbox.w+=this.font.params.scriptspace,bbox.clean(),this.setChildPWidths(recompute)},class_3.prototype.getUVQ=function(basebox,subbox,supbox){if(this.UVQ)return this.UVQ;var tex=this.font.params,t=3*tex.rule_thickness,subscriptshift=this.length2em(this.node.attributes.get("subscriptshift"),tex.sub2),drop=this.isCharBase()?0:basebox.d*basebox.rscale+tex.sub_drop*subbox.rscale,_a=__read([this.getU(basebox,supbox),Math.max(drop,subscriptshift)],2),u=_a[0],v=_a[1],q=u-supbox.d*supbox.rscale-(subbox.h*subbox.rscale-v);if(t>q){v+=t-q;var p=.8*tex.x_height-(u-supbox.d*supbox.rscale);p>0&&(u+=p,v-=p)}return u=Math.max(this.length2em(this.node.attributes.get("superscriptshift"),u),u),v=Math.max(this.length2em(this.node.attributes.get("subscriptshift"),v),v),q=u-supbox.d*supbox.rscale-(subbox.h*subbox.rscale-v),this.UVQ=[u,-v,q],this.UVQ},class_3}(Base)}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonMsubsupMixin=exports.CommonMsupMixin=exports.CommonMsubMixin=void 0,exports.CommonMsubMixin=CommonMsubMixin,exports.CommonMsupMixin=CommonMsupMixin,exports.CommonMsubsupMixin=CommonMsubsupMixin},function(module,exports,__webpack_require__){"use strict";function CommonMunderMixin(Base){return function(_super){function class_1(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var _this=_super.apply(this,__spread(args))||this;return _this.stretchChildren(),_this}return __extends(class_1,_super),Object.defineProperty(class_1.prototype,"script",{get:function(){return this.childNodes[this.node.under]},enumerable:!1,configurable:!0}),class_1.prototype.computeBBox=function(bbox,recompute){if(void 0===recompute&&(recompute=!1),this.hasMovableLimits())return void _super.prototype.computeBBox.call(this,bbox,recompute);bbox.empty();var basebox=this.baseChild.getBBox(),underbox=this.script.getBBox(),v=this.getUnderKV(basebox,underbox)[1],delta=this.getDelta(!0),_a=__read(this.getDeltaW([basebox,underbox],[0,-delta]),2),bw=_a[0],uw=_a[1];bbox.combine(basebox,bw,0),bbox.combine(underbox,uw,v),bbox.d+=this.font.params.big_op_spacing5,bbox.ic=-this.baseCore.bbox.ic,bbox.clean(),this.setChildPWidths(recompute)},class_1}(Base)}function CommonMoverMixin(Base){return function(_super){function class_2(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var _this=_super.apply(this,__spread(args))||this;return _this.stretchChildren(),_this}return __extends(class_2,_super),Object.defineProperty(class_2.prototype,"script",{get:function(){return this.childNodes[this.node.over]},enumerable:!1,configurable:!0}),class_2.prototype.computeBBox=function(bbox){if(this.hasMovableLimits())return void _super.prototype.computeBBox.call(this,bbox);bbox.empty();var basebox=this.baseChild.getBBox(),overbox=this.script.getBBox(),u=this.getOverKU(basebox,overbox)[1],delta=this.getDelta(),_a=__read(this.getDeltaW([basebox,overbox],[0,delta]),2),bw=_a[0],ow=_a[1];bbox.combine(basebox,bw,0),bbox.combine(overbox,ow,u),bbox.h+=this.font.params.big_op_spacing5,bbox.ic=-this.baseCore.bbox.ic,bbox.clean()},class_2}(Base)}function CommonMunderoverMixin(Base){return function(_super){function class_3(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var _this=_super.apply(this,__spread(args))||this;return _this.stretchChildren(),_this}return __extends(class_3,_super),Object.defineProperty(class_3.prototype,"underChild",{get:function(){return this.childNodes[this.node.under]},enumerable:!1,configurable:!0}),Object.defineProperty(class_3.prototype,"overChild",{get:function(){return this.childNodes[this.node.over]},enumerable:!1,configurable:!0}),Object.defineProperty(class_3.prototype,"subChild",{get:function(){return this.underChild},enumerable:!1,configurable:!0}),Object.defineProperty(class_3.prototype,"supChild",{get:function(){return this.overChild},enumerable:!1,configurable:!0}),class_3.prototype.computeBBox=function(bbox){if(this.hasMovableLimits())return void _super.prototype.computeBBox.call(this,bbox);bbox.empty();var overbox=this.overChild.getBBox(),basebox=this.baseChild.getBBox(),underbox=this.underChild.getBBox(),u=this.getOverKU(basebox,overbox)[1],v=this.getUnderKV(basebox,underbox)[1],delta=this.getDelta(),_a=__read(this.getDeltaW([basebox,underbox,overbox],[0,-delta,delta]),3),bw=_a[0],uw=_a[1],ow=_a[2];bbox.combine(basebox,bw,0),bbox.combine(overbox,ow,u),bbox.combine(underbox,uw,v);var z=this.font.params.big_op_spacing5;bbox.h+=z,bbox.d+=z,bbox.ic=-this.baseCore.bbox.ic,bbox.clean()},class_3}(Base)}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=this&&this.__spread||function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonMunderoverMixin=exports.CommonMoverMixin=exports.CommonMunderMixin=void 0,exports.CommonMunderMixin=CommonMunderMixin,exports.CommonMoverMixin=CommonMoverMixin,exports.CommonMunderoverMixin=CommonMunderoverMixin
},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGmsubsup=exports.SVGmsup=exports.SVGmsub=void 0;var scriptbase_js_1=__webpack_require__(57),msubsup_js_1=__webpack_require__(6),msubsup_js_2=__webpack_require__(6),msubsup_js_3=__webpack_require__(6),msubsup_js_4=__webpack_require__(94),SVGmsub=function(_super){function SVGmsub(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGmsub,_super),SVGmsub.kind=msubsup_js_4.MmlMsub.prototype.kind,SVGmsub.useIC=!1,SVGmsub}(msubsup_js_1.CommonMsubMixin(scriptbase_js_1.SVGscriptbase));exports.SVGmsub=SVGmsub;var SVGmsup=function(_super){function SVGmsup(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGmsup,_super),SVGmsup.kind=msubsup_js_4.MmlMsup.prototype.kind,SVGmsup.useIC=!0,SVGmsup}(msubsup_js_2.CommonMsupMixin(scriptbase_js_1.SVGscriptbase));exports.SVGmsup=SVGmsup;var SVGmsubsup=function(_super){function SVGmsubsup(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGmsubsup,_super),SVGmsubsup.prototype.toSVG=function(parent){var svg=this.standardSVGnode(parent),_a=__read([this.baseChild,this.supChild,this.subChild],3),base=_a[0],sup=_a[1],sub=_a[2],bbox=base.getBBox(),_b=__read(this.getUVQ(bbox,sub.getBBox(),sup.getBBox()),2),u=_b[0],v=_b[1],x=this.baseCore.bbox.ic?this.coreIC()*this.coreScale():0;base.toSVG(svg),sup.toSVG(svg),sub.toSVG(svg),sub.place(bbox.w*bbox.rscale,v),sup.place(bbox.w*bbox.rscale+x,u)},SVGmsubsup.kind=msubsup_js_4.MmlMsubsup.prototype.kind,SVGmsubsup.useIC=!1,SVGmsubsup}(msubsup_js_3.CommonMsubsupMixin(scriptbase_js_1.SVGscriptbase));exports.SVGmsubsup=SVGmsubsup},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;n>i;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)},__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVG=exports.XLINKNS=exports.SVGNS=void 0;var OutputJax_js_1=__webpack_require__(17),WrapperFactory_js_1=__webpack_require__(41),tex_js_1=__webpack_require__(105),FontCache_js_1=__webpack_require__(70),string_js_1=__webpack_require__(4),lengths_js_1=__webpack_require__(16);exports.SVGNS="http://www.w3.org/2000/svg",exports.XLINKNS="http://www.w3.org/1999/xlink";var SVG=function(_super){function SVG(options){void 0===options&&(options=null);var _this=_super.call(this,options,WrapperFactory_js_1.SVGWrapperFactory,tex_js_1.TeXFont)||this;return _this.minwidth=0,_this.shift=0,_this.container=null,_this.svgStyles=null,_this.fontCache=new FontCache_js_1.FontCache(_this),_this}return __extends(SVG,_super),SVG.prototype.initialize=function(){"global"===this.options.fontCache&&this.fontCache.clearCache()},SVG.prototype.clearFontCache=function(){this.fontCache.clearCache()},SVG.prototype.setScale=function(node){1!==this.options.scale&&this.adaptor.setStyle(node,"fontSize",lengths_js_1.percent(this.options.scale))},SVG.prototype.escaped=function(math,html){return this.setDocument(html),this.html("span",{},[this.text(math.math)])},SVG.prototype.styleSheet=function(html){if(this.svgStyles)return null;var sheet=this.svgStyles=_super.prototype.styleSheet.call(this,html);return this.adaptor.setAttribute(sheet,"id",SVG.STYLESHEETID),sheet},SVG.prototype.pageElements=function(html){return"global"!==this.options.fontCache||this.findCache(html)?null:this.svg("svg",{id:SVG.FONTCACHEID,style:{display:"none"}},[this.fontCache.getCache()])},SVG.prototype.findCache=function(html){for(var adaptor=this.adaptor,svgs=adaptor.tags(adaptor.body(html.document),"svg"),i=svgs.length-1;i>=0;i--)if(this.adaptor.getAttribute(svgs[i],"id")===SVG.FONTCACHEID)return!0;return!1},SVG.prototype.processMath=function(math,parent){var container=this.container;this.container=parent;var wrapper=this.factory.wrap(math),_a=__read(this.createRoot(wrapper),2),svg=_a[0],g=_a[1];this.typesetSVG(wrapper,svg,g),this.container=container},SVG.prototype.createRoot=function(wrapper){var _a=wrapper.getBBox(),w=_a.w,h=_a.h,d=_a.d,pwidth=_a.pwidth,W=Math.max(w,.001),g=this.svg("g",{stroke:"currentColor",fill:"currentColor","stroke-width":0,transform:"matrix(1 0 0 -1 0 0)"}),adaptor=this.adaptor,svg=adaptor.append(this.container,this.svg("svg",{xmlns:exports.SVGNS,width:this.ex(W),height:this.ex(h+d),role:"img",focusable:!1,style:{"vertical-align":this.ex(-d)},viewBox:[0,this.fixed(1e3*-h,1),this.fixed(1e3*W,1),this.fixed(1e3*(h+d),1)].join(" ")},[g]));if(.001===W&&(adaptor.setAttribute(svg,"preserveAspectRatio","xMidYMid slice"),0>w&&adaptor.setStyle(this.container,"margin-right",this.ex(w))),pwidth){adaptor.setStyle(svg,"min-width",this.ex(W)),adaptor.setAttribute(svg,"width",pwidth),adaptor.removeAttribute(svg,"viewBox");var scale=wrapper.metrics.ex/(1e3*this.font.params.x_height);adaptor.setAttribute(g,"transform","matrix(1 0 0 -1 0 0) scale("+this.fixed(scale,6)+") translate(0, "+this.fixed(1e3*-h,1)+")")}return"none"!==this.options.fontCache&&adaptor.setAttribute(svg,"xmlns:xlink",exports.XLINKNS),[svg,g]},SVG.prototype.typesetSVG=function(wrapper,svg,g){var adaptor=this.adaptor;if(this.minwidth=this.shift=0,"local"===this.options.fontCache&&(this.fontCache.clearCache(),this.fontCache.useLocalID(this.options.localID),adaptor.insert(this.fontCache.getCache(),g)),wrapper.toSVG(g),this.fontCache.clearLocalID(),this.minwidth)adaptor.setStyle(svg,"minWidth",this.ex(this.minwidth)),adaptor.setStyle(this.container,"minWidth",this.ex(this.minwidth));else if(this.shift){var align=adaptor.getAttribute(this.container,"justify")||"center";this.setIndent(svg,align,this.shift)}},SVG.prototype.setIndent=function(svg,align,shift){("center"===align||"left"===align)&&this.adaptor.setStyle(svg,"margin-left",this.ex(shift)),("center"===align||"right"===align)&&this.adaptor.setStyle(svg,"margin-right",this.ex(-shift))},SVG.prototype.ex=function(m){return m/=this.font.params.x_height,Math.abs(m)<.001?"0":m.toFixed(3).replace(/\.?0+$/,"")+"ex"},SVG.prototype.svg=function(kind,properties,children){return void 0===properties&&(properties={}),void 0===children&&(children=[]),this.html(kind,properties,children,exports.SVGNS)},SVG.prototype.unknownText=function(text,variant){var metrics=this.math.metrics,scale=this.font.params.x_height/metrics.ex*metrics.em*1e3,svg=this.svg("text",{"data-variant":variant,transform:"matrix(1 0 0 -1 0 0)","font-size":this.fixed(scale,1)+"px"},[this.text(text)]),adaptor=this.adaptor;if("-explicitFont"!==variant){var c=string_js_1.unicodeChars(text);if(1!==c.length||c[0]<119808||c[0]>120831){var _a=__read(this.font.getCssFont(variant),3),family=_a[0],italic=_a[1],bold=_a[2];adaptor.setAttribute(svg,"font-family",family),italic&&adaptor.setAttribute(svg,"font-style","italic"),bold&&adaptor.setAttribute(svg,"font-weight","bold")}}return svg},SVG.prototype.measureTextNode=function(text){var adaptor=this.adaptor;text=adaptor.clone(text),adaptor.removeAttribute(text,"transform");var ex=this.fixed(1e3*this.font.params.x_height,1),svg=this.svg("svg",{position:"absolute",visibility:"hidden",width:"1ex",height:"1ex",viewBox:[0,0,ex,ex].join(" ")},[text]);adaptor.append(adaptor.body(adaptor.document),svg);var w=adaptor.nodeSize(text,1e3,!0)[0];return adaptor.remove(svg),{w:w,h:.75,d:.2}},SVG.NAME="SVG",SVG.OPTIONS=__assign(__assign({},OutputJax_js_1.CommonOutputJax.OPTIONS),{internalSpeechTitles:!0,titleID:0,fontCache:"local",localID:null}),SVG.commonStyles={'mjx-container[jax="SVG"]':{direction:"ltr"},'mjx-container[jax="SVG"] > svg':{overflow:"visible"},'mjx-container[jax="SVG"] > svg a':{fill:"blue",stroke:"blue"}},SVG.FONTCACHEID="MJX-SVG-global-cache",SVG.STYLESHEETID="MJX-SVG-styles",SVG}(OutputJax_js_1.CommonOutputJax);exports.SVG=SVG},function(module,exports,__webpack_require__){"use strict";function CommonMactionMixin(Base){return function(_super){function class_1(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var _this=_super.apply(this,__spread(args))||this,actions=_this.constructor.actions,action=_this.node.attributes.get("actiontype"),_a=__read(actions.get(action)||[function(_node,_data){},{}],2),handler=_a[0],data=_a[1];return _this.action=handler,_this.data=data,_this.getParameters(),_this}return __extends(class_1,_super),Object.defineProperty(class_1.prototype,"selected",{get:function(){var selection=this.node.attributes.get("selection"),i=Math.max(1,Math.min(this.childNodes.length,selection))-1;return this.childNodes[i]||this.wrap(this.node.selected)},enumerable:!1,configurable:!0}),class_1.prototype.getParameters=function(){var offsets=this.node.attributes.get("data-offsets"),_a=__read(string_js_1.split(offsets||""),2),dx=_a[0],dy=_a[1];this.dx=this.length2em(dx||exports.TooltipData.dx),this.dy=this.length2em(dy||exports.TooltipData.dy)},class_1.prototype.computeBBox=function(bbox,recompute){void 0===recompute&&(recompute=!1),bbox.updateFrom(this.selected.getBBox()),this.selected.setChildPWidths(recompute)},class_1}(Base)}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=this&&this.__spread||function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonMactionMixin=exports.TooltipData=void 0;var string_js_1=__webpack_require__(4);exports.TooltipData={dx:".2em",dy:".1em",postDelay:600,clearDelay:100,hoverTimer:new Map,clearTimer:new Map,stopTimers:function(node,data){data.clearTimer.has(node)&&(clearTimeout(data.clearTimer.get(node)),data.clearTimer["delete"](node)),data.hoverTimer.has(node)&&(clearTimeout(data.hoverTimer.get(node)),data.hoverTimer["delete"](node))}},exports.CommonMactionMixin=CommonMactionMixin},function(module,exports,__webpack_require__){"use strict";function CommonMrowMixin(Base){return function(_super){function class_1(){for(var e_1,_a,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var _this=_super.apply(this,__spread(args))||this;_this.stretchChildren();try{for(var _b=__values(_this.childNodes),_c=_b.next();!_c.done;_c=_b.next()){var child=_c.value;if(child.bbox.pwidth){_this.bbox.pwidth=BBox_js_1.BBox.fullWidth;break}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b["return"])&&_a.call(_b)}finally{if(e_1)throw e_1.error}}return _this}return __extends(class_1,_super),Object.defineProperty(class_1.prototype,"fixesPWidth",{get:function(){return!1},enumerable:!1,configurable:!0}),class_1.prototype.stretchChildren=function(){var e_2,_a,e_3,_b,e_4,_c,stretchy=[];try{for(var _d=__values(this.childNodes),_e=_d.next();!_e.done;_e=_d.next()){var child=_e.value;child.canStretch(1)&&stretchy.push(child)}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_e&&!_e.done&&(_a=_d["return"])&&_a.call(_d)}finally{if(e_2)throw e_2.error}}var count=stretchy.length,nodeCount=this.childNodes.length;if(count&&nodeCount>1){var H=0,D=0,all=count>1&&count===nodeCount;try{for(var _f=__values(this.childNodes),_g=_f.next();!_g.done;_g=_f.next()){var child=_g.value,noStretch=0===child.stretch.dir;if(all||noStretch){var _h=child.getBBox(noStretch),h=_h.h,d=_h.d;h>H&&(H=h),d>D&&(D=d)}}}catch(e_3_1){e_3={error:e_3_1}}finally{try{_g&&!_g.done&&(_b=_f["return"])&&_b.call(_f)}finally{if(e_3)throw e_3.error}}try{for(var stretchy_1=__values(stretchy),stretchy_1_1=stretchy_1.next();!stretchy_1_1.done;stretchy_1_1=stretchy_1.next()){var child=stretchy_1_1.value;child.coreMO().getStretchedVariant([H,D])}}catch(e_4_1){e_4={error:e_4_1}}finally{try{stretchy_1_1&&!stretchy_1_1.done&&(_c=stretchy_1["return"])&&_c.call(stretchy_1)}finally{if(e_4)throw e_4.error}}}},class_1}(Base)}function CommonInferredMrowMixin(Base){return function(_super){function class_2(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(class_2,_super),class_2.prototype.getScale=function(){this.bbox.scale=this.parent.bbox.scale,this.bbox.rscale=1},class_2}(Base)}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=this&&this.__spread||function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar},__values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonInferredMrowMixin=exports.CommonMrowMixin=void 0;var BBox_js_1=__webpack_require__(1);exports.CommonMrowMixin=CommonMrowMixin,exports.CommonInferredMrowMixin=CommonInferredMrowMixin},function(module,exports,__webpack_require__){"use strict";function CommonMtrMixin(Base){return function(_super){function class_1(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(class_1,_super),Object.defineProperty(class_1.prototype,"fixesPWidth",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(class_1.prototype,"numCells",{get:function(){return this.childNodes.length},enumerable:!1,configurable:!0}),Object.defineProperty(class_1.prototype,"labeled",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(class_1.prototype,"tableCells",{get:function(){return this.childNodes},enumerable:!1,configurable:!0}),class_1.prototype.getChild=function(i){return this.childNodes[i]},class_1.prototype.getChildBBoxes=function(){return this.childNodes.map(function(cell){return cell.getBBox()})},class_1.prototype.stretchChildren=function(HD){var e_1,_a,e_2,_b,e_3,_c;void 0===HD&&(HD=null);var stretchy=[],children=this.labeled?this.childNodes.slice(1):this.childNodes;try{for(var children_1=__values(children),children_1_1=children_1.next();!children_1_1.done;children_1_1=children_1.next()){var mtd=children_1_1.value,child=mtd.childNodes[0];child.canStretch(1)&&stretchy.push(child)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{children_1_1&&!children_1_1.done&&(_a=children_1["return"])&&_a.call(children_1)}finally{if(e_1)throw e_1.error}}var count=stretchy.length,nodeCount=this.childNodes.length;if(count&&nodeCount>1){if(null===HD){var H=0,D=0,all=count>1&&count===nodeCount;try{for(var children_2=__values(children),children_2_1=children_2.next();!children_2_1.done;children_2_1=children_2.next()){var mtd=children_2_1.value,child=mtd.childNodes[0],noStretch=0===child.stretch.dir;if(all||noStretch){var _d=child.getBBox(noStretch),h=_d.h,d=_d.d;h>H&&(H=h),d>D&&(D=d)}}}catch(e_2_1){e_2={error:e_2_1}}finally{try{children_2_1&&!children_2_1.done&&(_b=children_2["return"])&&_b.call(children_2)}finally{if(e_2)throw e_2.error}}HD=[H,D]}try{for(var stretchy_1=__values(stretchy),stretchy_1_1=stretchy_1.next();!stretchy_1_1.done;stretchy_1_1=stretchy_1.next()){var child=stretchy_1_1.value;child.coreMO().getStretchedVariant(HD)}}catch(e_3_1){e_3={error:e_3_1}}finally{try{stretchy_1_1&&!stretchy_1_1.done&&(_c=stretchy_1["return"])&&_c.call(stretchy_1)}finally{if(e_3)throw e_3.error}}}},class_1}(Base)}function CommonMlabeledtrMixin(Base){return function(_super){function class_2(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(class_2,_super),Object.defineProperty(class_2.prototype,"numCells",{get:function(){return Math.max(0,this.childNodes.length-1)},enumerable:!1,configurable:!0}),Object.defineProperty(class_2.prototype,"labeled",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(class_2.prototype,"tableCells",{get:function(){return this.childNodes.slice(1)},enumerable:!1,configurable:!0}),class_2.prototype.getChild=function(i){return this.childNodes[i+1]},class_2.prototype.getChildBBoxes=function(){return this.childNodes.slice(1).map(function(cell){return cell.getBBox()})},class_2}(Base)}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonMlabeledtrMixin=exports.CommonMtrMixin=void 0,exports.CommonMtrMixin=CommonMtrMixin,exports.CommonMlabeledtrMixin=CommonMlabeledtrMixin},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGmsqrt=void 0;var Wrapper_js_1=__webpack_require__(0),msqrt_js_1=__webpack_require__(35),msqrt_js_2=__webpack_require__(91),SVGmsqrt=function(_super){function SVGmsqrt(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.dx=0,_this}return __extends(SVGmsqrt,_super),SVGmsqrt.prototype.toSVG=function(parent){var surd=this.childNodes[this.surd],base=this.childNodes[this.base],root=this.root?this.childNodes[this.root]:null,rbox=this.getBBox(),sbox=surd.getBBox(),bbox=base.getBBox(),q=this.getPQ(sbox)[1],t=this.font.params.rule_thickness*this.bbox.scale,H=bbox.h+q+t,SVG=this.standardSVGnode(parent),BASE=this.adaptor.append(SVG,this.svg("g"));this.addRoot(SVG,root,sbox,H),surd.toSVG(SVG),surd.place(this.dx,rbox.h-sbox.h-t),base.toSVG(BASE),base.place(this.dx+sbox.w,0),this.adaptor.append(SVG,this.svg("rect",{width:this.fixed(bbox.w),height:this.fixed(t),x:this.fixed(this.dx+sbox.w),y:this.fixed(rbox.h-2*t)}))},SVGmsqrt.prototype.addRoot=function(_ROOT,_root,_sbox,_H){},SVGmsqrt.kind=msqrt_js_2.MmlMsqrt.prototype.kind,SVGmsqrt}(msqrt_js_1.CommonMsqrtMixin(Wrapper_js_1.SVGWrapper));exports.SVGmsqrt=SVGmsqrt},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isObject=MathJax._.components.global.isObject,exports.combineConfig=MathJax._.components.global.combineConfig,exports.combineDefaults=MathJax._.components.global.combineDefaults,exports.combineWithMathJax=MathJax._.components.global.combineWithMathJax,exports.MathJax=MathJax._.components.global.MathJax},function(module,exports,__webpack_require__){"use strict";function AddPaths(font,paths,content){var e_1,_a,e_2,_b;try{for(var _c=__values(Object.keys(paths)),_d=_c.next();!_d.done;_d=_c.next()){var c=_d.value,n=parseInt(c);SVGFontData.charOptions(font,n).p=paths[n]}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_d&&!_d.done&&(_a=_c["return"])&&_a.call(_c)}finally{if(e_1)throw e_1.error}}try{for(var _e=__values(Object.keys(content)),_f=_e.next();!_f.done;_f=_e.next()){var c=_f.value,n=parseInt(c);SVGFontData.charOptions(font,n).c=content[n]}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_f&&!_f.done&&(_b=_e["return"])&&_b.call(_e)}finally{if(e_2)throw e_2.error}}return font}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||exports.hasOwnProperty(p)||__createBinding(exports,m,p)},__values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.AddPaths=exports.SVGFontData=void 0;var FontData_js_1=__webpack_require__(2);__exportStar(__webpack_require__(2),exports);var SVGFontData=function(_super){function SVGFontData(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGFontData,_super),SVGFontData.charOptions=function(font,n){return _super.charOptions.call(this,font,n)},SVGFontData}(FontData_js_1.FontData);exports.SVGFontData=SVGFontData,exports.AddPaths=AddPaths},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BIGDIMEN=MathJax._.util.lengths.BIGDIMEN,exports.UNITS=MathJax._.util.lengths.UNITS,exports.RELUNITS=MathJax._.util.lengths.RELUNITS,exports.MATHSPACE=MathJax._.util.lengths.MATHSPACE,exports.length2em=MathJax._.util.lengths.length2em,exports.percent=MathJax._.util.lengths.percent,exports.em=MathJax._.util.lengths.em,exports.emRounded=MathJax._.util.lengths.emRounded,exports.px=MathJax._.util.lengths.px},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;n>i;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)},__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar},__values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonOutputJax=void 0;var OutputJax_js_1=__webpack_require__(72),MathItem_js_1=__webpack_require__(73),Options_js_1=__webpack_require__(74),lengths_js_1=__webpack_require__(16),Styles_js_1=__webpack_require__(71),StyleList_js_1=__webpack_require__(75),CommonOutputJax=function(_super){function CommonOutputJax(options,defaultFactory,defaultFont){void 0===options&&(options=null),void 0===defaultFactory&&(defaultFactory=null),void 0===defaultFont&&(defaultFont=null);var _this=this,_a=__read(Options_js_1.separateOptions(options,defaultFont.OPTIONS),2),jaxOptions=_a[0],fontOptions=_a[1];return _this=_super.call(this,jaxOptions)||this,_this.factory=_this.options.wrapperFactory||new defaultFactory,_this.factory.jax=_this,_this.cssStyles=_this.options.cssStyles||new StyleList_js_1.CssStyles,_this.font=_this.options.font||new defaultFont(fontOptions),_this.unknownCache=new Map,_this}return __extends(CommonOutputJax,_super),CommonOutputJax.prototype.typeset=function(math,html){this.setDocument(html);var node=this.createNode();return this.toDOM(math,node,html),node},CommonOutputJax.prototype.createNode=function(){var jax=this.constructor.NAME;return this.html("mjx-container",{"class":"MathJax",jax:jax})},CommonOutputJax.prototype.setScale=function(node){var scale=this.math.metrics.scale*this.options.scale;1!==scale&&this.adaptor.setStyle(node,"fontSize",lengths_js_1.percent(scale))},CommonOutputJax.prototype.toDOM=function(math,node,html){void 0===html&&(html=null),this.setDocument(html),this.math=math,this.pxPerEm=math.metrics.ex/this.font.params.x_height,math.root.setTeXclass(null),this.setScale(node),this.nodeMap=new Map,this.container=node,this.processMath(math.root,node),this.nodeMap=null,this.executeFilters(this.postFilters,math,html,node)},CommonOutputJax.prototype.getBBox=function(math,html){this.setDocument(html),this.math=math,math.root.setTeXclass(null),this.nodeMap=new Map;var bbox=this.factory.wrap(math.root).getBBox();return this.nodeMap=null,bbox},CommonOutputJax.prototype.getMetrics=function(html){var e_1,_a;this.setDocument(html);var adaptor=this.adaptor,maps=this.getMetricMaps(html);try{for(var _b=__values(html.math),_c=_b.next();!_c.done;_c=_b.next()){var math=_c.value,parent_1=adaptor.parent(math.start.node);if(math.state()<MathItem_js_1.STATE.METRICS&&parent_1){var map=maps[math.display?1:0],_d=map.get(parent_1),em=_d.em,ex=_d.ex,containerWidth=_d.containerWidth,lineWidth=_d.lineWidth,scale=_d.scale,family=_d.family;math.setMetrics(em,ex,containerWidth,lineWidth,scale),this.options.mtextInheritFont&&(math.outputData.mtextFamily=family),this.options.merrorInheritFont&&(math.outputData.merrorFamily=family),math.state(MathItem_js_1.STATE.METRICS)}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b["return"])&&_a.call(_b)}finally{if(e_1)throw e_1.error}}},CommonOutputJax.prototype.getMetricsFor=function(node,display){var getFamily=this.options.mtextInheritFont||this.options.merrorInheritFont,test=this.getTestElement(node,display),metrics=this.measureMetrics(test,getFamily);return this.adaptor.remove(test),metrics},CommonOutputJax.prototype.getMetricMaps=function(html){var e_2,_a,e_3,_b,e_4,_c,e_5,_d,e_6,_e,adaptor=this.adaptor,domMaps=[new Map,new Map];try{for(var _f=__values(html.math),_g=_f.next();!_g.done;_g=_f.next()){var math=_g.value,node=adaptor.parent(math.start.node);if(node&&math.state()<MathItem_js_1.STATE.METRICS){var map=domMaps[math.display?1:0];map.has(node)||map.set(node,this.getTestElement(node,math.display))}}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_g&&!_g.done&&(_a=_f["return"])&&_a.call(_f)}finally{if(e_2)throw e_2.error}}var getFamily=this.options.mtextInheritFont||this.options.merrorInheritFont,maps=[new Map,new Map];try{for(var _h=__values(maps.keys()),_j=_h.next();!_j.done;_j=_h.next()){var i=_j.value;try{for(var _k=(e_4=void 0,__values(domMaps[i].keys())),_l=_k.next();!_l.done;_l=_k.next()){var node=_l.value;maps[i].set(node,this.measureMetrics(domMaps[i].get(node),getFamily))}}catch(e_4_1){e_4={error:e_4_1}}finally{try{_l&&!_l.done&&(_c=_k["return"])&&_c.call(_k)}finally{if(e_4)throw e_4.error}}}}catch(e_3_1){e_3={error:e_3_1}}finally{try{_j&&!_j.done&&(_b=_h["return"])&&_b.call(_h)}finally{if(e_3)throw e_3.error}}try{for(var _m=__values(maps.keys()),_o=_m.next();!_o.done;_o=_m.next()){var i=_o.value;try{for(var _p=(e_6=void 0,__values(domMaps[i].values())),_q=_p.next();!_q.done;_q=_p.next()){var node=_q.value;adaptor.remove(node)}}catch(e_6_1){e_6={error:e_6_1}}finally{try{_q&&!_q.done&&(_e=_p["return"])&&_e.call(_p)}finally{if(e_6)throw e_6.error}}}}catch(e_5_1){e_5={error:e_5_1}}finally{try{_o&&!_o.done&&(_d=_m["return"])&&_d.call(_m)}finally{if(e_5)throw e_5.error}}return maps},CommonOutputJax.prototype.getTestElement=function(node,display){var adaptor=this.adaptor;if(!this.testInline){this.testInline=this.html("mjx-test",{style:{display:"inline-block",width:"100%","font-style":"normal","font-weight":"normal","font-size":"100%","font-size-adjust":"none","text-indent":0,"text-transform":"none","letter-spacing":"normal","word-spacing":"normal",overflow:"hidden",height:"1px","margin-right":"-1px"}},[this.html("mjx-left-box",{style:{display:"inline-block",width:0,"float":"left"}}),this.html("mjx-ex-box",{style:{position:"absolute",overflow:"hidden",width:"1px",height:"60ex"}}),this.html("mjx-right-box",{style:{display:"inline-block",width:0,"float":"right"}})]),this.testDisplay=adaptor.clone(this.testInline),adaptor.setStyle(this.testDisplay,"display","table"),adaptor.setStyle(this.testDisplay,"margin-right",""),adaptor.setStyle(adaptor.firstChild(this.testDisplay),"display","none");var right=adaptor.lastChild(this.testDisplay);adaptor.setStyle(right,"display","table-cell"),adaptor.setStyle(right,"width","10000em"),adaptor.setStyle(right,"float","")}return adaptor.append(node,adaptor.clone(display?this.testDisplay:this.testInline))},CommonOutputJax.prototype.measureMetrics=function(node,getFamily){var adaptor=this.adaptor,family=getFamily?adaptor.fontFamily(node):"",em=adaptor.fontSize(node),ex=adaptor.nodeSize(adaptor.childNode(node,1))[1]/60||em*this.options.exFactor,containerWidth="table"===adaptor.getStyle(node,"display")?adaptor.nodeSize(adaptor.lastChild(node))[0]-1:adaptor.nodeBBox(adaptor.lastChild(node)).left-adaptor.nodeBBox(adaptor.firstChild(node)).left-2,scale=Math.max(this.options.minScale,this.options.matchFontHeight?ex/this.font.params.x_height/em:1),lineWidth=1e6;
return{em:em,ex:ex,containerWidth:containerWidth,lineWidth:lineWidth,scale:scale,family:family}},CommonOutputJax.prototype.styleSheet=function(html){var e_7,_a,e_8,_b;if(this.setDocument(html),this.cssStyles.clear(),this.cssStyles.addStyles(this.constructor.commonStyles),"getStyles"in html)try{for(var _c=__values(html.getStyles()),_d=_c.next();!_d.done;_d=_c.next()){var styles=_d.value;this.cssStyles.addStyles(styles)}}catch(e_7_1){e_7={error:e_7_1}}finally{try{_d&&!_d.done&&(_a=_c["return"])&&_a.call(_c)}finally{if(e_7)throw e_7.error}}try{for(var _e=__values(this.factory.getKinds()),_f=_e.next();!_f.done;_f=_e.next()){var kind=_f.value;this.addClassStyles(this.factory.getNodeClass(kind))}}catch(e_8_1){e_8={error:e_8_1}}finally{try{_f&&!_f.done&&(_b=_e["return"])&&_b.call(_e)}finally{if(e_8)throw e_8.error}}this.cssStyles.addStyles(this.font.styles);var sheet=this.html("style",{id:"MJX-styles"},[this.text("\n"+this.cssStyles.cssText+"\n")]);return sheet},CommonOutputJax.prototype.addClassStyles=function(CLASS){this.cssStyles.addStyles(CLASS.styles)},CommonOutputJax.prototype.setDocument=function(html){html&&(this.document=html,this.adaptor.document=html.document)},CommonOutputJax.prototype.html=function(type,def,content,ns){return void 0===def&&(def={}),void 0===content&&(content=[]),this.adaptor.node(type,def,content,ns)},CommonOutputJax.prototype.text=function(text){return this.adaptor.text(text)},CommonOutputJax.prototype.fixed=function(m,n){return void 0===n&&(n=3),Math.abs(m)<6e-4?"0":m.toFixed(n).replace(/\.?0+$/,"")},CommonOutputJax.prototype.measureText=function(text,variant,font){void 0===font&&(font=["",!1,!1]);var node=this.unknownText(text,variant);if("-explicitFont"===variant){var styles=this.cssFontStyles(font);this.adaptor.setAttributes(node,{style:styles})}return this.measureTextNodeWithCache(node,text,variant,font)},CommonOutputJax.prototype.measureTextNodeWithCache=function(text,chars,variant,font){void 0===font&&(font=["",!1,!1]),"-explicitFont"===variant&&(variant=[font[0],font[1]?"T":"F",font[2]?"T":"F",""].join("-")),this.unknownCache.has(variant)||this.unknownCache.set(variant,new Map);var map=this.unknownCache.get(variant),cached=map.get(chars);if(cached)return cached;var bbox=this.measureTextNode(text);return map.set(chars,bbox),bbox},CommonOutputJax.prototype.measureXMLnode=function(xml){var adaptor=this.adaptor,content=this.html("mjx-xml-block",{style:{display:"inline-block"}},[adaptor.clone(xml)]),base=this.html("mjx-baseline",{style:{display:"inline-block",width:0,height:0}}),style={position:"absolute",display:"inline-block","font-family":"initial","line-height":"normal"},node=this.html("mjx-measure-xml",{style:style},[base,content]);adaptor.append(adaptor.parent(this.math.start.node),this.container),adaptor.append(this.container,node);var em=this.math.metrics.em*this.math.metrics.scale,_a=adaptor.nodeBBox(content),left=_a.left,right=_a.right,bottom=_a.bottom,top=_a.top,w=(right-left)/em,h=(adaptor.nodeBBox(base).top-top)/em,d=(bottom-top)/em-h;return adaptor.remove(this.container),adaptor.remove(node),{w:w,h:h,d:d}},CommonOutputJax.prototype.cssFontStyles=function(font,styles){void 0===styles&&(styles={});var _a=__read(font,3),family=_a[0],italic=_a[1],bold=_a[2];return styles["font-family"]=this.font.getFamily(family),italic&&(styles["font-style"]="italic"),bold&&(styles["font-weight"]="bold"),styles},CommonOutputJax.prototype.getFontData=function(styles){return styles||(styles=new Styles_js_1.Styles),[this.font.getFamily(styles.get("font-family")),"italic"===styles.get("font-style"),"bold"===styles.get("font-weight")]},CommonOutputJax.NAME="Common",CommonOutputJax.OPTIONS=__assign(__assign({},OutputJax_js_1.AbstractOutputJax.OPTIONS),{scale:1,minScale:.5,matchFontHeight:!0,mtextInheritFont:!1,merrorInheritFont:!1,mtextFont:"",merrorFont:"serif",mathmlSpacing:!1,skipAttributes:{},exFactor:.5,displayAlign:"center",displayIndent:"0",wrapperFactory:null,font:null,cssStyles:null}),CommonOutputJax.commonStyles={},CommonOutputJax}(OutputJax_js_1.AbstractOutputJax);exports.CommonOutputJax=CommonOutputJax},function(module,exports,__webpack_require__){"use strict";function MathMLSpace(script,size){return script?SMALLSIZE>size?0:SMALLSIZE:size}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=this&&this.__spread||function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonWrapper=void 0;var Wrapper_js_1=__webpack_require__(76),MmlNode_js_1=__webpack_require__(3),string_js_1=__webpack_require__(4),LENGTHS=__webpack_require__(16),Styles_js_1=__webpack_require__(71),BBox_js_1=__webpack_require__(1),FontData_js_1=__webpack_require__(2),SMALLSIZE=2/18,CommonWrapper=function(_super){function CommonWrapper(factory,node,parent){void 0===parent&&(parent=null);var _this=_super.call(this,factory,node)||this;return _this.parent=null,_this.removedStyles=null,_this.styles=null,_this.variant="",_this.bboxComputed=!1,_this.stretch=FontData_js_1.NOSTRETCH,_this.font=null,_this.parent=parent,_this.font=factory.jax.font,_this.bbox=BBox_js_1.BBox.zero(),_this.getStyles(),_this.getVariant(),_this.getScale(),_this.getSpace(),_this.childNodes=node.childNodes.map(function(child){var wrapped=_this.wrap(child);return wrapped.bbox.pwidth&&(node.notParent||node.isKind("math"))&&(_this.bbox.pwidth=BBox_js_1.BBox.fullWidth),wrapped}),_this}return __extends(CommonWrapper,_super),Object.defineProperty(CommonWrapper.prototype,"jax",{get:function(){return this.factory.jax},enumerable:!1,configurable:!0}),Object.defineProperty(CommonWrapper.prototype,"adaptor",{get:function(){return this.factory.jax.adaptor},enumerable:!1,configurable:!0}),Object.defineProperty(CommonWrapper.prototype,"metrics",{get:function(){return this.factory.jax.math.metrics},enumerable:!1,configurable:!0}),Object.defineProperty(CommonWrapper.prototype,"fixesPWidth",{get:function(){return!this.node.notParent&&!this.node.isToken},enumerable:!1,configurable:!0}),CommonWrapper.prototype.wrap=function(node,parent){void 0===parent&&(parent=null);var wrapped=this.factory.wrap(node,parent||this);return parent&&parent.childNodes.push(wrapped),this.jax.nodeMap.set(node,wrapped),wrapped},CommonWrapper.prototype.getBBox=function(save){if(void 0===save&&(save=!0),this.bboxComputed)return this.bbox;var bbox=save?this.bbox:BBox_js_1.BBox.zero();return this.computeBBox(bbox),this.bboxComputed=save,bbox},CommonWrapper.prototype.computeBBox=function(bbox,recompute){var e_1,_a;void 0===recompute&&(recompute=!1),bbox.empty();try{for(var _b=__values(this.childNodes),_c=_b.next();!_c.done;_c=_b.next()){var child=_c.value;bbox.append(child.getBBox())}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b["return"])&&_a.call(_b)}finally{if(e_1)throw e_1.error}}bbox.clean(),this.fixesPWidth&&this.setChildPWidths(recompute)&&this.computeBBox(bbox,!0)},CommonWrapper.prototype.setChildPWidths=function(recompute,w,clear){var e_2,_a;if(void 0===w&&(w=null),void 0===clear&&(clear=!0),recompute)return!1;clear&&(this.bbox.pwidth="");var changed=!1;try{for(var _b=__values(this.childNodes),_c=_b.next();!_c.done;_c=_b.next()){var child=_c.value,cbox=child.getBBox();cbox.pwidth&&child.setChildPWidths(recompute,null===w?cbox.w:w,clear)&&(changed=!0)}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_c&&!_c.done&&(_a=_b["return"])&&_a.call(_b)}finally{if(e_2)throw e_2.error}}return changed},CommonWrapper.prototype.invalidateBBox=function(){this.bboxComputed&&(this.bboxComputed=!1,this.parent&&this.parent.invalidateBBox())},CommonWrapper.prototype.copySkewIC=function(bbox){var first=this.childNodes[0];first&&first.bbox.sk&&(bbox.sk=first.bbox.sk);var last=this.childNodes[this.childNodes.length-1];last&&last.bbox.ic&&(bbox.ic=last.bbox.ic,bbox.w+=bbox.ic)},CommonWrapper.prototype.getStyles=function(){var styleString=this.node.attributes.getExplicit("style");if(styleString)for(var style=this.styles=new Styles_js_1.Styles(styleString),i=0,m=CommonWrapper.removeStyles.length;m>i;i++){var id=CommonWrapper.removeStyles[i];style.get(id)&&(this.removedStyles||(this.removedStyles={}),this.removedStyles[id]=style.get(id),style.set(id,""))}},CommonWrapper.prototype.getVariant=function(){if(this.node.isToken){var attributes=this.node.attributes,variant=attributes.get("mathvariant");if(!attributes.getExplicit("mathvariant")){var values=attributes.getList("fontfamily","fontweight","fontstyle");if(this.removedStyles){var style=this.removedStyles;style.fontFamily&&(values.family=style.fontFamily),style.fontWeight&&(values.weight=style.fontWeight),style.fontStyle&&(values.style=style.fontStyle)}values.fontfamily&&(values.family=values.fontfamily),values.fontweight&&(values.weight=values.fontweight),values.fontstyle&&(values.style=values.fontstyle),values.weight&&values.weight.match(/^\d+$/)&&(values.weight=parseInt(values.weight)>600?"bold":"normal"),values.family?variant=this.explicitVariant(values.family,values.weight,values.style):(this.node.getProperty("variantForm")&&(variant="-tex-variant"),variant=(CommonWrapper.BOLDVARIANTS[values.weight]||{})[variant]||variant,variant=(CommonWrapper.ITALICVARIANTS[values.style]||{})[variant]||variant)}this.variant=variant}},CommonWrapper.prototype.explicitVariant=function(fontFamily,fontWeight,fontStyle){var style=this.styles;return style||(style=this.styles=new Styles_js_1.Styles),style.set("fontFamily",fontFamily),fontWeight&&style.set("fontWeight",fontWeight),fontStyle&&style.set("fontStyle",fontStyle),"-explicitFont"},CommonWrapper.prototype.getScale=function(){var scale=1,parent=this.parent,pscale=parent?parent.bbox.scale:1,attributes=this.node.attributes,scriptlevel=Math.min(attributes.get("scriptlevel"),2),fontsize=attributes.get("fontsize"),mathsize=this.node.isToken||this.node.isKind("mstyle")?attributes.get("mathsize"):attributes.getInherited("mathsize");if(0!==scriptlevel){scale=Math.pow(attributes.get("scriptsizemultiplier"),scriptlevel);var scriptminsize=this.length2em(attributes.get("scriptminsize"),.8,1);scriptminsize>scale&&(scale=scriptminsize)}this.removedStyles&&this.removedStyles.fontSize&&!fontsize&&(fontsize=this.removedStyles.fontSize),fontsize&&!attributes.getExplicit("mathsize")&&(mathsize=fontsize),"1"!==mathsize&&(scale*=this.length2em(mathsize,1,1)),this.bbox.scale=scale,this.bbox.rscale=scale/pscale},CommonWrapper.prototype.getSpace=function(){var isTop=this.isTopEmbellished(),hasSpacing=this.node.hasSpacingAttributes();this.jax.options.mathmlSpacing||hasSpacing?isTop&&this.getMathMLSpacing():this.getTeXSpacing(isTop,hasSpacing)},CommonWrapper.prototype.getMathMLSpacing=function(){var node=this.node.coreMO(),attributes=node.attributes,isScript=attributes.get("scriptlevel")>0;this.bbox.L=attributes.isSet("lspace")?Math.max(0,this.length2em(attributes.get("lspace"))):MathMLSpace(isScript,node.lspace),this.bbox.R=attributes.isSet("rspace")?Math.max(0,this.length2em(attributes.get("rspace"))):MathMLSpace(isScript,node.rspace)},CommonWrapper.prototype.getTeXSpacing=function(isTop,hasSpacing){if(!hasSpacing){var space=this.node.texSpacing();space&&(this.bbox.L=this.length2em(space))}if(isTop||hasSpacing){var attributes=this.node.coreMO().attributes;attributes.isSet("lspace")&&(this.bbox.L=Math.max(0,this.length2em(attributes.get("lspace")))),attributes.isSet("rspace")&&(this.bbox.R=Math.max(0,this.length2em(attributes.get("rspace"))))}},CommonWrapper.prototype.isTopEmbellished=function(){return this.node.isEmbellished&&!(this.node.Parent&&this.node.Parent.isEmbellished)},CommonWrapper.prototype.core=function(){return this.jax.nodeMap.get(this.node.core())},CommonWrapper.prototype.coreMO=function(){return this.jax.nodeMap.get(this.node.coreMO())},CommonWrapper.prototype.getText=function(){var e_3,_a,text="";if(this.node.isToken)try{for(var _b=__values(this.node.childNodes),_c=_b.next();!_c.done;_c=_b.next()){var child=_c.value;child instanceof MmlNode_js_1.TextNode&&(text+=child.getText())}}catch(e_3_1){e_3={error:e_3_1}}finally{try{_c&&!_c.done&&(_a=_b["return"])&&_a.call(_b)}finally{if(e_3)throw e_3.error}}return text},CommonWrapper.prototype.canStretch=function(direction){if(this.stretch=FontData_js_1.NOSTRETCH,this.node.isEmbellished){var core=this.core();core&&core.node!==this.node&&core.canStretch(direction)&&(this.stretch=core.stretch)}return 0!==this.stretch.dir},CommonWrapper.prototype.getAlignShift=function(){var _a,_b=(_a=this.node.attributes).getList.apply(_a,__spread(MmlNode_js_1.indentAttributes)),indentalign=_b.indentalign,indentshift=_b.indentshift,indentalignfirst=_b.indentalignfirst,indentshiftfirst=_b.indentshiftfirst;"indentalign"!==indentalignfirst&&(indentalign=indentalignfirst),"auto"===indentalign&&(indentalign=this.jax.options.displayAlign),"indentshift"!==indentshiftfirst&&(indentshift=indentshiftfirst),"auto"===indentshift&&(indentshift=this.jax.options.displayIndent,"right"!==indentalign||indentshift.match(/^\s*0[a-z]*\s*$/)||(indentshift=("-"+indentshift.trim()).replace(/^--/,"")));var shift=this.length2em(indentshift,this.metrics.containerWidth);return[indentalign,shift]},CommonWrapper.prototype.getAlignX=function(W,bbox,align){return"right"===align?W-(bbox.w+bbox.R)*bbox.rscale:"left"===align?bbox.L*bbox.rscale:(W-bbox.w*bbox.rscale)/2},CommonWrapper.prototype.getAlignY=function(H,D,h,d,align){return"top"===align?H-h:"bottom"===align?d-D:"middle"===align?(H-h-(D-d))/2:0},CommonWrapper.prototype.getWrapWidth=function(i){return this.childNodes[i].getBBox().w},CommonWrapper.prototype.getChildAlign=function(_i){return"left"},CommonWrapper.prototype.percent=function(m){return LENGTHS.percent(m)},CommonWrapper.prototype.em=function(m){return LENGTHS.em(m)},CommonWrapper.prototype.px=function(m,M){return void 0===M&&(M=-LENGTHS.BIGDIMEN),LENGTHS.px(m,M,this.metrics.em)},CommonWrapper.prototype.length2em=function(length,size,scale){return void 0===size&&(size=1),void 0===scale&&(scale=null),null===scale&&(scale=this.bbox.scale),LENGTHS.length2em(length,size,scale,this.jax.pxPerEm)},CommonWrapper.prototype.unicodeChars=function(text,name){void 0===name&&(name=this.variant);var chars=string_js_1.unicodeChars(text),variant=this.font.getVariant(name);if(variant&&variant.chars){var map_1=variant.chars;chars=chars.map(function(n){return((map_1[n]||[])[3]||{}).smp||n})}return chars},CommonWrapper.prototype.remapChars=function(chars){return chars},CommonWrapper.prototype.mmlText=function(text){return this.node.factory.create("text").setText(text)},CommonWrapper.prototype.mmlNode=function(kind,properties,children){return void 0===properties&&(properties={}),void 0===children&&(children=[]),this.node.factory.create(kind,properties,children)},CommonWrapper.prototype.createMo=function(text){var mmlFactory=this.node.factory,textNode=mmlFactory.create("text").setText(text),mml=mmlFactory.create("mo",{stretchy:!0},[textNode]);mml.inheritAttributesFrom(this.node);var node=this.wrap(mml);return node.parent=this,node},CommonWrapper.prototype.getVariantChar=function(variant,n){var char=this.font.getChar(variant,n)||[0,0,0,{unknown:!0}];return 3===char.length&&(char[3]={}),char},CommonWrapper.kind="unknown",CommonWrapper.styles={},CommonWrapper.removeStyles=["fontSize","fontFamily","fontWeight","fontStyle","fontVariant","font"],CommonWrapper.skipAttributes={fontfamily:!0,fontsize:!0,fontweight:!0,fontstyle:!0,color:!0,background:!0,"class":!0,href:!0,style:!0,xmlns:!0},CommonWrapper.BOLDVARIANTS={bold:{normal:"bold",italic:"bold-italic",fraktur:"bold-fraktur",script:"bold-script","sans-serif":"bold-sans-serif","sans-serif-italic":"sans-serif-bold-italic"},normal:{bold:"normal","bold-italic":"italic","bold-fraktur":"fraktur","bold-script":"script","bold-sans-serif":"sans-serif","sans-serif-bold-italic":"sans-serif-italic"}},CommonWrapper.ITALICVARIANTS={italic:{normal:"italic",bold:"bold-italic","sans-serif":"sans-serif-italic","bold-sans-serif":"sans-serif-bold-italic"},normal:{italic:"normal","bold-italic":"bold","sans-serif-italic":"sans-serif","sans-serif-bold-italic":"bold-sans-serif"}},CommonWrapper}(Wrapper_js_1.AbstractWrapper);exports.CommonWrapper=CommonWrapper},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonWrapperFactory=void 0;var WrapperFactory_js_1=__webpack_require__(77),CommonWrapperFactory=function(_super){function CommonWrapperFactory(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.jax=null,_this}return __extends(CommonWrapperFactory,_super),Object.defineProperty(CommonWrapperFactory.prototype,"Wrappers",{get:function(){return this.node},enumerable:!1,configurable:!0}),CommonWrapperFactory.defaultNodes={},CommonWrapperFactory}(WrapperFactory_js_1.AbstractWrapperFactory);exports.CommonWrapperFactory=CommonWrapperFactory},function(module,exports,__webpack_require__){"use strict";function CommonTeXAtomMixin(Base){return function(_super){function class_1(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(class_1,_super),class_1.prototype.computeBBox=function(bbox,recompute){if(void 0===recompute&&(recompute=!1),_super.prototype.computeBBox.call(this,bbox,recompute),this.childNodes[0]&&this.childNodes[0].bbox.ic&&(bbox.ic=this.childNodes[0].bbox.ic),this.node.texClass===MmlNode_js_1.TEXCLASS.VCENTER){var h=bbox.h,d=bbox.d,a=this.font.params.axis_height,dh=(h+d)/2+a-h;bbox.h+=dh,bbox.d-=dh}},class_1}(Base)}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonTeXAtomMixin=void 0;var MmlNode_js_1=__webpack_require__(3);exports.CommonTeXAtomMixin=CommonTeXAtomMixin},function(module,exports,__webpack_require__){"use strict";function CommonTextNodeMixin(Base){return function(_super){function class_1(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(class_1,_super),class_1.prototype.computeBBox=function(bbox,_recompute){var e_1,_a;void 0===_recompute&&(_recompute=!1);var variant=this.parent.variant,text=this.node.getText();if("-explicitFont"===variant){var font=this.jax.getFontData(this.parent.styles),_b=this.jax.measureText(text,variant,font),w=_b.w,h=_b.h,d=_b.d;bbox.h=h,bbox.d=d,bbox.w=w}else{var chars=this.remappedText(text,variant);bbox.empty();try{for(var chars_1=__values(chars),chars_1_1=chars_1.next();!chars_1_1.done;chars_1_1=chars_1.next()){var char=chars_1_1.value,_c=__read(this.getVariantChar(variant,char),4),h=_c[0],d=_c[1],w=_c[2],data=_c[3];if(data.unknown){var cbox=this.jax.measureText(String.fromCodePoint(char),variant);w=cbox.w,h=cbox.h,d=cbox.d}bbox.w+=w,h>bbox.h&&(bbox.h=h),d>bbox.d&&(bbox.d=d),bbox.ic=data.ic||0,bbox.sk=data.sk||0}}catch(e_1_1){e_1={error:e_1_1}}finally{try{chars_1_1&&!chars_1_1.done&&(_a=chars_1["return"])&&_a.call(chars_1)}finally{if(e_1)throw e_1.error}}chars.length>1&&(bbox.sk=0),bbox.clean()}},class_1.prototype.remappedText=function(text,variant){var c=this.parent.stretch.c;return c?[c]:this.parent.remapChars(this.unicodeChars(text,variant))},class_1.prototype.getStyles=function(){},class_1.prototype.getVariant=function(){},class_1.prototype.getScale=function(){},class_1.prototype.getSpace=function(){},class_1}(Base)}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonTextNodeMixin=void 0,exports.CommonTextNodeMixin=CommonTextNodeMixin},function(module,exports,__webpack_require__){"use strict";function CommonMathMixin(Base){return function(_super){function class_1(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(class_1,_super),class_1.prototype.getWrapWidth=function(_i){return this.parent?this.getBBox().w:this.metrics.containerWidth/this.jax.pxPerEm},class_1}(Base)}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonMathMixin=void 0,exports.CommonMathMixin=CommonMathMixin},function(module,exports,__webpack_require__){"use strict";function CommonMencloseMixin(Base){return function(_super){function class_1(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var _this=_super.apply(this,__spread(args))||this;return _this.notations={},_this.renderChild=null,_this.msqrt=null,_this.padding=Notation.PADDING,_this.thickness=Notation.THICKNESS,_this.arrowhead={x:Notation.ARROWX,y:Notation.ARROWY,dx:Notation.ARROWDX},_this.getParameters(),_this.getNotations(),_this.removeRedundantNotations(),_this.initializeNotations(),_this}return __extends(class_1,_super),class_1.prototype.getParameters=function(){var attributes=this.node.attributes,padding=attributes.get("data-padding");void 0!==padding&&(this.padding=this.length2em(padding,Notation.PADDING));var thickness=attributes.get("data-thickness");void 0!==thickness&&(this.thickness=this.length2em(thickness,Notation.THICKNESS));var arrowhead=attributes.get("data-arrowhead");if(void 0!==arrowhead){var _b=__read(string_js_1.split(arrowhead),3),x=_b[0],y=_b[1],dx=_b[2];this.arrowhead={x:x?parseFloat(x):Notation.ARROWX,y:y?parseFloat(y):Notation.ARROWY,dx:dx?parseFloat(dx):Notation.ARROWDX}}},class_1.prototype.getNotations=function(){var e_1,_b,Notations=this.constructor.notations;try{for(var _c=__values(string_js_1.split(this.node.attributes.get("notation"))),_d=_c.next();!_d.done;_d=_c.next()){var name_1=_d.value,notation=Notations.get(name_1);notation&&(this.notations[name_1]=notation,notation.renderChild&&(this.renderChild=notation.renderer))}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_d&&!_d.done&&(_b=_c["return"])&&_b.call(_c)}finally{if(e_1)throw e_1.error}}},class_1.prototype.removeRedundantNotations=function(){var e_2,_b,e_3,_c;try{for(var _d=__values(Object.keys(this.notations)),_e=_d.next();!_e.done;_e=_d.next()){var name_2=_e.value;if(this.notations[name_2]){var remove=this.notations[name_2].remove||"";try{for(var _f=(e_3=void 0,__values(remove.split(/ /))),_g=_f.next();!_g.done;_g=_f.next()){var notation=_g.value;delete this.notations[notation]}}catch(e_3_1){e_3={error:e_3_1}}finally{try{_g&&!_g.done&&(_c=_f["return"])&&_c.call(_f)}finally{if(e_3)throw e_3.error}}}}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_e&&!_e.done&&(_b=_d["return"])&&_b.call(_d)}finally{if(e_2)throw e_2.error}}},class_1.prototype.initializeNotations=function(){var e_4,_b;try{for(var _c=__values(Object.keys(this.notations)),_d=_c.next();!_d.done;_d=_c.next()){var name_3=_d.value,init=this.notations[name_3].init;init&&init(this)}}catch(e_4_1){e_4={error:e_4_1}}finally{try{_d&&!_d.done&&(_b=_c["return"])&&_b.call(_c)}finally{if(e_4)throw e_4.error}}},class_1.prototype.computeBBox=function(bbox,recompute){void 0===recompute&&(recompute=!1);var _b=__read(this.getBBoxExtenders(),4),T=_b[0],R=_b[1],B=_b[2],L=_b[3],child=this.childNodes[0].getBBox();bbox.combine(child,L,0),bbox.h+=T,bbox.d+=B,bbox.w+=R,this.setChildPWidths(recompute)},class_1.prototype.getBBoxExtenders=function(){var e_5,_b,TRBL=[0,0,0,0];try{for(var _c=__values(Object.keys(this.notations)),_d=_c.next();!_d.done;_d=_c.next()){var name_4=_d.value;this.maximizeEntries(TRBL,this.notations[name_4].bbox(this))}}catch(e_5_1){e_5={error:e_5_1}}finally{try{_d&&!_d.done&&(_b=_c["return"])&&_b.call(_c)}finally{if(e_5)throw e_5.error}}return TRBL},class_1.prototype.getPadding=function(){var e_6,_b,TRBL=[0,0,0,0],BTRBL=[0,0,0,0];try{for(var _c=__values(Object.keys(this.notations)),_d=_c.next();!_d.done;_d=_c.next()){var name_5=_d.value;this.maximizeEntries(TRBL,this.notations[name_5].bbox(this));var border=this.notations[name_5].border;border&&this.maximizeEntries(BTRBL,border(this))}}catch(e_6_1){e_6={error:e_6_1}}finally{try{_d&&!_d.done&&(_b=_c["return"])&&_b.call(_c)}finally{if(e_6)throw e_6.error}}return[0,1,2,3].map(function(i){return TRBL[i]-BTRBL[i]})},class_1.prototype.maximizeEntries=function(X,Y){for(var i=0;i<X.length;i++)X[i]<Y[i]&&(X[i]=Y[i])},class_1.prototype.getArgMod=function(w,h){return[Math.atan2(h,w),Math.sqrt(w*w+h*h)]},class_1.prototype.arrow=function(_w,_a,_double){return void 0===_double&&(_double=!1),null},class_1.prototype.arrowData=function(){var _b=__read([this.padding,this.thickness],2),p=_b[0],t=_b[1],r=t*(this.arrowhead.x+Math.max(1,this.arrowhead.dx)),_c=this.childNodes[0].getBBox(),h=_c.h,d=_c.d,w=_c.w,H=h+d,R=Math.sqrt(H*H+w*w),x=Math.max(p,r*w/R),y=Math.max(p,r*H/R),_d=__read(this.getArgMod(w+2*x,H+2*y),2),a=_d[0],W=_d[1];return{a:a,W:W,x:x,y:y}},class_1.prototype.createMsqrt=function(child){var mmlFactory=this.node.factory,mml=mmlFactory.create("msqrt");mml.inheritAttributesFrom(this.node),mml.childNodes[0]=child.node;var node=this.wrap(mml);return node.parent=this,node},class_1.prototype.sqrtTRBL=function(){var bbox=this.msqrt.getBBox(),cbox=this.msqrt.childNodes[0].getBBox();return[bbox.h-cbox.h,0,bbox.d-cbox.d,bbox.w-cbox.w]},class_1}(Base)}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=this&&this.__spread||function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar},__values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonMencloseMixin=void 0;var Notation=__webpack_require__(5),string_js_1=__webpack_require__(4);exports.CommonMencloseMixin=CommonMencloseMixin},function(module,exports,__webpack_require__){"use strict";function CommonMfencedMixin(Base){return function(_super){function class_1(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var _this=_super.apply(this,__spread(args))||this;return _this.mrow=null,_this.createMrow(),_this.addMrowChildren(),_this}return __extends(class_1,_super),class_1.prototype.createMrow=function(){var mmlFactory=this.node.factory,mrow=mmlFactory.create("inferredMrow");mrow.inheritAttributesFrom(this.node),this.mrow=this.wrap(mrow),this.mrow.parent=this},class_1.prototype.addMrowChildren=function(){var e_1,_a,mfenced=this.node,mrow=this.mrow;this.addMo(mfenced.open),this.childNodes.length&&mrow.childNodes.push(this.childNodes[0]);var i=0;try{for(var _b=__values(this.childNodes.slice(1)),_c=_b.next();!_c.done;_c=_b.next()){var child=_c.value;this.addMo(mfenced.separators[i++]),mrow.childNodes.push(child)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b["return"])&&_a.call(_b)}finally{if(e_1)throw e_1.error}}this.addMo(mfenced.close),mrow.stretchChildren()},class_1.prototype.addMo=function(node){if(node){var mo=this.wrap(node);this.mrow.childNodes.push(mo),mo.parent=this.mrow}},class_1.prototype.computeBBox=function(bbox,recompute){void 0===recompute&&(recompute=!1),bbox.updateFrom(this.mrow.getBBox()),this.setChildPWidths(recompute)},class_1}(Base)}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=this&&this.__spread||function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar},__values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonMfencedMixin=void 0,exports.CommonMfencedMixin=CommonMfencedMixin
},function(module,exports,__webpack_require__){"use strict";function CommonMfracMixin(Base){return function(_super){function class_1(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var _this=_super.apply(this,__spread(args))||this;if(_this.bevel=null,_this.pad=_this.node.getProperty("withDelims")?0:_this.font.params.nulldelimiterspace,_this.node.attributes.get("bevelled")){var H=_this.getBevelData(_this.isDisplay()).H,bevel=_this.bevel=_this.createMo("/");bevel.canStretch(1),bevel.getStretchedVariant([H],!0)}return _this}return __extends(class_1,_super),class_1.prototype.computeBBox=function(bbox,recompute){void 0===recompute&&(recompute=!1),bbox.empty();var _a=this.node.attributes.getList("linethickness","bevelled"),linethickness=_a.linethickness,bevelled=_a.bevelled,display=this.isDisplay(),w=null;if(bevelled)this.getBevelledBBox(bbox,display);else{var thickness=this.length2em(String(linethickness),.06);w=-2*this.pad,0===thickness?this.getAtopBBox(bbox,display):(this.getFractionBBox(bbox,display,thickness),w-=.2),w+=bbox.w}bbox.clean(),this.setChildPWidths(recompute,w)},class_1.prototype.getFractionBBox=function(bbox,display,t){var nbox=this.childNodes[0].getBBox(),dbox=this.childNodes[1].getBBox(),tex=this.font.params,a=tex.axis_height,_a=this.getTUV(display,t),T=_a.T,u=_a.u,v=_a.v;bbox.combine(nbox,0,a+T+Math.max(nbox.d*nbox.rscale,u)),bbox.combine(dbox,0,a-T-Math.max(dbox.h*dbox.rscale,v)),bbox.w+=2*this.pad+.2},class_1.prototype.getTUV=function(display,t){var tex=this.font.params,a=tex.axis_height,T=(display?3.5:1.5)*t;return{T:(display?3.5:1.5)*t,u:(display?tex.num1:tex.num2)-a-T,v:(display?tex.denom1:tex.denom2)+a-T}},class_1.prototype.getAtopBBox=function(bbox,display){var _a=this.getUVQ(display),u=_a.u,v=_a.v,nbox=_a.nbox,dbox=_a.dbox;bbox.combine(nbox,0,u),bbox.combine(dbox,0,-v),bbox.w+=2*this.pad},class_1.prototype.getUVQ=function(display){var nbox=this.childNodes[0].getBBox(),dbox=this.childNodes[1].getBBox(),tex=this.font.params,_a=__read(display?[tex.num1,tex.denom1]:[tex.num3,tex.denom2],2),u=_a[0],v=_a[1],p=(display?7:3)*tex.rule_thickness,q=u-nbox.d*nbox.scale-(dbox.h*dbox.scale-v);return p>q&&(u+=(p-q)/2,v+=(p-q)/2,q=p),{u:u,v:v,q:q,nbox:nbox,dbox:dbox}},class_1.prototype.getBevelledBBox=function(bbox,display){var _a=this.getBevelData(display),u=_a.u,v=_a.v,delta=_a.delta,nbox=_a.nbox,dbox=_a.dbox,lbox=this.bevel.getBBox();bbox.combine(nbox,0,u),bbox.combine(lbox,bbox.w-delta/2,0),bbox.combine(dbox,bbox.w-delta/2,v)},class_1.prototype.getBevelData=function(display){var nbox=this.childNodes[0].getBBox(),dbox=this.childNodes[1].getBBox(),delta=display?.4:.15,H=Math.max(nbox.scale*(nbox.h+nbox.d),dbox.scale*(dbox.h+dbox.d))+2*delta,a=this.font.params.axis_height,u=nbox.scale*(nbox.d-nbox.h)/2+a+delta,v=dbox.scale*(dbox.d-dbox.h)/2+a-delta;return{H:H,delta:delta,u:u,v:v,nbox:nbox,dbox:dbox}},class_1.prototype.canStretch=function(_direction){return!1},class_1.prototype.isDisplay=function(){var _a=this.node.attributes.getList("displaystyle","scriptlevel"),displaystyle=_a.displaystyle,scriptlevel=_a.scriptlevel;return displaystyle&&0===scriptlevel},class_1.prototype.getWrapWidth=function(i){var attributes=this.node.attributes;if(attributes.get("bevelled"))return this.childNodes[i].getBBox().w;var w=this.getBBox().w,thickness=this.length2em(attributes.get("linethickness"));return w-(thickness?.2:0)-2*this.pad},class_1.prototype.getChildAlign=function(i){var attributes=this.node.attributes;return attributes.get("bevelled")?"left":attributes.get(["numalign","denomalign"][i])},class_1}(Base)}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=this&&this.__spread||function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonMfracMixin=void 0,exports.CommonMfracMixin=CommonMfracMixin},function(module,exports,__webpack_require__){"use strict";function CommonMglyphMixin(Base){return function(_super){function class_1(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var _this=_super.apply(this,__spread(args))||this;return _this.getParameters(),_this}return __extends(class_1,_super),class_1.prototype.getParameters=function(){var _a=this.node.attributes.getList("width","height","valign"),width=_a.width,height=_a.height,valign=_a.valign;this.width="auto"===width?1:this.length2em(width),this.height="auto"===height?1:this.length2em(height),this.valign=this.length2em(valign||"0")},class_1.prototype.computeBBox=function(bbox,_recompute){void 0===_recompute&&(_recompute=!1),bbox.w=this.width,bbox.h=this.height+this.valign,bbox.d=-this.valign},class_1}(Base)}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=this&&this.__spread||function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonMglyphMixin=void 0,exports.CommonMglyphMixin=CommonMglyphMixin},function(module,exports,__webpack_require__){"use strict";function CommonMiMixin(Base){return function(_super){function class_1(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.noIC=!1,_this}return __extends(class_1,_super),class_1.prototype.computeBBox=function(bbox,_recompute){void 0===_recompute&&(_recompute=!1),_super.prototype.computeBBox.call(this,bbox),this.copySkewIC(bbox),this.noIC&&(bbox.w-=bbox.ic)},class_1}(Base)}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonMiMixin=void 0,exports.CommonMiMixin=CommonMiMixin},function(module,exports,__webpack_require__){"use strict";function CommonMmultiscriptsMixin(Base){return function(_super){function class_1(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.scriptData=null,_this.firstPrescript=0,_this}return __extends(class_1,_super),class_1.prototype.combinePrePost=function(pre,post){var bbox=new BBox_js_1.BBox(pre);return bbox.combine(post,0,0),bbox},class_1.prototype.computeBBox=function(bbox,recompute){void 0===recompute&&(recompute=!1);var scriptspace=this.font.params.scriptspace,data=this.getScriptData(),sub=this.combinePrePost(data.sub,data.psub),sup=this.combinePrePost(data.sup,data.psup),_a=__read(this.getUVQ(data.base,sub,sup),2),u=_a[0],v=_a[1];if(bbox.empty(),data.numPrescripts&&(bbox.combine(data.psup,scriptspace,u),bbox.combine(data.psub,scriptspace,v)),bbox.append(data.base),data.numScripts){var w=bbox.w;bbox.combine(data.sup,w,u),bbox.combine(data.sub,w,v),bbox.w+=scriptspace}bbox.clean(),this.setChildPWidths(recompute)},class_1.prototype.getScriptData=function(){if(this.scriptData)return this.scriptData;var data=this.scriptData={base:null,sub:BBox_js_1.BBox.empty(),sup:BBox_js_1.BBox.empty(),psub:BBox_js_1.BBox.empty(),psup:BBox_js_1.BBox.empty(),numPrescripts:0,numScripts:0},lists=this.getScriptBBoxLists();return this.combineBBoxLists(data.sub,data.sup,lists.subList,lists.supList),this.combineBBoxLists(data.psub,data.psup,lists.psubList,lists.psupList),this.scriptData.base=lists.base[0],this.scriptData.numPrescripts=lists.psubList.length,this.scriptData.numScripts=lists.subList.length,this.scriptData},class_1.prototype.getScriptBBoxLists=function(){var e_1,_a,lists={base:[],subList:[],supList:[],psubList:[],psupList:[]},script="base";try{for(var _b=__values(this.childNodes),_c=_b.next();!_c.done;_c=_b.next()){var child=_c.value;child.node.isKind("mprescripts")?script="psubList":(lists[script].push(child.getBBox()),script=exports.NextScript[script])}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b["return"])&&_a.call(_b)}finally{if(e_1)throw e_1.error}}return this.firstPrescript=lists.subList.length+lists.supList.length+2,this.padLists(lists.subList,lists.supList),this.padLists(lists.psubList,lists.psupList),lists},class_1.prototype.padLists=function(list1,list2){list1.length>list2.length&&list2.push(BBox_js_1.BBox.empty())},class_1.prototype.combineBBoxLists=function(bbox1,bbox2,list1,list2){for(var i=0;i<list1.length;i++){var _a=__read(this.getScaledWHD(list1[i]),3),w1=_a[0],h1=_a[1],d1=_a[2],_b=__read(this.getScaledWHD(list2[i]),3),w2=_b[0],h2=_b[1],d2=_b[2],w=Math.max(w1,w2);bbox1.w+=w,bbox2.w+=w,h1>bbox1.h&&(bbox1.h=h1),d1>bbox1.d&&(bbox1.d=d1),h2>bbox2.h&&(bbox2.h=h2),d2>bbox2.d&&(bbox2.d=d2)}},class_1.prototype.getScaledWHD=function(bbox){var w=bbox.w,h=bbox.h,d=bbox.d,rscale=bbox.rscale;return[w*rscale,h*rscale,d*rscale]},class_1.prototype.getUVQ=function(basebox,subbox,supbox){var _a;if(!this.UVQ){var _b=__read([0,0,0],3),u=_b[0],v=_b[1],q=_b[2];0===subbox.h&&0===subbox.d?u=this.getU(basebox,supbox):0===supbox.h&&0===supbox.d?u=-this.getV(basebox,subbox):(_a=__read(_super.prototype.getUVQ.call(this,basebox,subbox,supbox),3),u=_a[0],v=_a[1],q=_a[2]),this.UVQ=[u,v,q]}return this.UVQ},class_1}(Base)}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar},__values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonMmultiscriptsMixin=exports.ScriptNames=exports.NextScript=void 0;var BBox_js_1=__webpack_require__(1);exports.NextScript={base:"subList",subList:"supList",supList:"subList",psubList:"psupList",psupList:"psubList"},exports.ScriptNames=["sup","sup","psup","psub"],exports.CommonMmultiscriptsMixin=CommonMmultiscriptsMixin},function(module,exports,__webpack_require__){"use strict";function CommonMnMixin(Base){return function(_super){function class_1(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(class_1,_super),class_1.prototype.remapChars=function(chars){if(chars.length){var text=this.font.getRemappedChar("mn",chars[0]);if(text){var c=this.unicodeChars(text,this.variant);1===c.length?chars[0]=c[0]:chars=c.concat(chars.slice(1))}}return chars},class_1}(Base)}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonMnMixin=void 0,exports.CommonMnMixin=CommonMnMixin},function(module,exports,__webpack_require__){"use strict";function CommonMoMixin(Base){return function(_super){function class_1(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var _this=_super.apply(this,__spread(args))||this;return _this.noIC=!1,_this.size=null,_this.isAccent=_this.node.isAccent,_this}return __extends(class_1,_super),class_1.prototype.computeBBox=function(bbox,_recompute){void 0===_recompute&&(_recompute=!1);var stretchy=0!==this.stretch.dir;if(stretchy&&null===this.size&&this.getStretchedVariant([0]),!(stretchy&&this.size<0)&&(_super.prototype.computeBBox.call(this,bbox),this.copySkewIC(bbox),this.noIC&&(bbox.w-=bbox.ic),this.node.attributes.get("symmetric")&&2!==this.stretch.dir)){var d=(bbox.h+bbox.d)/2+this.font.params.axis_height-bbox.h;bbox.h+=d,bbox.d-=d}},class_1.prototype.getVariant=function(){this.node.attributes.get("largeop")?this.variant=this.node.attributes.get("displaystyle")?"-largeop":"-smallop":_super.prototype.getVariant.call(this)},class_1.prototype.canStretch=function(direction){if(0!==this.stretch.dir)return this.stretch.dir===direction;var attributes=this.node.attributes;if(!attributes.get("stretchy"))return!1;var c=this.getText();if(1!==Array.from(c).length)return!1;var delim=this.font.getDelimiter(c.codePointAt(0));return this.stretch=delim&&delim.dir===direction?delim:FontData_js_1.NOSTRETCH,0!==this.stretch.dir},class_1.prototype.getStretchedVariant=function(WH,exact){var e_1,_a;if(void 0===exact&&(exact=!1),0!==this.stretch.dir){var D=this.getWH(WH),min=this.getSize("minsize",0),max=this.getSize("maxsize",1/0);D=Math.max(min,Math.min(max,D));var m=min||exact?D:Math.max(D*this.font.params.delimiterfactor/1e3,D-this.font.params.delimitershortfall),delim=this.stretch,c=delim.c||this.getText().codePointAt(0),i=0;if(delim.sizes)try{for(var _b=__values(delim.sizes),_c=_b.next();!_c.done;_c=_b.next()){var d=_c.value;if(d>=m)return this.variant=this.font.getSizeVariant(c,i),void(this.size=i);i++}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b["return"])&&_a.call(_b)}finally{if(e_1)throw e_1.error}}delim.stretch?(this.size=-1,this.invalidateBBox(),this.getStretchBBox(WH,D,delim)):(this.variant=this.font.getSizeVariant(c,i-1),this.size=i-1)}},class_1.prototype.getSize=function(name,value){var attributes=this.node.attributes;return attributes.isSet(name)&&(value=this.length2em(attributes.get(name),1,1)),value},class_1.prototype.getWH=function(WH){if(0===WH.length)return 0;if(1===WH.length)return WH[0];var _a=__read(WH,2),H=_a[0],D=_a[1],a=this.font.params.axis_height;return this.node.attributes.get("symmetric")?2*Math.max(H-a,D+a):H+D},class_1.prototype.getStretchBBox=function(WHD,D,C){var _a;C.hasOwnProperty("min")&&C.min>D&&(D=C.min);var _b=__read(C.HDW,3),h=_b[0],d=_b[1],w=_b[2];1===this.stretch.dir?(_a=__read(this.getBaseline(WHD,D,C),2),h=_a[0],d=_a[1]):w=D,this.bbox.h=h,this.bbox.d=d,this.bbox.w=w},class_1.prototype.getBaseline=function(WHD,HD,C){var hasWHD=2===WHD.length&&WHD[0]+WHD[1]===HD,symmetric=this.node.attributes.get("symmetric"),_a=__read(hasWHD?WHD:[HD,0],2),H=_a[0],D=_a[1],_b=__read([H+D,0],2),h=_b[0],d=_b[1];if(symmetric){var a=this.font.params.axis_height;hasWHD&&(h=2*Math.max(H-a,D+a)),d=h/2-a}else if(hasWHD)d=D;else{var _c=__read(C.HDW||[.75,.25],2),ch=_c[0],cd=_c[1];d=cd*(h/(ch+cd))}return[h-d,d]},class_1.prototype.remapChars=function(chars){if(1===chars.length){var parent_1=this.node.coreParent().parent,isAccent=this.isAccent&&!parent_1.isKind("mrow"),map=isAccent?"accent":"mo",text=this.font.getRemappedChar(map,chars[0]);text&&(chars=this.unicodeChars(text,this.variant))}return chars},class_1}(Base)}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=this&&this.__spread||function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar},__values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},_a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonMoMixin=exports.DirectionVH=void 0;var FontData_js_1=__webpack_require__(2);exports.DirectionVH=(_a={},_a[1]="v",_a[2]="h",_a),exports.CommonMoMixin=CommonMoMixin},function(module,exports,__webpack_require__){"use strict";function CommonMpaddedMixin(Base){return function(_super){function class_1(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(class_1,_super),class_1.prototype.getDimens=function(){var values=this.node.attributes.getList("width","height","depth","lspace","voffset"),bbox=this.childNodes[0].getBBox(),w=bbox.w,h=bbox.h,d=bbox.d,W=w,H=h,D=d,x=0,y=0,dx=0;""!==values.width&&(w=this.dimen(values.width,bbox,"w",0)),""!==values.height&&(h=this.dimen(values.height,bbox,"h",0)),""!==values.depth&&(d=this.dimen(values.depth,bbox,"d",0)),""!==values.voffset&&(y=this.dimen(values.voffset,bbox)),""!==values.lspace&&(x=this.dimen(values.lspace,bbox));var align=this.node.attributes.get("data-align");return align&&(dx=this.getAlignX(w,bbox,align)),[H,D,W,h-H,d-D,w-W,x,y,dx]},class_1.prototype.dimen=function(length,bbox,d,m){void 0===d&&(d=""),void 0===m&&(m=null),length=String(length);var match=length.match(/width|height|depth/),size=match?bbox[match[0].charAt(0)]:d?bbox[d]:0,dimen=this.length2em(length,size)||0;return length.match(/^[-+]/)&&d&&(dimen+=size),null!=m&&(dimen=Math.max(m,dimen)),dimen},class_1.prototype.computeBBox=function(bbox,recompute){void 0===recompute&&(recompute=!1);var _a=__read(this.getDimens(),6),H=_a[0],D=_a[1],W=_a[2],dh=_a[3],dd=_a[4],dw=_a[5];bbox.w=W+dw,bbox.h=H+dh,bbox.d=D+dd,this.setChildPWidths(recompute,bbox.w)},class_1.prototype.getWrapWidth=function(_i){return this.getBBox().w},class_1.prototype.getChildAlign=function(_i){return this.node.attributes.get("data-align")||"left"},class_1}(Base)}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonMpaddedMixin=void 0,exports.CommonMpaddedMixin=CommonMpaddedMixin},function(module,exports,__webpack_require__){"use strict";function CommonMrootMixin(Base){return function(_super){function class_1(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(class_1,_super),Object.defineProperty(class_1.prototype,"surd",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(class_1.prototype,"root",{get:function(){return 1},enumerable:!1,configurable:!0}),class_1.prototype.combineRootBBox=function(BBOX,sbox,H){var bbox=this.childNodes[this.root].getBBox(),h=this.getRootDimens(sbox,H)[1];BBOX.combine(bbox,0,h)},class_1.prototype.getRootDimens=function(sbox,H){var surd=this.childNodes[this.surd],bbox=this.childNodes[this.root].getBBox(),offset=(surd.size<0?.5:.6)*sbox.w,w=bbox.w,rscale=bbox.rscale,W=Math.max(w,offset/rscale),dx=Math.max(0,W-w),h=this.rootHeight(bbox,sbox,surd.size,H),x=W*rscale-offset;return[x,h,dx]},class_1.prototype.rootHeight=function(rbox,sbox,size,H){var h=sbox.h+sbox.d,b=(0>size?1.9:.55*h)-(h-H);return b+Math.max(0,rbox.d*rbox.rscale)},class_1}(Base)}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonMrootMixin=void 0,exports.CommonMrootMixin=CommonMrootMixin},function(module,exports,__webpack_require__){"use strict";function CommonMsMixin(Base){return function(_super){function class_1(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var _this=_super.apply(this,__spread(args))||this,attributes=_this.node.attributes,quotes=attributes.getList("lquote","rquote");return"monospace"!==_this.variant&&(attributes.isSet("lquote")||'"'!==quotes.lquote||(quotes.lquote="“"),attributes.isSet("rquote")||'"'!==quotes.rquote||(quotes.rquote="”")),_this.childNodes.unshift(_this.createText(quotes.lquote)),_this.childNodes.push(_this.createText(quotes.rquote)),_this}return __extends(class_1,_super),class_1.prototype.createText=function(text){var node=this.wrap(this.mmlText(text));return node.parent=this,node},class_1}(Base)}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=this&&this.__spread||function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonMsMixin=void 0,exports.CommonMsMixin=CommonMsMixin},function(module,exports,__webpack_require__){"use strict";function CommonMspaceMixin(Base){return function(_super){function class_1(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(class_1,_super),class_1.prototype.computeBBox=function(bbox,_recompute){void 0===_recompute&&(_recompute=!1);var attributes=this.node.attributes;bbox.w=this.length2em(attributes.get("width"),0),bbox.h=this.length2em(attributes.get("height"),0),bbox.d=this.length2em(attributes.get("depth"),0)},class_1.prototype.handleVariant=function(){},class_1}(Base)}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonMspaceMixin=void 0,exports.CommonMspaceMixin=CommonMspaceMixin},function(module,exports,__webpack_require__){"use strict";function CommonMsqrtMixin(Base){return function(_super){function class_1(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var _this=_super.apply(this,__spread(args))||this,surd=_this.createMo("√");surd.canStretch(1);var _a=_this.childNodes[_this.base].getBBox(),h=_a.h,d=_a.d,t=_this.font.params.rule_thickness,p=_this.node.attributes.get("displaystyle")?_this.font.params.x_height:t;return _this.surdH=h+d+2*t+p/4,surd.getStretchedVariant([_this.surdH-d,d],!0),_this}return __extends(class_1,_super),Object.defineProperty(class_1.prototype,"base",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(class_1.prototype,"surd",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(class_1.prototype,"root",{get:function(){return null},enumerable:!1,configurable:!0}),class_1.prototype.createMo=function(text){var node=_super.prototype.createMo.call(this,text);return this.childNodes.push(node),node},class_1.prototype.computeBBox=function(bbox,recompute){void 0===recompute&&(recompute=!1);var surdbox=this.childNodes[this.surd].getBBox(),basebox=new BBox_js_1.BBox(this.childNodes[this.base].getBBox()),q=this.getPQ(surdbox)[1],t=this.font.params.rule_thickness,H=basebox.h+q+t,_a=__read(this.getRootDimens(surdbox,H),1),x=_a[0];bbox.h=H+t,this.combineRootBBox(bbox,surdbox,H),bbox.combine(surdbox,x,H-surdbox.h),bbox.combine(basebox,x+surdbox.w,0),bbox.clean(),this.setChildPWidths(recompute)},class_1.prototype.combineRootBBox=function(_bbox,_sbox,_H){},class_1.prototype.getPQ=function(sbox){var t=this.font.params.rule_thickness,p=this.node.attributes.get("displaystyle")?this.font.params.x_height:t,q=sbox.h+sbox.d>this.surdH?(sbox.h+sbox.d-(this.surdH-2*t-p/2))/2:t+p/4;return[p,q]},class_1.prototype.getRootDimens=function(_sbox,_H){return[0,0,0,0]},class_1}(Base)}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=this&&this.__spread||function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonMsqrtMixin=void 0;var BBox_js_1=__webpack_require__(1);exports.CommonMsqrtMixin=CommonMsqrtMixin},function(module,exports,__webpack_require__){"use strict";function CommonMtableMixin(Base){return function(_super){function class_1(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var _this=_super.apply(this,__spread(args))||this;_this.numCols=0,_this.numRows=0,_this.data=null,_this.pwidthCells=[],_this.pWidth=0,_this.numCols=numeric_js_1.max(_this.tableRows.map(function(row){return row.numCells})),_this.numRows=_this.childNodes.length,_this.hasLabels=_this.childNodes.reduce(function(value,row){return value||row.node.isKind("mlabeledtr")},!1),_this.findContainer(),_this.isTop=!_this.container||_this.container.node.isKind("math")&&!_this.container.parent,_this.isTop&&(_this.jax.table=_this),_this.getPercentageWidth();var attributes=_this.node.attributes;return _this.frame="none"!==attributes.get("frame"),_this.fLine=_this.frame?.07:0,_this.fSpace=_this.frame?_this.convertLengths(_this.getAttributeArray("framespacing")):[0,0],_this.cSpace=_this.convertLengths(_this.getColumnAttributes("columnspacing")),_this.rSpace=_this.convertLengths(_this.getRowAttributes("rowspacing")),_this.cLines=_this.getColumnAttributes("columnlines").map(function(x){return"none"===x?0:.07}),_this.rLines=_this.getRowAttributes("rowlines").map(function(x){return"none"===x?0:.07}),_this.cWidths=_this.getColumnWidths(),_this.stretchRows(),_this.stretchColumns(),_this}return __extends(class_1,_super),Object.defineProperty(class_1.prototype,"tableRows",{get:function(){return this.childNodes},enumerable:!1,configurable:!0}),class_1.prototype.findContainer=function(){for(var node=this,parent=node.parent;parent&&(parent.node.notParent||parent.node.isKind("mrow"));)node=parent,parent=parent.parent;this.container=parent,this.containerI=node.node.childPosition()},class_1.prototype.getPercentageWidth=function(){if(this.hasLabels)this.bbox.pwidth=BBox_js_1.BBox.fullWidth;else{var width=this.node.attributes.get("width");string_js_1.isPercent(width)&&(this.bbox.pwidth=width)}},class_1.prototype.stretchRows=function(){for(var equal=this.node.attributes.get("equalrows"),HD=equal?this.getEqualRowHeight():0,_a=equal?this.getTableData():{H:[0],D:[0]},H=_a.H,D=_a.D,rows=this.tableRows,i=0;i<this.numRows;i++){var hd=equal?[(HD+H[i]-D[i])/2,(HD-H[i]+D[i])/2]:null;rows[i].stretchChildren(hd)}},class_1.prototype.stretchColumns=function(){for(var i=0;i<this.numCols;i++){var width="number"==typeof this.cWidths[i]?this.cWidths[i]:null;this.stretchColumn(i,width)}},class_1.prototype.stretchColumn=function(i,W){var e_1,_a,e_2,_b,e_3,_c,stretchy=[];try{for(var _d=__values(this.tableRows),_e=_d.next();!_e.done;_e=_d.next()){var row=_e.value,cell=row.getChild(i);if(cell){var child=cell.childNodes[0];0===child.stretch.dir&&child.canStretch(2)&&stretchy.push(child)}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_e&&!_e.done&&(_a=_d["return"])&&_a.call(_d)}finally{if(e_1)throw e_1.error}}var count=stretchy.length,nodeCount=this.childNodes.length;if(count&&nodeCount>1){if(null===W){W=0;var all=count>1&&count===nodeCount;try{for(var _f=__values(this.tableRows),_g=_f.next();!_g.done;_g=_f.next()){var row=_g.value,cell=row.getChild(i);if(cell){var child=cell.childNodes[0],noStretch=0===child.stretch.dir;if(all||noStretch){var w=child.getBBox(noStretch).w;w>W&&(W=w)}}}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_g&&!_g.done&&(_b=_f["return"])&&_b.call(_f)}finally{if(e_2)throw e_2.error}}}try{for(var stretchy_1=__values(stretchy),stretchy_1_1=stretchy_1.next();!stretchy_1_1.done;stretchy_1_1=stretchy_1.next()){var child=stretchy_1_1.value;child.coreMO().getStretchedVariant([W])}}catch(e_3_1){e_3={error:e_3_1}}finally{try{stretchy_1_1&&!stretchy_1_1.done&&(_c=stretchy_1["return"])&&_c.call(stretchy_1)}finally{if(e_3)throw e_3.error}}}},class_1.prototype.getTableData=function(){if(this.data)return this.data;for(var H=new Array(this.numRows).fill(0),D=new Array(this.numRows).fill(0),W=new Array(this.numCols).fill(0),NH=new Array(this.numRows),ND=new Array(this.numRows),LW=[0],rows=this.tableRows,j=0;j<rows.length;j++){for(var row=rows[j],i=0;i<row.numCells;i++){var cell=row.getChild(i);
this.updateHDW(cell,i,j,H,D,W),this.recordPWidthCell(cell,i)}NH[j]=H[j],ND[j]=D[j],row.labeled&&this.updateHDW(row.childNodes[0],0,j,H,D,LW)}var L=LW[0];return this.data={H:H,D:D,W:W,NH:NH,ND:ND,L:L},this.data},class_1.prototype.updateHDW=function(cell,i,j,H,D,W){void 0===W&&(W=null);var _a=cell.getBBox(),h=_a.h,d=_a.d,w=_a.w;.75>h&&(h=.75),.25>d&&(d=.25),h>H[j]&&(H[j]=h),d>D[j]&&(D[j]=d),W&&w>W[i]&&(W[i]=w)},class_1.prototype.recordPWidthCell=function(cell,i){cell.childNodes[0]&&cell.childNodes[0].getBBox().pwidth&&this.pwidthCells.push([cell,i])},class_1.prototype.computeBBox=function(bbox,_recompute){void 0===_recompute&&(_recompute=!1);var _a=this.getTableData(),H=_a.H,D=_a.D,height,width;if(this.node.attributes.get("equalrows")){var HD=this.getEqualRowHeight();height=numeric_js_1.sum([].concat(this.rLines,this.rSpace))+HD*this.numRows}else height=numeric_js_1.sum(H.concat(D,this.rLines,this.rSpace));height+=2*(this.fLine+this.fSpace[1]);var CW=this.getComputedWidths();width=numeric_js_1.sum(CW.concat(this.cLines,this.cSpace))+2*(this.fLine+this.fSpace[0]);var w=this.node.attributes.get("width");"auto"!==w&&(width=Math.max(this.length2em(w,0)+2*this.fLine,width));var _b=__read(this.getBBoxHD(height),2),h=_b[0],d=_b[1];bbox.h=h,bbox.d=d,bbox.w=width;var _c=__read(this.getBBoxLR(),2),L=_c[0],R=_c[1];bbox.L=L,bbox.R=R,string_js_1.isPercent(w)||this.setColumnPWidths()},class_1.prototype.setChildPWidths=function(_recompute,cwidth,_clear){var width=this.node.attributes.get("width");if(!string_js_1.isPercent(width))return!1;this.hasLabels||(this.bbox.pwidth="",this.container.bbox.pwidth="");var _a=this.bbox,w=_a.w,L=_a.L,R=_a.R,W=Math.max(w,this.length2em(width,Math.max(cwidth,L+w+R))),cols=this.node.attributes.get("equalcolumns")?Array(this.numCols).fill(this.percent(1/Math.max(1,this.numCols))):this.getColumnAttributes("columnwidth",0);this.cWidths=this.getColumnWidthsFixed(cols,W);var CW=this.getComputedWidths();return this.pWidth=numeric_js_1.sum(CW.concat(this.cLines,this.cSpace))+2*(this.fLine+this.fSpace[0]),this.isTop&&(this.bbox.w=this.pWidth),this.setColumnPWidths(),this.pWidth!==w&&this.parent.invalidateBBox(),this.pWidth!==w},class_1.prototype.setColumnPWidths=function(){var e_4,_a,W=this.cWidths;try{for(var _b=__values(this.pwidthCells),_c=_b.next();!_c.done;_c=_b.next()){var _d=__read(_c.value,2),cell=_d[0],i=_d[1];cell.setChildPWidths(!1,W[i])&&(cell.invalidateBBox(),cell.getBBox())}}catch(e_4_1){e_4={error:e_4_1}}finally{try{_c&&!_c.done&&(_a=_b["return"])&&_a.call(_b)}finally{if(e_4)throw e_4.error}}},class_1.prototype.getBBoxHD=function(height){var _a=__read(this.getAlignmentRow(),2),align=_a[0],row=_a[1];if(null===row){var a=this.font.params.axis_height,h2=height/2,HD={top:[0,height],center:[h2,h2],bottom:[height,0],baseline:[h2,h2],axis:[h2+a,h2-a]};return HD[align]||[h2,h2]}var y=this.getVerticalPosition(row,align);return[y,height-y]},class_1.prototype.getBBoxLR=function(){if(this.hasLabels){var side=this.node.attributes.get("side"),_a=__read(this.getPadAlignShift(side),2),pad=_a[0],align=_a[1];return"center"===align?[pad,pad]:"left"===side?[pad,0]:[0,pad]}return[0,0]},class_1.prototype.getPadAlignShift=function(side){var L=this.getTableData().L,sep=this.length2em(this.node.attributes.get("minlabelspacing")),pad=L+sep,_a=__read(null==this.styles?["",""]:[this.styles.get("padding-left"),this.styles.get("padding-right")],2),lpad=_a[0],rpad=_a[1];(lpad||rpad)&&(pad=Math.max(pad,this.length2em(lpad||"0"),this.length2em(rpad||"0")));var _b=__read(this.getAlignShift(),2),align=_b[0],shift=_b[1];return align===side&&(shift="left"===side?Math.max(pad,shift)-pad:Math.min(-pad,shift)+pad),[pad,align,shift]},class_1.prototype.getAlignShift=function(){return this.isTop?_super.prototype.getAlignShift.call(this):[this.container.getChildAlign(this.containerI),0]},class_1.prototype.getWidth=function(){return this.pWidth||this.getBBox().w},class_1.prototype.getEqualRowHeight=function(){var _a=this.getTableData(),H=_a.H,D=_a.D,HD=Array.from(H.keys()).map(function(i){return H[i]+D[i]});return Math.max.apply(Math,HD)},class_1.prototype.getComputedWidths=function(){var _this=this,W=this.getTableData().W,CW=Array.from(W.keys()).map(function(i){return"number"==typeof _this.cWidths[i]?_this.cWidths[i]:W[i]});return this.node.attributes.get("equalcolumns")&&(CW=Array(CW.length).fill(numeric_js_1.max(CW))),CW},class_1.prototype.getColumnWidths=function(){var width=this.node.attributes.get("width");if(this.node.attributes.get("equalcolumns"))return this.getEqualColumns(width);var swidths=this.getColumnAttributes("columnwidth",0);return"auto"===width?this.getColumnWidthsAuto(swidths):string_js_1.isPercent(width)?this.getColumnWidthsPercent(swidths):this.getColumnWidthsFixed(swidths,this.length2em(width))},class_1.prototype.getEqualColumns=function(width){var n=Math.max(1,this.numCols),cwidth;if("auto"===width){var W=this.getTableData().W;cwidth=numeric_js_1.max(W)}else if(string_js_1.isPercent(width))cwidth=this.percent(1/n);else{var w=numeric_js_1.sum([].concat(this.cLines,this.cSpace))+2*this.fSpace[0];cwidth=Math.max(0,this.length2em(width)-w)/n}return Array(this.numCols).fill(cwidth)},class_1.prototype.getColumnWidthsAuto=function(swidths){var _this=this;return swidths.map(function(x){return"auto"===x||"fit"===x?null:string_js_1.isPercent(x)?x:_this.length2em(x)})},class_1.prototype.getColumnWidthsPercent=function(swidths){var _this=this,hasFit=swidths.indexOf("fit")>=0,W=(hasFit?this.getTableData():{W:null}).W;return Array.from(swidths.keys()).map(function(i){var x=swidths[i];return"fit"===x?null:"auto"===x?hasFit?W[i]:null:string_js_1.isPercent(x)?x:_this.length2em(x)})},class_1.prototype.getColumnWidthsFixed=function(swidths,width){var _this=this,indices=Array.from(swidths.keys()),fit=indices.filter(function(i){return"fit"===swidths[i]}),auto=indices.filter(function(i){return"auto"===swidths[i]}),n=fit.length||auto.length,W=(n?this.getTableData():{W:null}).W,cwidth=width-numeric_js_1.sum([].concat(this.cLines,this.cSpace))-2*this.fSpace[0],dw=cwidth;indices.forEach(function(i){var x=swidths[i];dw-="fit"===x||"auto"===x?W[i]:_this.length2em(x,width)});var fw=n&&dw>0?dw/n:0;return indices.map(function(i){var x=swidths[i];return"fit"===x?W[i]+fw:"auto"===x?W[i]+(0===fit.length?fw:0):_this.length2em(x,cwidth)})},class_1.prototype.getVerticalPosition=function(i,align){for(var equal=this.node.attributes.get("equalrows"),_a=this.getTableData(),H=_a.H,D=_a.D,HD=equal?this.getEqualRowHeight():0,space=this.getRowHalfSpacing(),y=this.fLine,j=0;i>j;j++)y+=space[j]+(equal?HD:H[j]+D[j])+space[j+1]+this.rLines[j];var _b=__read(equal?[(HD+H[i]-D[i])/2,(HD-H[i]+D[i])/2]:[H[i],D[i]],2),h=_b[0],d=_b[1],offset={top:0,center:space[i]+(h+d)/2,bottom:space[i]+h+d+space[i+1],baseline:space[i]+h,axis:space[i]+h-.25};return y+=offset[align]||0},class_1.prototype.getEmHalfSpacing=function(fspace,space){var fspaceEm=this.em(fspace),spaceEm=this.addEm(space,2);return spaceEm.unshift(fspaceEm),spaceEm.push(fspaceEm),spaceEm},class_1.prototype.getRowHalfSpacing=function(){var space=this.rSpace.map(function(x){return x/2});return space.unshift(this.fSpace[1]),space.push(this.fSpace[1]),space},class_1.prototype.getColumnHalfSpacing=function(){var space=this.cSpace.map(function(x){return x/2});return space.unshift(this.fSpace[0]),space.push(this.fSpace[0]),space},class_1.prototype.getAlignmentRow=function(){var _a=__read(string_js_1.split(this.node.attributes.get("align")),2),align=_a[0],row=_a[1];if(null==row)return[align,null];var i=parseInt(row);return 0>i&&(i+=this.numRows+1),[align,1>i||i>this.numRows?null:i-1]},class_1.prototype.getColumnAttributes=function(name,i){void 0===i&&(i=1);var n=this.numCols-i,columns=this.getAttributeArray(name);if(0===columns.length)return null;for(;columns.length<n;)columns.push(columns[columns.length-1]);return columns.length>n&&columns.splice(n),columns},class_1.prototype.getRowAttributes=function(name,i){void 0===i&&(i=1);var n=this.numRows-i,rows=this.getAttributeArray(name);if(0===rows.length)return null;for(;rows.length<n;)rows.push(rows[rows.length-1]);return rows.length>n&&rows.splice(n),rows},class_1.prototype.getAttributeArray=function(name){var value=this.node.attributes.get(name);return value?string_js_1.split(value):[this.node.attributes.getDefault(name)]},class_1.prototype.addEm=function(list,n){var _this=this;return void 0===n&&(n=1),list?list.map(function(x){return _this.em(x/n)}):null},class_1.prototype.convertLengths=function(list){var _this=this;return list?list.map(function(x){return _this.length2em(x)}):null},class_1}(Base)}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=this&&this.__spread||function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar},__values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonMtableMixin=void 0;var BBox_js_1=__webpack_require__(1),string_js_1=__webpack_require__(4),numeric_js_1=__webpack_require__(78);exports.CommonMtableMixin=CommonMtableMixin},function(module,exports,__webpack_require__){"use strict";function CommonMtdMixin(Base){return function(_super){function class_1(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(class_1,_super),Object.defineProperty(class_1.prototype,"fixesPWidth",{get:function(){return!1},enumerable:!1,configurable:!0}),class_1.prototype.invalidateBBox=function(){this.bboxComputed=!1},class_1.prototype.getWrapWidth=function(_j){var table=this.parent.parent,row=this.parent,i=this.node.childPosition()-(row.labeled?1:0);return"number"==typeof table.cWidths[i]?table.cWidths[i]:table.getTableData().W[i]},class_1.prototype.getChildAlign=function(_i){return this.node.attributes.get("columnalign")},class_1}(Base)}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonMtdMixin=void 0,exports.CommonMtdMixin=CommonMtdMixin},function(module,exports,__webpack_require__){"use strict";function CommonMtextMixin(Base){var _a;return _a=function(_super){function class_1(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(class_1,_super),class_1.prototype.getVariant=function(){var options=this.jax.options,data=this.jax.math.outputData,merror=(!!data.merrorFamily||!!options.merrorFont)&&this.node.Parent.isKind("merror");if(data.mtextFamily||options.mtextFont||merror){var variant=this.node.attributes.get("mathvariant"),font=this.constructor.INHERITFONTS[variant]||this.jax.font.getCssFont(variant),family=font[0]||(merror?data.merrorFamily||options.merrorFont:data.mtextFamily||options.mtextFont);return void(this.variant=this.explicitVariant(family,font[2]?"bold":"",font[1]?"italic":""))}_super.prototype.getVariant.call(this)},class_1}(Base),_a.INHERITFONTS={normal:["",!1,!1],bold:["",!1,!0],italic:["",!0,!1],"bold-italic":["",!0,!0]},_a}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonMtextMixin=void 0,exports.CommonMtextMixin=CommonMtextMixin},function(module,exports,__webpack_require__){"use strict";function CommonScriptbaseMixin(Base){var _a;return _a=function(_super){function class_1(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var _this=_super.apply(this,__spread(args))||this,core=_this.baseCore=_this.childNodes[0];if(!core)return _this;for(;1===core.childNodes.length&&(core.node.isKind("mrow")||core.node.isKind("TeXAtom")||core.node.isKind("mstyle")||core.node.isKind("mpadded")||core.node.isKind("mphantom")||core.node.isKind("semantics"));)if(core=core.childNodes[0],!core)return _this;return"noIC"in core?(_this.baseCore=core,_this.constructor.useIC||(core.noIC=!0),_this):_this}return __extends(class_1,_super),Object.defineProperty(class_1.prototype,"baseChild",{get:function(){return this.childNodes[this.node.base]},enumerable:!1,configurable:!0}),Object.defineProperty(class_1.prototype,"script",{get:function(){return this.childNodes[1]},enumerable:!1,configurable:!0}),class_1.prototype.computeBBox=function(bbox,recompute){void 0===recompute&&(recompute=!1);var basebox=this.baseChild.getBBox(),scriptbox=this.script.getBBox(),_a=__read(this.getOffset(basebox,scriptbox),2),x=_a[0],y=_a[1];bbox.append(basebox),bbox.combine(scriptbox,bbox.w+x,y),bbox.w+=this.font.params.scriptspace,bbox.clean(),this.setChildPWidths(recompute)},class_1.prototype.coreIC=function(){var corebox=this.baseCore.getBBox();return corebox.ic?1.05*corebox.ic+.05:0},class_1.prototype.coreScale=function(){for(var scale=this.baseChild.getBBox().rscale,base=this.baseChild;(base.node.isKind("mstyle")||base.node.isKind("mrow")||base.node.isKind("TeXAtom"))&&1===base.childNodes.length;)base=base.childNodes[0],scale*=base.getBBox().rscale;return scale},class_1.prototype.isCharBase=function(){for(var base=this.baseChild;(base.node.isKind("mstyle")||base.node.isKind("mrow"))&&1===base.childNodes.length;)base=base.childNodes[0];return(base.node.isKind("mo")||base.node.isKind("mi")||base.node.isKind("mn"))&&1===base.bbox.rscale&&1===Array.from(base.getText()).length&&!base.node.attributes.get("largeop")},class_1.prototype.getOffset=function(_bbox,_sbox){return[0,0]},class_1.prototype.getV=function(bbox,sbox){var tex=this.font.params,subscriptshift=this.length2em(this.node.attributes.get("subscriptshift"),tex.sub1);return Math.max(this.isCharBase()?0:bbox.d*bbox.rscale+tex.sub_drop*sbox.rscale,subscriptshift,sbox.h*sbox.rscale-.8*tex.x_height)},class_1.prototype.getU=function(bbox,sbox){var tex=this.font.params,attr=this.node.attributes.getList("displaystyle","superscriptshift"),prime=this.node.getProperty("texprimestyle"),p=prime?tex.sup3:attr.displaystyle?tex.sup1:tex.sup2,superscriptshift=this.length2em(attr.superscriptshift,p);return Math.max(this.isCharBase()?0:bbox.h*bbox.rscale-tex.sup_drop*sbox.rscale,superscriptshift,sbox.d*sbox.rscale+.25*tex.x_height)},class_1.prototype.hasMovableLimits=function(){var display=this.node.attributes.get("displaystyle"),mo=this.baseChild.coreMO().node;return!display&&!!mo.attributes.get("movablelimits")},class_1.prototype.getOverKU=function(basebox,overbox){var accent=this.node.attributes.get("accent"),tex=this.font.params,d=overbox.d*overbox.rscale,k=(accent?tex.rule_thickness:Math.max(tex.big_op_spacing1,tex.big_op_spacing3-Math.max(0,d)))-(this.baseChild.node.isKind("munderover")?.1:0);return[k,basebox.h*basebox.rscale+k+d]},class_1.prototype.getUnderKV=function(basebox,underbox){var accent=this.node.attributes.get("accentunder"),tex=this.font.params,h=underbox.h*underbox.rscale,k=(accent?tex.rule_thickness:Math.max(tex.big_op_spacing2,tex.big_op_spacing4-h))-(this.baseChild.node.isKind("munderover")?.1:0);return[k,-(basebox.d*basebox.rscale+k+h)]},class_1.prototype.getDeltaW=function(boxes,delta){var e_1,_a,e_2,_b;void 0===delta&&(delta=[0,0,0]);var align=this.node.attributes.get("align"),widths=boxes.map(function(box){return box.w*box.rscale}),w=Math.max.apply(Math,__spread(widths)),dw=[],m=0;try{for(var _c=__values(widths.keys()),_d=_c.next();!_d.done;_d=_c.next()){var i=_d.value;dw[i]=("center"===align?(w-widths[i])/2:"right"===align?w-widths[i]:0)+delta[i],dw[i]<m&&(m=-dw[i])}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_d&&!_d.done&&(_a=_c["return"])&&_a.call(_c)}finally{if(e_1)throw e_1.error}}if(m)try{for(var _e=__values(dw.keys()),_f=_e.next();!_f.done;_f=_e.next()){var i=_f.value;dw[i]+=m}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_f&&!_f.done&&(_b=_e["return"])&&_b.call(_e)}finally{if(e_2)throw e_2.error}}return dw},class_1.prototype.getDelta=function(noskew){void 0===noskew&&(noskew=!1);var accent=this.node.attributes.get("accent"),ddelta=accent&&!noskew?this.baseChild.coreMO().bbox.sk:0;return(DELTA*this.baseCore.bbox.ic/2+ddelta)*this.coreScale()},class_1.prototype.stretchChildren=function(){var e_3,_a,e_4,_b,e_5,_c,stretchy=[];try{for(var _d=__values(this.childNodes),_e=_d.next();!_e.done;_e=_d.next()){var child=_e.value;child.canStretch(2)&&stretchy.push(child)}}catch(e_3_1){e_3={error:e_3_1}}finally{try{_e&&!_e.done&&(_a=_d["return"])&&_a.call(_d)}finally{if(e_3)throw e_3.error}}var count=stretchy.length,nodeCount=this.childNodes.length;if(count&&nodeCount>1){var W=0,all=count>1&&count===nodeCount;try{for(var _f=__values(this.childNodes),_g=_f.next();!_g.done;_g=_f.next()){var child=_g.value,noStretch=0===child.stretch.dir;if(all||noStretch){var _h=child.getBBox(noStretch),w=_h.w,rscale=_h.rscale;w*rscale>W&&(W=w*rscale)}}}catch(e_4_1){e_4={error:e_4_1}}finally{try{_g&&!_g.done&&(_b=_f["return"])&&_b.call(_f)}finally{if(e_4)throw e_4.error}}try{for(var stretchy_1=__values(stretchy),stretchy_1_1=stretchy_1.next();!stretchy_1_1.done;stretchy_1_1=stretchy_1.next()){var child=stretchy_1_1.value;child.coreMO().getStretchedVariant([W/child.bbox.rscale])}}catch(e_5_1){e_5={error:e_5_1}}finally{try{stretchy_1_1&&!stretchy_1_1.done&&(_c=stretchy_1["return"])&&_c.call(stretchy_1)}finally{if(e_5)throw e_5.error}}}},class_1}(Base),_a.useIC=!1,_a}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=this&&this.__spread||function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar},__values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonScriptbaseMixin=void 0;var DELTA=1.5;exports.CommonScriptbaseMixin=CommonScriptbaseMixin},function(module,exports,__webpack_require__){"use strict";function CommonSemanticsMixin(Base){return function(_super){function class_1(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(class_1,_super),class_1.prototype.computeBBox=function(bbox,_recompute){if(void 0===_recompute&&(_recompute=!1),this.childNodes.length){var _a=this.childNodes[0].getBBox(),w=_a.w,h=_a.h,d=_a.d;bbox.w=w,bbox.h=h,bbox.d=d}},class_1}(Base)}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonSemanticsMixin=void 0,exports.CommonSemanticsMixin=CommonSemanticsMixin},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGWrapperFactory=void 0;var WrapperFactory_js_1=__webpack_require__(19),Wrappers_js_1=__webpack_require__(42),SVGWrapperFactory=function(_super){function SVGWrapperFactory(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.jax=null,_this}return __extends(SVGWrapperFactory,_super),SVGWrapperFactory.defaultNodes=Wrappers_js_1.SVGWrappers,SVGWrapperFactory}(WrapperFactory_js_1.CommonWrapperFactory);exports.SVGWrapperFactory=SVGWrapperFactory},function(module,exports,__webpack_require__){"use strict";var _a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGWrappers=void 0;var Wrapper_js_1=__webpack_require__(0),math_js_1=__webpack_require__(43),mrow_js_1=__webpack_require__(44),mi_js_1=__webpack_require__(45),mo_js_1=__webpack_require__(46),mn_js_1=__webpack_require__(47),ms_js_1=__webpack_require__(48),mtext_js_1=__webpack_require__(49),merror_js_1=__webpack_require__(50),mspace_js_1=__webpack_require__(51),mpadded_js_1=__webpack_require__(52),mphantom_js_1=__webpack_require__(53),mfrac_js_1=__webpack_require__(54),msqrt_js_1=__webpack_require__(13),mroot_js_1=__webpack_require__(55),mfenced_js_1=__webpack_require__(56),msubsup_js_1=__webpack_require__(8),munderover_js_1=__webpack_require__(58),mmultiscripts_js_1=__webpack_require__(59),mtable_js_1=__webpack_require__(60),mtr_js_1=__webpack_require__(61),mtd_js_1=__webpack_require__(62),maction_js_1=__webpack_require__(63),menclose_js_1=__webpack_require__(64),semantics_js_1=__webpack_require__(66),mglyph_js_1=__webpack_require__(67),TeXAtom_js_1=__webpack_require__(68),TextNode_js_1=__webpack_require__(69);exports.SVGWrappers=(_a={},_a[math_js_1.SVGmath.kind]=math_js_1.SVGmath,_a[mrow_js_1.SVGmrow.kind]=mrow_js_1.SVGmrow,_a[mrow_js_1.SVGinferredMrow.kind]=mrow_js_1.SVGinferredMrow,_a[mi_js_1.SVGmi.kind]=mi_js_1.SVGmi,_a[mo_js_1.SVGmo.kind]=mo_js_1.SVGmo,_a[mn_js_1.SVGmn.kind]=mn_js_1.SVGmn,_a[ms_js_1.SVGms.kind]=ms_js_1.SVGms,_a[mtext_js_1.SVGmtext.kind]=mtext_js_1.SVGmtext,_a[merror_js_1.SVGmerror.kind]=merror_js_1.SVGmerror,_a[mspace_js_1.SVGmspace.kind]=mspace_js_1.SVGmspace,_a[mpadded_js_1.SVGmpadded.kind]=mpadded_js_1.SVGmpadded,_a[mphantom_js_1.SVGmphantom.kind]=mphantom_js_1.SVGmphantom,_a[mfrac_js_1.SVGmfrac.kind]=mfrac_js_1.SVGmfrac,_a[msqrt_js_1.SVGmsqrt.kind]=msqrt_js_1.SVGmsqrt,_a[mroot_js_1.SVGmroot.kind]=mroot_js_1.SVGmroot,_a[mfenced_js_1.SVGmfenced.kind]=mfenced_js_1.SVGmfenced,_a[msubsup_js_1.SVGmsub.kind]=msubsup_js_1.SVGmsub,_a[msubsup_js_1.SVGmsup.kind]=msubsup_js_1.SVGmsup,_a[msubsup_js_1.SVGmsubsup.kind]=msubsup_js_1.SVGmsubsup,_a[munderover_js_1.SVGmunder.kind]=munderover_js_1.SVGmunder,_a[munderover_js_1.SVGmover.kind]=munderover_js_1.SVGmover,_a[munderover_js_1.SVGmunderover.kind]=munderover_js_1.SVGmunderover,_a[mmultiscripts_js_1.SVGmmultiscripts.kind]=mmultiscripts_js_1.SVGmmultiscripts,_a[mtable_js_1.SVGmtable.kind]=mtable_js_1.SVGmtable,_a[mtr_js_1.SVGmtr.kind]=mtr_js_1.SVGmtr,_a[mtr_js_1.SVGmlabeledtr.kind]=mtr_js_1.SVGmlabeledtr,_a[mtd_js_1.SVGmtd.kind]=mtd_js_1.SVGmtd,_a[maction_js_1.SVGmaction.kind]=maction_js_1.SVGmaction,_a[menclose_js_1.SVGmenclose.kind]=menclose_js_1.SVGmenclose,_a[semantics_js_1.SVGsemantics.kind]=semantics_js_1.SVGsemantics,_a[semantics_js_1.SVGannotation.kind]=semantics_js_1.SVGannotation,_a[semantics_js_1.SVGannotationXML.kind]=semantics_js_1.SVGannotationXML,_a[semantics_js_1.SVGxml.kind]=semantics_js_1.SVGxml,_a[mglyph_js_1.SVGmglyph.kind]=mglyph_js_1.SVGmglyph,_a[TeXAtom_js_1.SVGTeXAtom.kind]=TeXAtom_js_1.SVGTeXAtom,_a[TextNode_js_1.SVGTextNode.kind]=TextNode_js_1.SVGTextNode,_a[Wrapper_js_1.SVGWrapper.kind]=Wrapper_js_1.SVGWrapper,_a)},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar},__values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGmath=void 0;var Wrapper_js_1=__webpack_require__(0),math_js_1=__webpack_require__(22),math_js_2=__webpack_require__(79),BBox_js_1=__webpack_require__(1),SVGmath=function(_super){function SVGmath(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGmath,_super),SVGmath.prototype.toSVG=function(parent){_super.prototype.toSVG.call(this,parent);var adaptor=this.adaptor,display="block"===this.node.attributes.get("display");display&&(adaptor.setAttribute(this.jax.container,"display","true"),this.handleDisplay()),this.jax.document.options.internalSpeechTitles&&this.handleSpeech()},SVGmath.prototype.handleDisplay=function(){var _a=__read(this.getAlignShift(),2),align=_a[0],shift=_a[1];if("center"!==align&&this.adaptor.setAttribute(this.jax.container,"justify",align),this.bbox.pwidth===BBox_js_1.BBox.fullWidth){if(this.adaptor.setAttribute(this.jax.container,"width","full"),this.jax.table){var _b=this.jax.table.getBBox(),L=_b.L,w=_b.w,R=_b.R;"right"===align?R=Math.max(R||-shift,-shift):"left"===align?L=Math.max(L||shift,shift):"center"===align&&(w+=2*Math.abs(shift)),this.jax.minwidth=Math.max(0,L+w+R)}}else this.jax.shift=shift},SVGmath.prototype.handleSpeech=function(){var e_1,_a,adaptor=this.adaptor,attributes=this.node.attributes,speech=attributes.get("aria-label")||attributes.get("data-semantic-speech");if(speech){var id=this.getTitleID(),label=this.svg("title",{id:id},[this.text(speech)]);adaptor.insert(label,adaptor.firstChild(this.element)),adaptor.setAttribute(this.element,"aria-labeledby",id),adaptor.removeAttribute(this.element,"aria-label");try{for(var _b=__values(this.childNodes[0].childNodes),_c=_b.next();!_c.done;_c=_b.next()){var child=_c.value;adaptor.setAttribute(child.element,"aria-hidden","true")}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b["return"])&&_a.call(_b)}finally{if(e_1)throw e_1.error}}}},SVGmath.prototype.getTitleID=function(){return"mjx-svg-title-"+String(this.jax.options.titleID++)},SVGmath.prototype.setChildPWidths=function(recompute,w,_clear){return void 0===w&&(w=null),void 0===_clear&&(_clear=!0),_super.prototype.setChildPWidths.call(this,recompute,this.parent?w:this.metrics.containerWidth/this.jax.pxPerEm,!1)},SVGmath.kind=math_js_2.MmlMath.prototype.kind,SVGmath.styles={'mjx-container[jax="SVG"][display="true"]':{display:"block","text-align":"center",margin:"1em 0"},'mjx-container[jax="SVG"][display="true"][width="full"]':{display:"flex"},'mjx-container[jax="SVG"][justify="left"]':{"text-align":"left"},'mjx-container[jax="SVG"][justify="right"]':{"text-align":"right"}},SVGmath}(math_js_1.CommonMathMixin(Wrapper_js_1.SVGWrapper));exports.SVGmath=SVGmath},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGinferredMrow=exports.SVGmrow=void 0;var Wrapper_js_1=__webpack_require__(0),mrow_js_1=__webpack_require__(11),mrow_js_2=__webpack_require__(11),mrow_js_3=__webpack_require__(80),SVGmrow=function(_super){function SVGmrow(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGmrow,_super),SVGmrow.prototype.toSVG=function(parent){var svg=this.node.isInferred?this.element=parent:this.standardSVGnode(parent);this.addChildren(svg)},SVGmrow.kind=mrow_js_3.MmlMrow.prototype.kind,SVGmrow}(mrow_js_1.CommonMrowMixin(Wrapper_js_1.SVGWrapper));exports.SVGmrow=SVGmrow;var SVGinferredMrow=function(_super){function SVGinferredMrow(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGinferredMrow,_super),SVGinferredMrow.kind=mrow_js_3.MmlInferredMrow.prototype.kind,SVGinferredMrow}(mrow_js_2.CommonInferredMrowMixin(SVGmrow));exports.SVGinferredMrow=SVGinferredMrow},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGmi=void 0;var Wrapper_js_1=__webpack_require__(0),mi_js_1=__webpack_require__(27),mi_js_2=__webpack_require__(81),SVGmi=function(_super){function SVGmi(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGmi,_super),SVGmi.kind=mi_js_2.MmlMi.prototype.kind,SVGmi}(mi_js_1.CommonMiMixin(Wrapper_js_1.SVGWrapper));exports.SVGmi=SVGmi},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)
}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGmo=void 0;var Wrapper_js_1=__webpack_require__(0),mo_js_1=__webpack_require__(30),mo_js_2=__webpack_require__(82),BBox_js_1=__webpack_require__(1),VFUZZ=.1,HFUZZ=.1,SVGmo=function(_super){function SVGmo(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGmo,_super),SVGmo.prototype.toSVG=function(parent){var attributes=this.node.attributes,symmetric=attributes.get("symmetric")&&2!==this.stretch.dir,stretchy=0!==this.stretch.dir;stretchy&&null===this.size&&this.getStretchedVariant([]);var svg=this.standardSVGnode(parent);if(stretchy&&this.size<0)this.stretchSVG();else{if(symmetric||attributes.get("largeop")){var bbox=BBox_js_1.BBox.empty();_super.prototype.computeBBox.call(this,bbox);var u=this.fixed((bbox.d-bbox.h)/2+this.font.params.axis_height);"0"!==u&&this.adaptor.setAttribute(svg,"transform","translate(0 "+u+")")}this.addChildren(svg)}},SVGmo.prototype.stretchSVG=function(){var stretch=this.stretch.stretch,bbox=this.getBBox();1===this.stretch.dir?this.stretchVertical(stretch,bbox):this.stretchHorizontal(stretch,bbox)},SVGmo.prototype.stretchVertical=function(stretch,bbox){var h=bbox.h,d=bbox.d,w=bbox.w,T=this.addTop(stretch[0],h,w),B=this.addBot(stretch[2],d,w);if(4===stretch.length){var _a=__read(this.addMidV(stretch[3],w),2),H=_a[0],D=_a[1];this.addExtV(stretch[1],h,0,T,H,w),this.addExtV(stretch[1],0,d,D,B,w)}else this.addExtV(stretch[1],h,d,T,B,w)},SVGmo.prototype.stretchHorizontal=function(stretch,bbox){var w=bbox.w,L=this.addLeft(stretch[0]),R=this.addRight(stretch[2],w);if(4===stretch.length){var _a=__read(this.addMidH(stretch[3],w),2),x1=_a[0],x2=_a[1],w2=w/2;this.addExtH(stretch[1],w2,L,w2-x1),this.addExtH(stretch[1],w2,x2-w2,R,w2)}else this.addExtH(stretch[1],w,L,R)},SVGmo.prototype.getChar=function(n){var char=this.font.getChar("-size4",n)||[0,0,0,null];return[char[0],char[1],char[2],char[3]||{}]},SVGmo.prototype.addGlyph=function(n,x,y,parent){return void 0===parent&&(parent=null),this.placeChar(n,x,y,parent||this.element,"-size4")},SVGmo.prototype.addTop=function(n,H,W){if(!n)return 0;var _a=__read(this.getChar(n),3),h=_a[0],d=_a[1],w=_a[2];return this.addGlyph(n,(W-w)/2,H-h),h+d},SVGmo.prototype.addExtV=function(n,H,D,T,B,W){var _this=this;if(n){T=Math.max(0,T-VFUZZ),B=Math.max(0,B-VFUZZ);var adaptor=this.adaptor,_a=__read(this.getChar(n),3),h=_a[0],d=_a[1],w=_a[2],Y=H+D-T-B,s=1.5*Y/(h+d),y=(s*(h-d)-Y)/2;if(!(0>=Y)){var svg=this.svg("svg",{width:this.fixed(w),height:this.fixed(Y),y:this.fixed(B-D),x:this.fixed((W-w)/2),viewBox:[0,y,w,Y].map(function(x){return _this.fixed(x)}).join(" ")});this.addGlyph(n,0,0,svg);var glyph=adaptor.lastChild(svg);adaptor.setAttribute(glyph,"transform","scale(1, "+this.jax.fixed(s)+")"),adaptor.append(this.element,svg)}}},SVGmo.prototype.addBot=function(n,D,W){if(!n)return 0;var _a=__read(this.getChar(n),3),h=_a[0],d=_a[1],w=_a[2];return this.addGlyph(n,(W-w)/2,d-D),h+d},SVGmo.prototype.addMidV=function(n,W){if(!n)return[0,0];var _a=__read(this.getChar(n),3),h=_a[0],d=_a[1],w=_a[2],y=(d-h)/2+this.font.params.axis_height;return this.addGlyph(n,(W-w)/2,y),[h+y,d-y]},SVGmo.prototype.addLeft=function(n){return n?this.addGlyph(n,0,0):0},SVGmo.prototype.addExtH=function(n,W,L,R,x){var _this=this;if(void 0===x&&(x=0),n){R=Math.max(0,R-HFUZZ),L=Math.max(0,L-HFUZZ);var _a=__read(this.getChar(n),3),h=_a[0],d=_a[1],w=_a[2],X=W-L-R,Y=h+d+2*VFUZZ,s=1.5*(X/w),D=-(d+VFUZZ);if(!(0>=X)){var svg=this.svg("svg",{width:this.fixed(X),height:this.fixed(Y),x:this.fixed(x+L),y:this.fixed(D),viewBox:[(s*w-X)/2,D,X,Y].map(function(x){return _this.fixed(x)}).join(" ")});this.addGlyph(n,0,0,svg);var glyph=this.adaptor.lastChild(svg);this.adaptor.setAttribute(glyph,"transform","scale("+this.jax.fixed(s)+", 1)"),this.adaptor.append(this.element,svg)}}},SVGmo.prototype.addRight=function(n,W){if(!n)return 0;var w=this.getChar(n)[2];return this.addGlyph(n,W-w,0)},SVGmo.prototype.addMidH=function(n,W){if(!n)return[0,0];var w=this.getChar(n)[2];return this.addGlyph(n,(W-w)/2,0),[(W-w)/2,(W+w)/2]},SVGmo.kind=mo_js_2.MmlMo.prototype.kind,SVGmo}(mo_js_1.CommonMoMixin(Wrapper_js_1.SVGWrapper));exports.SVGmo=SVGmo},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGmn=void 0;var Wrapper_js_1=__webpack_require__(0),mn_js_1=__webpack_require__(29),mn_js_2=__webpack_require__(83),SVGmn=function(_super){function SVGmn(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGmn,_super),SVGmn.kind=mn_js_2.MmlMn.prototype.kind,SVGmn}(mn_js_1.CommonMnMixin(Wrapper_js_1.SVGWrapper));exports.SVGmn=SVGmn},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGms=void 0;var Wrapper_js_1=__webpack_require__(0),ms_js_1=__webpack_require__(33),ms_js_2=__webpack_require__(84),SVGms=function(_super){function SVGms(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGms,_super),SVGms.kind=ms_js_2.MmlMs.prototype.kind,SVGms}(ms_js_1.CommonMsMixin(Wrapper_js_1.SVGWrapper));exports.SVGms=SVGms},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGmtext=void 0;var Wrapper_js_1=__webpack_require__(0),mtext_js_1=__webpack_require__(38),mtext_js_2=__webpack_require__(85),SVGmtext=function(_super){function SVGmtext(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGmtext,_super),SVGmtext.kind=mtext_js_2.MmlMtext.prototype.kind,SVGmtext}(mtext_js_1.CommonMtextMixin(Wrapper_js_1.SVGWrapper));exports.SVGmtext=SVGmtext},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGmerror=void 0;var Wrapper_js_1=__webpack_require__(0),merror_js_1=__webpack_require__(86),SVGmerror=function(_super){function SVGmerror(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGmerror,_super),SVGmerror.prototype.toSVG=function(parent){var svg=this.standardSVGnode(parent),_a=this.getBBox(),h=_a.h,d=_a.d,w=_a.w;this.adaptor.append(this.element,this.svg("rect",{"data-background":!0,width:this.fixed(w),height:this.fixed(h+d),y:this.fixed(-d)}));var title=this.node.attributes.get("title");title&&this.adaptor.append(this.element,this.svg("title",{},[this.adaptor.text(title)])),this.addChildren(svg)},SVGmerror.kind=merror_js_1.MmlMerror.prototype.kind,SVGmerror.styles={'g[data-mml-node="merror"] > g':{fill:"red",stroke:"red"},'g[data-mml-node="merror"] > rect[data-background]':{fill:"yellow",stroke:"none"}},SVGmerror}(Wrapper_js_1.SVGWrapper);exports.SVGmerror=SVGmerror},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGmspace=void 0;var Wrapper_js_1=__webpack_require__(0),mspace_js_1=__webpack_require__(34),mspace_js_2=__webpack_require__(87),SVGmspace=function(_super){function SVGmspace(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGmspace,_super),SVGmspace.kind=mspace_js_2.MmlMspace.prototype.kind,SVGmspace}(mspace_js_1.CommonMspaceMixin(Wrapper_js_1.SVGWrapper));exports.SVGmspace=SVGmspace},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGmpadded=void 0;var Wrapper_js_1=__webpack_require__(0),mpadded_js_1=__webpack_require__(31),mpadded_js_2=__webpack_require__(88),SVGmpadded=function(_super){function SVGmpadded(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGmpadded,_super),SVGmpadded.prototype.toSVG=function(parent){var svg=this.standardSVGnode(parent),_a=__read(this.getDimens(),9),dw=_a[5],x=_a[6],y=_a[7],dx=_a[8],align=this.node.attributes.get("data-align")||"left",X=x+dx-(0>dw&&"left"!==align?"center"===align?dw/2:dw:0);(X||y)&&(svg=this.adaptor.append(svg,this.svg("g")),this.place(X,y,svg)),this.addChildren(svg)},SVGmpadded.kind=mpadded_js_2.MmlMpadded.prototype.kind,SVGmpadded}(mpadded_js_1.CommonMpaddedMixin(Wrapper_js_1.SVGWrapper));exports.SVGmpadded=SVGmpadded},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGmphantom=void 0;var Wrapper_js_1=__webpack_require__(0),mphantom_js_1=__webpack_require__(89),SVGmphantom=function(_super){function SVGmphantom(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGmphantom,_super),SVGmphantom.prototype.toSVG=function(parent){this.standardSVGnode(parent)},SVGmphantom.kind=mphantom_js_1.MmlMphantom.prototype.kind,SVGmphantom}(Wrapper_js_1.SVGWrapper);exports.SVGmphantom=SVGmphantom},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGmfrac=void 0;var Wrapper_js_1=__webpack_require__(0),mfrac_js_1=__webpack_require__(25),mfrac_js_2=__webpack_require__(90),SVGmfrac=function(_super){function SVGmfrac(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGmfrac,_super),SVGmfrac.prototype.toSVG=function(parent){this.standardSVGnode(parent);var _a=this.node.attributes.getList("linethickness","bevelled"),linethickness=_a.linethickness,bevelled=_a.bevelled,display=this.isDisplay();if(bevelled)this.makeBevelled(display);else{var thickness=this.length2em(String(linethickness),.06);0===thickness?this.makeAtop(display):this.makeFraction(display,thickness)}},SVGmfrac.prototype.makeFraction=function(display,t){var svg=this.element,_a=this.node.attributes.getList("numalign","denomalign"),numalign=_a.numalign,denomalign=_a.denomalign,_b=__read(this.childNodes,2),num=_b[0],den=_b[1],nbox=num.getBBox(),dbox=den.getBBox(),tex=this.font.params,a=tex.axis_height,d=.1,pad=this.node.getProperty("withDelims")?0:tex.nulldelimiterspace,W=Math.max((nbox.L+nbox.w+nbox.R)*nbox.rscale,(dbox.L+dbox.w+dbox.R)*dbox.rscale),nx=this.getAlignX(W,nbox,numalign)+d+pad,dx=this.getAlignX(W,dbox,denomalign)+d+pad,_c=this.getTUV(display,t),T=_c.T,u=_c.u,v=_c.v;num.toSVG(svg),num.place(nx,a+T+Math.max(nbox.d*nbox.rscale,u)),den.toSVG(svg),den.place(dx,a-T-Math.max(dbox.h*dbox.rscale,v)),this.adaptor.append(svg,this.svg("rect",{width:this.fixed(W+2*d),height:this.fixed(t),x:this.fixed(pad),y:this.fixed(a-t/2)}))},SVGmfrac.prototype.makeAtop=function(display){var svg=this.element,_a=this.node.attributes.getList("numalign","denomalign"),numalign=_a.numalign,denomalign=_a.denomalign,_b=__read(this.childNodes,2),num=_b[0],den=_b[1],nbox=num.getBBox(),dbox=den.getBBox(),tex=this.font.params,pad=this.node.getProperty("withDelims")?0:tex.nulldelimiterspace,W=Math.max((nbox.L+nbox.w+nbox.R)*nbox.rscale,(dbox.L+dbox.w+dbox.R)*dbox.rscale),nx=this.getAlignX(W,nbox,numalign)+pad,dx=this.getAlignX(W,dbox,denomalign)+pad,_c=this.getUVQ(display),u=_c.u,v=_c.v;num.toSVG(svg),num.place(nx,u),den.toSVG(svg),den.place(dx,-v)},SVGmfrac.prototype.makeBevelled=function(display){var svg=this.element,_a=__read(this.childNodes,2),num=_a[0],den=_a[1],_b=this.getBevelData(display),u=_b.u,v=_b.v,delta=_b.delta,nbox=_b.nbox,dbox=_b.dbox,w=(nbox.L+nbox.w+nbox.R)*nbox.rscale;num.toSVG(svg),this.bevel.toSVG(svg),den.toSVG(svg),num.place(nbox.L*nbox.rscale,u),this.bevel.place(w-delta/2,0),den.place(w+this.bevel.getBBox().w+dbox.L*dbox.rscale-delta,v)},SVGmfrac.kind=mfrac_js_2.MmlMfrac.prototype.kind,SVGmfrac}(mfrac_js_1.CommonMfracMixin(Wrapper_js_1.SVGWrapper));exports.SVGmfrac=SVGmfrac},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGmroot=void 0;var msqrt_js_1=__webpack_require__(13),mroot_js_1=__webpack_require__(32),mroot_js_2=__webpack_require__(92),SVGmroot=function(_super){function SVGmroot(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGmroot,_super),SVGmroot.prototype.addRoot=function(ROOT,root,sbox,H){root.toSVG(ROOT);var _a=__read(this.getRootDimens(sbox,H),3),x=_a[0],h=_a[1],dx=_a[2],bbox=root.getBBox();root.place(dx*bbox.rscale,h),this.dx=x},SVGmroot.kind=mroot_js_2.MmlMroot.prototype.kind,SVGmroot}(mroot_js_1.CommonMrootMixin(msqrt_js_1.SVGmsqrt));exports.SVGmroot=SVGmroot},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGmfenced=void 0;var Wrapper_js_1=__webpack_require__(0),mfenced_js_1=__webpack_require__(24),mfenced_js_2=__webpack_require__(93),SVGmfenced=function(_super){function SVGmfenced(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGmfenced,_super),SVGmfenced.prototype.toSVG=function(parent){var svg=this.standardSVGnode(parent);this.setChildrenParent(this.mrow),this.mrow.toSVG(svg),this.setChildrenParent(this)},SVGmfenced.prototype.setChildrenParent=function(parent){var e_1,_a;try{for(var _b=__values(this.childNodes),_c=_b.next();!_c.done;_c=_b.next()){var child=_c.value;child.parent=parent}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b["return"])&&_a.call(_b)}finally{if(e_1)throw e_1.error}}},SVGmfenced.kind=mfenced_js_2.MmlMfenced.prototype.kind,SVGmfenced}(mfenced_js_1.CommonMfencedMixin(Wrapper_js_1.SVGWrapper));exports.SVGmfenced=SVGmfenced},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGscriptbase=void 0;var Wrapper_js_1=__webpack_require__(0),scriptbase_js_1=__webpack_require__(39),SVGscriptbase=function(_super){function SVGscriptbase(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGscriptbase,_super),SVGscriptbase.prototype.toSVG=function(parent){var svg=this.standardSVGnode(parent),bbox=this.baseChild.getBBox(),sbox=this.script.getBBox(),_a=__read(this.getOffset(bbox,sbox),2),x=_a[0],v=_a[1];this.baseChild.toSVG(svg),this.script.toSVG(svg),this.script.place(bbox.w*bbox.rscale+x,v)},SVGscriptbase.kind="scriptbase",SVGscriptbase.useIC=!1,SVGscriptbase}(scriptbase_js_1.CommonScriptbaseMixin(Wrapper_js_1.SVGWrapper));exports.SVGscriptbase=SVGscriptbase},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGmunderover=exports.SVGmover=exports.SVGmunder=void 0;var msubsup_js_1=__webpack_require__(8),munderover_js_1=__webpack_require__(7),munderover_js_2=__webpack_require__(7),munderover_js_3=__webpack_require__(7),munderover_js_4=__webpack_require__(95),SVGmunder=function(_super){function SVGmunder(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGmunder,_super),SVGmunder.prototype.toSVG=function(parent){if(this.hasMovableLimits())return void _super.prototype.toSVG.call(this,parent);var svg=this.standardSVGnode(parent),_a=__read([this.baseChild,this.script],2),base=_a[0],script=_a[1],_b=__read([base.getBBox(),script.getBBox()],2),bbox=_b[0],sbox=_b[1];base.toSVG(svg),script.toSVG(svg);var delta=this.getDelta(!0),v=this.getUnderKV(bbox,sbox)[1],_c=__read(this.getDeltaW([bbox,sbox],[0,-delta]),2),bx=_c[0],sx=_c[1];base.place(bx,0),script.place(sx,v)},SVGmunder.kind=munderover_js_4.MmlMunder.prototype.kind,SVGmunder.useIC=!0,SVGmunder}(munderover_js_1.CommonMunderMixin(msubsup_js_1.SVGmsub));exports.SVGmunder=SVGmunder;var SVGmover=function(_super){function SVGmover(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGmover,_super),SVGmover.prototype.toSVG=function(parent){if(this.hasMovableLimits())return void _super.prototype.toSVG.call(this,parent);var svg=this.standardSVGnode(parent),_a=__read([this.baseChild,this.script],2),base=_a[0],script=_a[1],_b=__read([base.getBBox(),script.getBBox()],2),bbox=_b[0],sbox=_b[1];base.toSVG(svg),script.toSVG(svg);var delta=this.getDelta(),u=this.getOverKU(bbox,sbox)[1],_c=__read(this.getDeltaW([bbox,sbox],[0,delta]),2),bx=_c[0],sx=_c[1];base.place(bx,0),script.place(sx,u)},SVGmover.kind=munderover_js_4.MmlMover.prototype.kind,SVGmover.useIC=!0,SVGmover}(munderover_js_2.CommonMoverMixin(msubsup_js_1.SVGmsup));exports.SVGmover=SVGmover;var SVGmunderover=function(_super){function SVGmunderover(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGmunderover,_super),SVGmunderover.prototype.toSVG=function(parent){if(this.hasMovableLimits())return void _super.prototype.toSVG.call(this,parent);var svg=this.standardSVGnode(parent),_a=__read([this.baseChild,this.overChild,this.underChild],3),base=_a[0],over=_a[1],under=_a[2],_b=__read([base.getBBox(),over.getBBox(),under.getBBox()],3),bbox=_b[0],obox=_b[1],ubox=_b[2];base.toSVG(svg),under.toSVG(svg),over.toSVG(svg);var delta=this.getDelta(),u=this.getOverKU(bbox,obox)[1],v=this.getUnderKV(bbox,ubox)[1],_c=__read(this.getDeltaW([bbox,ubox,obox],[0,-delta,delta]),3),bx=_c[0],ux=_c[1],ox=_c[2];base.place(bx,0),under.place(ux,v),over.place(ox,u)},SVGmunderover.kind=munderover_js_4.MmlMunderover.prototype.kind,SVGmunderover.useIC=!0,SVGmunderover}(munderover_js_3.CommonMunderoverMixin(msubsup_js_1.SVGmsubsup));exports.SVGmunderover=SVGmunderover},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGmmultiscripts=void 0;var msubsup_js_1=__webpack_require__(8),mmultiscripts_js_1=__webpack_require__(28),mmultiscripts_js_2=__webpack_require__(96),SVGmmultiscripts=function(_super){function SVGmmultiscripts(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGmmultiscripts,_super),SVGmmultiscripts.prototype.toSVG=function(parent){var svg=this.standardSVGnode(parent),data=this.getScriptData(),sub=this.combinePrePost(data.sub,data.psub),sup=this.combinePrePost(data.sup,data.psup),_a=__read(this.getUVQ(data.base,sub,sup),2),u=_a[0],v=_a[1],x=0;data.numPrescripts&&(x=this.addScripts(.05,u,v,!0,this.firstPrescript,data.numPrescripts));var base=this.baseChild;base.toSVG(svg),base.place(x,0),x+=base.getBBox().w,data.numScripts&&this.addScripts(x,u,v,!1,1,data.numScripts)},SVGmmultiscripts.prototype.addScripts=function(x,u,v,isPre,i,n){var adaptor=this.adaptor,supRow=adaptor.append(this.element,this.svg("g")),subRow=adaptor.append(this.element,this.svg("g"));this.place(x,u,supRow),this.place(x,v,subRow);for(var m=i+2*n,dx=0;m>i;){var _a=__read([this.childNodes[i++],this.childNodes[i++]],2),sub=_a[0],sup=_a[1],_b=__read([sub.getBBox(),sup.getBBox()],2),subbox=_b[0],supbox=_b[1],_c=__read([subbox.rscale,supbox.rscale],2),subr=_c[0],supr=_c[1],w=Math.max(subbox.w*subr,supbox.w*supr);sub.toSVG(subRow),sup.toSVG(supRow),sub.place(dx+(isPre?w-subbox.w*subr:0),0),sup.place(dx+(isPre?w-supbox.w*supr:0),0),dx+=w}return x+dx},SVGmmultiscripts.kind=mmultiscripts_js_2.MmlMmultiscripts.prototype.kind,SVGmmultiscripts}(mmultiscripts_js_1.CommonMmultiscriptsMixin(msubsup_js_1.SVGmsubsup));exports.SVGmmultiscripts=SVGmmultiscripts},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=this&&this.__spread||function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGmtable=void 0;var Wrapper_js_1=__webpack_require__(0),mtable_js_1=__webpack_require__(36),mtable_js_2=__webpack_require__(97),CLASSPREFIX="mjx-",SVGmtable=function(_super){function SVGmtable(factory,node,parent){void 0===parent&&(parent=null);var _this=_super.call(this,factory,node,parent)||this,def={"data-labels":!0};return _this.isTop&&(def.transform="matrix(1 0 0 -1 0 0)"),_this.labels=_this.svg("g",def),_this}return __extends(SVGmtable,_super),SVGmtable.prototype.toSVG=function(parent){var svg=this.standardSVGnode(parent);this.placeRows(svg),this.handleColumnLines(svg),this.handleRowLines(svg),this.handleFrame(svg);var dx=this.handlePWidth(svg);this.handleLabels(svg,parent,dx)},SVGmtable.prototype.placeRows=function(svg){for(var _a,_b,_c,equal=this.node.attributes.get("equalrows"),_d=this.getTableData(),H=_d.H,D=_d.D,HD=this.getEqualRowHeight(),rSpace=this.getRowHalfSpacing(),rLines=__spread([this.fLine],this.rLines,[this.fLine]),y=this.getBBox().h-rLines[0],i=0;i<this.numRows;i++){var row=this.childNodes[i];_a=__read(this.getRowHD(equal,HD,H[i],D[i]),2),row.H=_a[0],row.D=_a[1],_b=__read([rSpace[i],rSpace[i+1]],2),row.tSpace=_b[0],row.bSpace=_b[1],_c=__read([rLines[i],rLines[i+1]],2),row.tLine=_c[0],row.bLine=_c[1],row.toSVG(svg),row.place(0,y-rSpace[i]-row.H),y-=rSpace[i]+row.H+row.D+rSpace[i+1]+rLines[i+1]}},SVGmtable.prototype.getRowHD=function(equal,HD,H,D){return equal?[(HD+H-D)/2,(HD-H+D)/2]:[H,D]},SVGmtable.prototype.handleColor=function(){_super.prototype.handleColor.call(this);var rect=this.adaptor.firstChild(this.element);rect&&this.adaptor.setAttribute(rect,"width",this.fixed(this.getWidth()))},SVGmtable.prototype.handleColumnLines=function(svg){if("none"!==this.node.attributes.get("columnlines")){var lines=this.getColumnAttributes("columnlines");if(lines)for(var cSpace=this.getColumnHalfSpacing(),cLines=this.cLines,cWidth=this.getComputedWidths(),x=this.fLine,i=0;i<lines.length;i++)x+=cSpace[i]+cWidth[i]+cSpace[i+1],"none"!==lines[i]&&this.adaptor.append(svg,this.makeVLine(x,lines[i],cLines[i])),x+=cLines[i]}},SVGmtable.prototype.handleRowLines=function(svg){if("none"!==this.node.attributes.get("rowlines")){var lines=this.getRowAttributes("rowlines");if(lines)for(var equal=this.node.attributes.get("equalrows"),_a=this.getTableData(),H=_a.H,D=_a.D,HD=this.getEqualRowHeight(),rSpace=this.getRowHalfSpacing(),rLines=this.rLines,y=this.getBBox().h-this.fLine,i=0;i<lines.length;i++){var _b=__read(this.getRowHD(equal,HD,H[i],D[i]),2),rH=_b[0],rD=_b[1];y-=rSpace[i]+rH+rD+rSpace[i+1],"none"!==lines[i]&&this.adaptor.append(svg,this.makeHLine(y,lines[i],rLines[i])),y-=rLines[i]}}},SVGmtable.prototype.handleFrame=function(svg){if(this.frame){var _a=this.getBBox(),h=_a.h,d=_a.d,w=_a.w,style=this.node.attributes.get("frame");this.adaptor.append(svg,this.makeFrame(w,h,d,style))}},SVGmtable.prototype.handlePWidth=function(svg){if(!this.pWidth)return 0;var _a=this.getBBox(),w=_a.w,L=_a.L,R=_a.R,W=L+this.pWidth+R,align=this.getAlignShift()[0],CW=Math.max(this.isTop?W:0,this.container.getWrapWidth(this.containerI))-L-R,dw=w-(this.pWidth>CW?CW:this.pWidth),dx="left"===align?0:"right"===align?dw:dw/2;if(dx){var table=this.svg("g",{},this.adaptor.childNodes(svg));this.place(dx,0,table),this.adaptor.append(svg,table)}return dx},SVGmtable.prototype.lineClass=function(style){return CLASSPREFIX+style},SVGmtable.prototype.makeFrame=function(w,h,d,style){var t=this.fLine;return this.svg("rect",this.setLineThickness(t,style,{"data-frame":!0,"class":this.lineClass(style),width:this.fixed(w-t),height:this.fixed(h+d-t),x:this.fixed(t/2),y:this.fixed(t/2-d)}))},SVGmtable.prototype.makeVLine=function(x,style,t){var _a=this.getBBox(),h=_a.h,d=_a.d,dt="dotted"===style?t/2:0,X=this.fixed(x+t/2);return this.svg("line",this.setLineThickness(t,style,{"data-line":"v","class":this.lineClass(style),x1:X,y1:this.fixed(dt-d),x2:X,y2:this.fixed(h-dt)}))},SVGmtable.prototype.makeHLine=function(y,style,t){var w=this.getBBox().w,dt="dotted"===style?t/2:0,Y=this.fixed(y-t/2);return this.svg("line",this.setLineThickness(t,style,{"data-line":"h","class":this.lineClass(style),x1:this.fixed(dt),y1:Y,x2:this.fixed(w-dt),y2:Y}))},SVGmtable.prototype.setLineThickness=function(t,style,properties){return.07!==t&&(properties["stroke-thickness"]=this.fixed(t),"solid"!==style&&(properties["stroke-dasharray"]=("dotted"===style?"0,":"")+this.fixed(2*t))),properties},SVGmtable.prototype.handleLabels=function(svg,_parent,dx){if(this.hasLabels){var labels=this.labels,attributes=this.node.attributes,side=attributes.get("side");this.spaceLabels(),this.isTop?this.topTable(svg,labels,side):this.subTable(svg,labels,side,dx)
}},SVGmtable.prototype.spaceLabels=function(){for(var adaptor=this.adaptor,h=this.getBBox().h,L=this.getTableData().L,space=this.getRowHalfSpacing(),y=h-this.fLine,current=adaptor.firstChild(this.labels),i=0;i<this.numRows;i++){var row=this.childNodes[i];if(row.node.isKind("mlabeledtr")){var cell=row.childNodes[0];y-=space[i]+row.H,row.placeCell(cell,{x:0,y:y,w:L,lSpace:0,rSpace:0,lLine:0,rLine:0}),y-=row.D+space[i+1]+this.rLines[i],current=adaptor.next(current)}else y-=space[i]+row.H+row.D+space[i+1]+this.rLines[i]}},SVGmtable.prototype.topTable=function(svg,labels,side){var adaptor=this.adaptor,_a=this.getBBox(),h=_a.h,d=_a.d,w=_a.w,L=_a.L,R=_a.R,W=L+(this.pWidth||w)+R,LW=this.getTableData().L,_b=__read(this.getPadAlignShift(side),3),align=_b[1],shift=_b[2],dx=shift+("right"===align?-W:"center"===align?-W/2:0)+L,matrix="matrix(1 0 0 -1 0 0)",scale="scale("+this.jax.fixed(1e3*this.font.params.x_height/this.metrics.ex,2)+")",transform="translate(0 "+this.fixed(h)+") "+matrix+" "+scale,table=this.svg("svg",{"data-table":!0,preserveAspectRatio:"left"===align?"xMinYMid":"right"===align?"xMaxYMid":"xMidYMid",viewBox:[this.fixed(-dx),this.fixed(-h),1,this.fixed(h+d)].join(" ")},[this.svg("g",{transform:matrix},adaptor.childNodes(svg))]);labels=this.svg("svg",{"data-labels":!0,preserveAspectRatio:"left"===side?"xMinYMid":"xMaxYMid",viewBox:["left"===side?0:this.fixed(LW),this.fixed(-h),1,this.fixed(h+d)].join(" ")},[labels]),adaptor.append(svg,this.svg("g",{transform:transform},[table,labels])),this.place(-L,0,svg)},SVGmtable.prototype.subTable=function(svg,labels,side,dx){var adaptor=this.adaptor,_a=this.getBBox(),w=_a.w,L=_a.L,R=_a.R,W=L+(this.pWidth||w)+R,labelW=this.getTableData().L,align=this.getAlignShift()[0],CW=Math.max(W,this.container.getWrapWidth(this.containerI));this.place("left"===side?("left"===align?0:"right"===align?W-CW+dx:(W-CW)/2+dx)-L:("left"===align?CW:"right"===align?W+dx:(CW+W)/2+dx)-L-labelW,0,labels),adaptor.append(svg,labels)},SVGmtable.kind=mtable_js_2.MmlMtable.prototype.kind,SVGmtable.styles={'g[data-mml-node="mtable"] > line[data-line]':{"stroke-width":"70px",fill:"none"},'g[data-mml-node="mtable"] > rect[data-frame]':{"stroke-width":"70px",fill:"none"},'g[data-mml-node="mtable"] > .mjx-dashed':{"stroke-dasharray":"140"},'g[data-mml-node="mtable"] > .mjx-dotted':{"stroke-linecap":"round","stroke-dasharray":"0,140"},'g[data-mml-node="mtable"] > g > svg':{overflow:"visible"}},SVGmtable}(mtable_js_1.CommonMtableMixin(Wrapper_js_1.SVGWrapper));exports.SVGmtable=SVGmtable},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=this&&this.__spread||function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGmlabeledtr=exports.SVGmtr=void 0;var Wrapper_js_1=__webpack_require__(0),mtr_js_1=__webpack_require__(12),mtr_js_2=__webpack_require__(12),mtr_js_3=__webpack_require__(98),SVGmtr=function(_super){function SVGmtr(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGmtr,_super),SVGmtr.prototype.toSVG=function(parent){var svg=this.standardSVGnode(parent);this.placeCells(svg),this.placeColor()},SVGmtr.prototype.placeCells=function(svg){for(var cSpace=this.parent.getColumnHalfSpacing(),cLines=__spread([this.parent.fLine],this.parent.cLines,[this.parent.fLine]),cWidth=this.parent.getComputedWidths(),x=cLines[0],i=0;i<this.numCells;i++){var child=this.getChild(i);child.toSVG(svg),x+=this.placeCell(child,{x:x,y:0,lSpace:cSpace[i],rSpace:cSpace[i+1],w:cWidth[i],lLine:cLines[i],rLine:cLines[i+1]})}},SVGmtr.prototype.placeCell=function(cell,sizes){var x=sizes.x,y=sizes.y,lSpace=sizes.lSpace,w=sizes.w,rSpace=sizes.rSpace,lLine=sizes.lLine,rLine=sizes.rLine,_a=__read(cell.placeCell(x+lSpace,y,w,this.H,this.D),2),dx=_a[0],dy=_a[1],W=lSpace+w+rSpace,_b=__read([this.H+this.tSpace,this.D+this.bSpace],2),H=_b[0],D=_b[1];return cell.placeColor(-(dx+lSpace+lLine/2),-(D+this.bLine/2+dy),W+(lLine+rLine)/2,H+D+(this.tLine+this.bLine)/2),W+rLine},SVGmtr.prototype.placeColor=function(){var adaptor=this.adaptor,child=adaptor.firstChild(this.element);if(child&&"rect"===adaptor.kind(child)&&adaptor.getAttribute(child,"data-bgcolor")){var _a=__read([this.tLine/2,this.bLine/2],2),TL=_a[0],BL=_a[1],_b=__read([this.tSpace,this.bSpace],2),TS=_b[0],BS=_b[1],_c=__read([this.H,this.D],2),H=_c[0],D=_c[1];adaptor.setAttribute(child,"y",this.fixed(-(D+BS+BL))),adaptor.setAttribute(child,"width",this.fixed(this.parent.getWidth())),adaptor.setAttribute(child,"height",this.fixed(TL+TS+H+D+BS+BL))}},SVGmtr.kind=mtr_js_3.MmlMtr.prototype.kind,SVGmtr}(mtr_js_1.CommonMtrMixin(Wrapper_js_1.SVGWrapper));exports.SVGmtr=SVGmtr;var SVGmlabeledtr=function(_super){function SVGmlabeledtr(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGmlabeledtr,_super),SVGmlabeledtr.prototype.toSVG=function(parent){_super.prototype.toSVG.call(this,parent);var child=this.childNodes[0];child&&child.toSVG(this.parent.labels)},SVGmlabeledtr.kind=mtr_js_3.MmlMlabeledtr.prototype.kind,SVGmlabeledtr}(mtr_js_2.CommonMlabeledtrMixin(SVGmtr));exports.SVGmlabeledtr=SVGmlabeledtr},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGmtd=void 0;var Wrapper_js_1=__webpack_require__(0),mtd_js_1=__webpack_require__(37),mtd_js_2=__webpack_require__(99),SVGmtd=function(_super){function SVGmtd(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGmtd,_super),SVGmtd.prototype.placeCell=function(x,y,W,H,D){var bbox=this.getBBox(),h=Math.max(bbox.h,.75),d=Math.max(bbox.d,.25),calign=this.node.attributes.get("columnalign"),ralign=this.node.attributes.get("rowalign"),alignX=this.getAlignX(W,bbox,calign),alignY=this.getAlignY(H,D,h,d,ralign);return this.place(x+alignX,y+alignY),[alignX,alignY]},SVGmtd.prototype.placeColor=function(x,y,W,H){var adaptor=this.adaptor,child=adaptor.firstChild(this.element);child&&"rect"===adaptor.kind(child)&&adaptor.getAttribute(child,"data-bgcolor")&&(adaptor.setAttribute(child,"x",this.fixed(x)),adaptor.setAttribute(child,"y",this.fixed(y)),adaptor.setAttribute(child,"width",this.fixed(W)),adaptor.setAttribute(child,"height",this.fixed(H)))},SVGmtd.kind=mtd_js_2.MmlMtd.prototype.kind,SVGmtd}(mtd_js_1.CommonMtdMixin(Wrapper_js_1.SVGWrapper));exports.SVGmtd=SVGmtd},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGmaction=void 0;var Wrapper_js_1=__webpack_require__(0),maction_js_1=__webpack_require__(10),maction_js_2=__webpack_require__(10),maction_js_3=__webpack_require__(100),SVGmaction=function(_super){function SVGmaction(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGmaction,_super),SVGmaction.prototype.toSVG=function(parent){var svg=this.standardSVGnode(parent),child=this.selected,_a=child.getBBox(),h=_a.h,d=_a.d,w=_a.w;this.adaptor.append(this.element,this.svg("rect",{width:this.fixed(w),height:this.fixed(h+d),y:this.fixed(-d),fill:"none","pointer-events":"all"})),child.toSVG(svg),this.action(this,this.data)},SVGmaction.prototype.setEventHandler=function(type,handler){this.element.addEventListener(type,handler)},SVGmaction.kind=maction_js_3.MmlMaction.prototype.kind,SVGmaction.styles={'[jax="SVG"] mjx-tool':{display:"inline-block",position:"relative",width:0,height:0},'[jax="SVG"] mjx-tool > mjx-tip':{position:"absolute",top:0,left:0},"mjx-tool > mjx-tip":{display:"inline-block",padding:".2em",border:"1px solid #888","font-size":"70%","background-color":"#F8F8F8",color:"black","box-shadow":"2px 2px 5px #AAAAAA"},'g[data-mml-node="maction"][data-toggle]':{cursor:"pointer"},"mjx-status":{display:"block",position:"fixed",left:"1em",bottom:"1em","min-width":"25%",padding:".2em .4em",border:"1px solid #888","font-size":"90%","background-color":"#F8F8F8",color:"black"}},SVGmaction.actions=new Map([["toggle",[function(node,_data){node.adaptor.setAttribute(node.element,"data-toggle",node.node.attributes.get("selection"));var math=node.factory.jax.math,document=node.factory.jax.document,mml=node.node;node.setEventHandler("click",function(event){math.end.node||(math.start.node=math.end.node=math.typesetRoot,math.start.n=math.end.n=0),mml.nextToggleSelection(),math.rerender(document),event.stopPropagation()})},{}]],["tooltip",[function(node,data){var tip=node.childNodes[1];if(tip){var rect=node.adaptor.firstChild(node.element);if(tip.node.isKind("mtext")){var text=tip.node.getText();node.adaptor.insert(node.svg("title",{},[node.text(text)]),rect)}else{var adaptor_1=node.adaptor,container_1=node.jax.container,math=node.node.factory.create("math",{},[node.childNodes[1].node]),tool_1=node.html("mjx-tool",{},[node.html("mjx-tip")]),hidden_1=adaptor_1.append(rect,node.svg("foreignObject",{style:{display:"none"}},[tool_1]));node.jax.processMath(math,adaptor_1.firstChild(tool_1)),node.childNodes[1].node.parent=node.node,node.setEventHandler("mouseover",function(event){data.stopTimers(node,data),data.hoverTimer.set(node,setTimeout(function(){adaptor_1.setStyle(tool_1,"left","0"),adaptor_1.setStyle(tool_1,"top","0"),adaptor_1.append(container_1,tool_1);var tbox=adaptor_1.nodeBBox(tool_1),nbox=adaptor_1.nodeBBox(node.element),dx=(nbox.right-tbox.left)/node.metrics.em+node.dx,dy=(nbox.bottom-tbox.bottom)/node.metrics.em+node.dy;adaptor_1.setStyle(tool_1,"left",node.px(dx)),adaptor_1.setStyle(tool_1,"top",node.px(dy))},data.postDelay)),event.stopPropagation()}),node.setEventHandler("mouseout",function(event){data.stopTimers(node,data);var timer=setTimeout(function(){return adaptor_1.append(hidden_1,tool_1)},data.clearDelay);data.clearTimer.set(node,timer),event.stopPropagation()})}}},maction_js_2.TooltipData]],["statusline",[function(node,data){var tip=node.childNodes[1];if(tip&&tip.node.isKind("mtext")){var adaptor_2=node.adaptor,text_1=tip.node.getText();adaptor_2.setAttribute(node.element,"data-statusline",text_1),node.setEventHandler("mouseover",function(event){if(null===data.status){var body=adaptor_2.body(adaptor_2.document);data.status=adaptor_2.append(body,node.html("mjx-status",{},[node.text(text_1)]))}event.stopPropagation()}),node.setEventHandler("mouseout",function(event){data.status&&(adaptor_2.remove(data.status),data.status=null),event.stopPropagation()})}},{status:null}]]]),SVGmaction}(maction_js_1.CommonMactionMixin(Wrapper_js_1.SVGWrapper));exports.SVGmaction=SVGmaction},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGmenclose=void 0;var Wrapper_js_1=__webpack_require__(0),menclose_js_1=__webpack_require__(23),Notation=__webpack_require__(65),menclose_js_2=__webpack_require__(101),SVGmenclose=function(_super){function SVGmenclose(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGmenclose,_super),SVGmenclose.prototype.toSVG=function(parent){var e_1,_a,svg=this.standardSVGnode(parent),left=this.getBBoxExtenders()[3],def={};left>0&&(def.transform="translate("+this.fixed(left)+", 0)");var block=this.adaptor.append(svg,this.svg("g",def));this.renderChild?this.renderChild(this,block):this.childNodes[0].toSVG(block);try{for(var _b=__values(Object.keys(this.notations)),_c=_b.next();!_c.done;_c=_b.next()){var name_1=_c.value,notation=this.notations[name_1];!notation.renderChild&&notation.renderer(this,svg)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b["return"])&&_a.call(_b)}finally{if(e_1)throw e_1.error}}},SVGmenclose.prototype.arrow=function(W,a,double){void 0===double&&(double=!1);var _a=this.getBBox(),w=_a.w,h=_a.h,d=_a.d,dw=(W-w)/2,m=(h-d)/2,t=this.thickness,t2=t/2,_b=__read([t*this.arrowhead.x,t*this.arrowhead.y,t*this.arrowhead.dx],3),x=_b[0],y=_b[1],dx=_b[2],arrow=double?this.fill("M",w+dw,m,"l",-(x+dx),y,"l",dx,t2-y,"L",x-dw,m+t2,"l",dx,y-t2,"l",-(x+dx),-y,"l",x+dx,-y,"l",-dx,y-t2,"L",w+dw-x,m-t2,"l",-dx,t2-y,"Z"):this.fill("M",w+dw,m,"l",-(x+dx),y,"l",dx,t2-y,"L",-dw,m+t2,"l",0,-t,"L",w+dw-x,m-t2,"l",-dx,t2-y,"Z");if(a){var A=this.jax.fixed(180*-a/Math.PI);this.adaptor.setAttribute(arrow,"transform","rotate("+[A,this.fixed(w/2),this.fixed(m)].join(" ")+")")}return arrow},SVGmenclose.prototype.line=function(pq){var _a=__read(pq,4),x1=_a[0],y1=_a[1],x2=_a[2],y2=_a[3];return this.svg("line",{x1:this.fixed(x1),y1:this.fixed(y1),x2:this.fixed(x2),y2:this.fixed(y2),"stroke-width":this.fixed(this.thickness)})},SVGmenclose.prototype.box=function(w,h,d,r){void 0===r&&(r=0);var t=this.thickness,def={x:this.fixed(t/2),y:this.fixed(t/2-d),width:this.fixed(w-t),height:this.fixed(h+d-t),fill:"none","stroke-width":this.fixed(t)};return r&&(def.rx=this.fixed(r)),this.svg("rect",def)},SVGmenclose.prototype.ellipse=function(w,h,d){var t=this.thickness;return this.svg("ellipse",{rx:this.fixed((w-t)/2),ry:this.fixed((h+d-t)/2),cx:this.fixed(w/2),cy:this.fixed((h-d)/2),fill:"none","stroke-width":this.fixed(t)})},SVGmenclose.prototype.path=function(join){for(var _this=this,P=[],_i=1;_i<arguments.length;_i++)P[_i-1]=arguments[_i];return this.svg("path",{d:P.map(function(x){return"string"==typeof x?x:_this.fixed(x)}).join(" "),style:{"stroke-width":this.fixed(this.thickness)},"stroke-linecap":"round","stroke-linejoin":join,fill:"none"})},SVGmenclose.prototype.fill=function(){for(var _this=this,P=[],_i=0;_i<arguments.length;_i++)P[_i]=arguments[_i];return this.svg("path",{d:P.map(function(x){return"string"==typeof x?x:_this.fixed(x)}).join(" ")})},SVGmenclose.kind=menclose_js_2.MmlMenclose.prototype.kind,SVGmenclose.notations=new Map([Notation.Border("top"),Notation.Border("right"),Notation.Border("bottom"),Notation.Border("left"),Notation.Border2("actuarial","top","right"),Notation.Border2("madruwb","bottom","right"),Notation.DiagonalStrike("up"),Notation.DiagonalStrike("down"),["horizontalstrike",{renderer:Notation.RenderLine("horizontal"),bbox:function(node){return[0,node.padding,0,node.padding]}}],["verticalstrike",{renderer:Notation.RenderLine("vertical"),bbox:function(node){return[node.padding,0,node.padding,0]}}],["box",{renderer:function(node,_child){var _a=node.getBBox(),w=_a.w,h=_a.h,d=_a.d;node.adaptor.append(node.element,node.box(w,h,d))},bbox:Notation.fullBBox,border:Notation.fullBorder,remove:"left right top bottom"}],["roundedbox",{renderer:function(node,_child){var _a=node.getBBox(),w=_a.w,h=_a.h,d=_a.d,r=node.thickness+node.padding;node.adaptor.append(node.element,node.box(w,h,d,r))},bbox:Notation.fullBBox}],["circle",{renderer:function(node,_child){var _a=node.getBBox(),w=_a.w,h=_a.h,d=_a.d;node.adaptor.append(node.element,node.ellipse(w,h,d))},bbox:Notation.fullBBox}],["phasorangle",{renderer:function(node,_child){var _a=node.getBBox(),w=_a.w,h=_a.h,d=_a.d,a=node.getArgMod(1.75*node.padding,h+d)[0],t=node.thickness/2,HD=h+d,cos=Math.cos(a);node.adaptor.append(node.element,node.path("mitre","M",w,t-d,"L",t+cos*t,t-d,"L",cos*HD+t,HD-d-t))},bbox:function(node){var p=node.padding/2,t=node.thickness;return[2*p,p,p+t,3*p+t]},border:function(node){return[0,0,node.thickness,0]},remove:"bottom"}],Notation.Arrow("up"),Notation.Arrow("down"),Notation.Arrow("left"),Notation.Arrow("right"),Notation.Arrow("updown"),Notation.Arrow("leftright"),Notation.DiagonalArrow("updiagonal"),Notation.DiagonalArrow("northeast"),Notation.DiagonalArrow("southeast"),Notation.DiagonalArrow("northwest"),Notation.DiagonalArrow("southwest"),Notation.DiagonalArrow("northeastsouthwest"),Notation.DiagonalArrow("northwestsoutheast"),["longdiv",{renderer:function(node,_child){var _a=node.getBBox(),w=_a.w,h=_a.h,d=_a.d,t=node.thickness/2,p=node.padding;node.adaptor.append(node.element,node.path("round","M",t,t-d,"a",p-t/2,(h+d)/2-4*t,0,"0,1",0,h+d-2*t,"L",w-t,h-t))},bbox:function(node){var p=node.padding,t=node.thickness;return[p+t,p,p,2*p+t/2]}}],["radical",{renderer:function(node,child){node.msqrt.toSVG(child);var left=node.sqrtTRBL()[3];node.place(-left,0,child)},init:function(node){node.msqrt=node.createMsqrt(node.childNodes[0])},bbox:function(node){return node.sqrtTRBL()},renderChild:!0}]]),SVGmenclose}(menclose_js_1.CommonMencloseMixin(Wrapper_js_1.SVGWrapper));exports.SVGmenclose=SVGmenclose},function(module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||exports.hasOwnProperty(p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Arrow=exports.DiagonalArrow=exports.DiagonalStrike=exports.Border2=exports.Border=exports.RenderLine=exports.lineData=exports.computeLineData=void 0;var Notation=__webpack_require__(5);__exportStar(__webpack_require__(5),exports),exports.computeLineData={top:function(h,_d,w,t){return[0,h-t,w,h-t]},right:function(h,d,w,t){return[w-t,-d,w-t,h]},bottom:function(_h,d,w,t){return[0,t-d,w,t-d]},left:function(h,d,_w,t){return[t,-d,t,h]},vertical:function(h,d,w,t){return[w/2-t,h,w/2-t,-d]},horizontal:function(h,d,w,t){return[0,(h-d)/2-t,w,(h-d)/2-t]},up:function(h,d,w,t){return[t,t-d,w-t,h-t]},down:function(h,d,w,t){return[t,h-t,w-t,t-d]}},exports.lineData=function(node,kind){var _a=node.getBBox(),h=_a.h,d=_a.d,w=_a.w,t=node.thickness/2;return exports.computeLineData[kind](h,d,w,t)},exports.RenderLine=function(line){return function(node,_child){node.adaptor.append(node.element,node.line(exports.lineData(node,line)))}},exports.Border=function(side){return Notation.CommonBorder(function(node,_child){node.adaptor.append(node.element,node.line(exports.lineData(node,side)))})(side)},exports.Border2=function(name,side1,side2){return Notation.CommonBorder2(function(node,_child){node.adaptor.append(node.element,node.line(exports.lineData(node,side1))),node.adaptor.append(node.element,node.line(exports.lineData(node,side2)))})(name,side1,side2)},exports.DiagonalStrike=function(name){return Notation.CommonDiagonalStrike(function(_cname){return function(node,_child){node.adaptor.append(node.element,node.line(exports.lineData(node,name)))}})(name)},exports.DiagonalArrow=function(name){return Notation.CommonDiagonalArrow(function(node,arrow){node.adaptor.append(node.element,arrow)})(name)},exports.Arrow=function(name){return Notation.CommonArrow(function(node,arrow){node.adaptor.append(node.element,arrow)})(name)}},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGxml=exports.SVGannotationXML=exports.SVGannotation=exports.SVGsemantics=void 0;var Wrapper_js_1=__webpack_require__(0),semantics_js_1=__webpack_require__(40),semantics_js_2=__webpack_require__(102),MmlNode_js_1=__webpack_require__(3),SVGsemantics=function(_super){function SVGsemantics(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGsemantics,_super),SVGsemantics.prototype.toSVG=function(parent){var svg=this.standardSVGnode(parent);this.childNodes.length&&this.childNodes[0].toSVG(svg)},SVGsemantics.kind=semantics_js_2.MmlSemantics.prototype.kind,SVGsemantics}(semantics_js_1.CommonSemanticsMixin(Wrapper_js_1.SVGWrapper));exports.SVGsemantics=SVGsemantics;var SVGannotation=function(_super){function SVGannotation(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGannotation,_super),SVGannotation.prototype.toSVG=function(parent){_super.prototype.toSVG.call(this,parent)},SVGannotation.prototype.computeBBox=function(){return this.bbox},SVGannotation.kind=semantics_js_2.MmlAnnotation.prototype.kind,SVGannotation}(Wrapper_js_1.SVGWrapper);exports.SVGannotation=SVGannotation;var SVGannotationXML=function(_super){function SVGannotationXML(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGannotationXML,_super),SVGannotationXML.kind=semantics_js_2.MmlAnnotationXML.prototype.kind,SVGannotationXML.styles={"foreignObject[data-mjx-xml]":{"font-family":"initial","line-height":"normal",overflow:"visible"}},SVGannotationXML}(Wrapper_js_1.SVGWrapper);exports.SVGannotationXML=SVGannotationXML;var SVGxml=function(_super){function SVGxml(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGxml,_super),SVGxml.prototype.toSVG=function(parent){var xml=this.adaptor.clone(this.node.getXML()),em=this.jax.math.metrics.em*this.jax.math.metrics.scale,scale=this.fixed(1/em),_a=this.getBBox(),w=_a.w,h=_a.h,d=_a.d;this.element=this.adaptor.append(parent,this.svg("foreignObject",{"data-mjx-xml":!0,y:this.jax.fixed(-h*em)+"px",width:this.jax.fixed(w*em)+"px",height:this.jax.fixed((h+d)*em)+"px",transform:"scale("+scale+") matrix(1 0 0 -1 0 0)"},[xml]))},SVGxml.prototype.computeBBox=function(bbox,_recompute){void 0===_recompute&&(_recompute=!1);var _a=this.jax.measureXMLnode(this.node.getXML()),w=_a.w,h=_a.h,d=_a.d;bbox.w=w,bbox.h=h,bbox.d=d},SVGxml.prototype.getStyles=function(){},SVGxml.prototype.getScale=function(){},SVGxml.prototype.getVariant=function(){},SVGxml.kind=MmlNode_js_1.XMLNode.prototype.kind,SVGxml.autoStyle=!1,SVGxml}(Wrapper_js_1.SVGWrapper);exports.SVGxml=SVGxml},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGmglyph=void 0;var Wrapper_js_1=__webpack_require__(0),mglyph_js_1=__webpack_require__(26),mglyph_js_2=__webpack_require__(103),SVGmglyph=function(_super){function SVGmglyph(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGmglyph,_super),SVGmglyph.prototype.toSVG=function(parent){var svg=this.standardSVGnode(parent),_a=this.node.attributes.getList("src","alt"),src=_a.src,alt=_a.alt,h=this.fixed(this.height),w=this.fixed(this.width),y=this.fixed(this.height+(this.valign||0)),properties={width:w,height:h,transform:"translate(0 "+y+") matrix(1 0 0 -1 0 0)",preserveAspectRatio:"none",alt:alt,title:alt,href:src},img=this.svg("image",properties);this.adaptor.append(svg,img)},SVGmglyph.kind=mglyph_js_2.MmlMglyph.prototype.kind,SVGmglyph}(mglyph_js_1.CommonMglyphMixin(Wrapper_js_1.SVGWrapper));exports.SVGmglyph=SVGmglyph},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGTeXAtom=void 0;var Wrapper_js_1=__webpack_require__(0),TeXAtom_js_1=__webpack_require__(20),TeXAtom_js_2=__webpack_require__(104),MmlNode_js_1=__webpack_require__(3),SVGTeXAtom=function(_super){function SVGTeXAtom(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGTeXAtom,_super),SVGTeXAtom.prototype.toSVG=function(parent){if(_super.prototype.toSVG.call(this,parent),this.adaptor.setAttribute(this.element,"data-mjx-texclass",MmlNode_js_1.TEXCLASSNAMES[this.node.texClass]),this.node.texClass===MmlNode_js_1.TEXCLASS.VCENTER){var bbox=this.childNodes[0].getBBox(),h=bbox.h,d=bbox.d,a=this.font.params.axis_height,dh=(h+d)/2+a-h,translate="translate(0 "+this.fixed(dh)+")";this.adaptor.setAttribute(this.element,"transform",translate)}},SVGTeXAtom.kind=TeXAtom_js_2.TeXAtom.prototype.kind,SVGTeXAtom}(TeXAtom_js_1.CommonTeXAtomMixin(Wrapper_js_1.SVGWrapper));exports.SVGTeXAtom=SVGTeXAtom},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGTextNode=void 0;var MmlNode_js_1=__webpack_require__(3),Wrapper_js_1=__webpack_require__(0),TextNode_js_1=__webpack_require__(21),SVGTextNode=function(_super){function SVGTextNode(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SVGTextNode,_super),SVGTextNode.prototype.toSVG=function(parent){var e_1,_a,text=this.node.getText(),variant=this.parent.variant;if("-explicitFont"===variant)this.adaptor.append(parent,this.jax.unknownText(text,variant));else{var chars=this.remappedText(text,variant),x=0;try{for(var chars_1=__values(chars),chars_1_1=chars_1.next();!chars_1_1.done;chars_1_1=chars_1.next()){var n=chars_1_1.value;x+=this.placeChar(n,x,0,parent,variant)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{chars_1_1&&!chars_1_1.done&&(_a=chars_1["return"])&&_a.call(chars_1)}finally{if(e_1)throw e_1.error}}}this.element=this.adaptor.lastChild(parent)},SVGTextNode.kind=MmlNode_js_1.TextNode.prototype.kind,SVGTextNode.styles={".MathJax path":{"stroke-width":3}},SVGTextNode}(TextNode_js_1.CommonTextNodeMixin(Wrapper_js_1.SVGWrapper));exports.SVGTextNode=SVGTextNode},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FontCache=void 0;var FontCache=function(){function FontCache(jax){this.cache=new Map,this.defs=null,this.localID="",this.nextID=0,this.jax=jax}return FontCache.prototype.cachePath=function(variant,C,path){var id="MJX-"+this.localID+(this.jax.font.getVariant(variant).cacheID||"")+"-"+C;return this.cache.has(id)||(this.cache.set(id,path),this.jax.adaptor.append(this.defs,this.jax.svg("path",{id:id,d:path}))),id},FontCache.prototype.clearLocalID=function(){this.localID=""},FontCache.prototype.useLocalID=function(id){void 0===id&&(id=null),this.localID=(null==id?++this.nextID:id)+(""===id?"":"-")},FontCache.prototype.clearCache=function(){this.cache=new Map,this.defs=this.jax.svg("defs")},FontCache.prototype.getCache=function(){return this.defs},FontCache}();exports.FontCache=FontCache},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Styles=MathJax._.util.Styles.Styles},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractOutputJax=MathJax._.core.OutputJax.AbstractOutputJax},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.protoItem=MathJax._.core.MathItem.protoItem,exports.AbstractMathItem=MathJax._.core.MathItem.AbstractMathItem,exports.STATE=MathJax._.core.MathItem.STATE,exports.newState=MathJax._.core.MathItem.newState},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.APPEND=MathJax._.util.Options.APPEND,exports.REMOVE=MathJax._.util.Options.REMOVE,exports.Expandable=MathJax._.util.Options.Expandable,exports.expandable=MathJax._.util.Options.expandable,exports.makeArray=MathJax._.util.Options.makeArray,exports.keys=MathJax._.util.Options.keys,exports.copy=MathJax._.util.Options.copy,exports.insert=MathJax._.util.Options.insert,exports.defaultOptions=MathJax._.util.Options.defaultOptions,exports.userOptions=MathJax._.util.Options.userOptions,exports.selectOptions=MathJax._.util.Options.selectOptions,exports.selectOptionsFromKeys=MathJax._.util.Options.selectOptionsFromKeys,exports.separateOptions=MathJax._.util.Options.separateOptions},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CssStyles=MathJax._.util.StyleList.CssStyles},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractWrapper=MathJax._.core.Tree.Wrapper.AbstractWrapper},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractWrapperFactory=MathJax._.core.Tree.WrapperFactory.AbstractWrapperFactory},function(module,exports,__webpack_require__){"use strict";
Object.defineProperty(exports,"__esModule",{value:!0}),exports.sum=MathJax._.util.numeric.sum,exports.max=MathJax._.util.numeric.max},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MmlMath=MathJax._.core.MmlTree.MmlNodes.math.MmlMath},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MmlMrow=MathJax._.core.MmlTree.MmlNodes.mrow.MmlMrow,exports.MmlInferredMrow=MathJax._.core.MmlTree.MmlNodes.mrow.MmlInferredMrow},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MmlMi=MathJax._.core.MmlTree.MmlNodes.mi.MmlMi},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MmlMo=MathJax._.core.MmlTree.MmlNodes.mo.MmlMo},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MmlMn=MathJax._.core.MmlTree.MmlNodes.mn.MmlMn},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MmlMs=MathJax._.core.MmlTree.MmlNodes.ms.MmlMs},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MmlMtext=MathJax._.core.MmlTree.MmlNodes.mtext.MmlMtext},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MmlMerror=MathJax._.core.MmlTree.MmlNodes.merror.MmlMerror},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MmlMspace=MathJax._.core.MmlTree.MmlNodes.mspace.MmlMspace},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MmlMpadded=MathJax._.core.MmlTree.MmlNodes.mpadded.MmlMpadded},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MmlMphantom=MathJax._.core.MmlTree.MmlNodes.mphantom.MmlMphantom},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MmlMfrac=MathJax._.core.MmlTree.MmlNodes.mfrac.MmlMfrac},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MmlMsqrt=MathJax._.core.MmlTree.MmlNodes.msqrt.MmlMsqrt},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MmlMroot=MathJax._.core.MmlTree.MmlNodes.mroot.MmlMroot},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MmlMfenced=MathJax._.core.MmlTree.MmlNodes.mfenced.MmlMfenced},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MmlMsubsup=MathJax._.core.MmlTree.MmlNodes.msubsup.MmlMsubsup,exports.MmlMsub=MathJax._.core.MmlTree.MmlNodes.msubsup.MmlMsub,exports.MmlMsup=MathJax._.core.MmlTree.MmlNodes.msubsup.MmlMsup},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MmlMunderover=MathJax._.core.MmlTree.MmlNodes.munderover.MmlMunderover,exports.MmlMunder=MathJax._.core.MmlTree.MmlNodes.munderover.MmlMunder,exports.MmlMover=MathJax._.core.MmlTree.MmlNodes.munderover.MmlMover},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MmlMmultiscripts=MathJax._.core.MmlTree.MmlNodes.mmultiscripts.MmlMmultiscripts,exports.MmlMprescripts=MathJax._.core.MmlTree.MmlNodes.mmultiscripts.MmlMprescripts,exports.MmlNone=MathJax._.core.MmlTree.MmlNodes.mmultiscripts.MmlNone},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MmlMtable=MathJax._.core.MmlTree.MmlNodes.mtable.MmlMtable},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MmlMtr=MathJax._.core.MmlTree.MmlNodes.mtr.MmlMtr,exports.MmlMlabeledtr=MathJax._.core.MmlTree.MmlNodes.mtr.MmlMlabeledtr},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MmlMtd=MathJax._.core.MmlTree.MmlNodes.mtd.MmlMtd},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MmlMaction=MathJax._.core.MmlTree.MmlNodes.maction.MmlMaction},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MmlMenclose=MathJax._.core.MmlTree.MmlNodes.menclose.MmlMenclose},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MmlSemantics=MathJax._.core.MmlTree.MmlNodes.semantics.MmlSemantics,exports.MmlAnnotationXML=MathJax._.core.MmlTree.MmlNodes.semantics.MmlAnnotationXML,exports.MmlAnnotation=MathJax._.core.MmlTree.MmlNodes.semantics.MmlAnnotation},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MmlMglyph=MathJax._.core.MmlTree.MmlNodes.mglyph.MmlMglyph},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TeXAtom=MathJax._.core.MmlTree.MmlNodes.TeXAtom.TeXAtom},function(module,__webpack_exports__,__webpack_require__){"use strict";function _typeof(obj){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"TeXFont",function(){return TeXFont});var _js_output_svg_FontData_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15),_js_output_svg_FontData_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_js_output_svg_FontData_js__WEBPACK_IMPORTED_MODULE_0__),TeXFont=function(_FontData){function TeXFont(){return _classCallCheck(this,TeXFont),_super.apply(this,arguments)}_inherits(TeXFont,_FontData);var _super=_createSuper(TeXFont);return TeXFont}(_js_output_svg_FontData_js__WEBPACK_IMPORTED_MODULE_0__.FontData);TeXFont.OPTIONS={fontURL:"."}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var global=__webpack_require__(14),FontData=__webpack_require__(2),Notation=__webpack_require__(5),OutputJax=__webpack_require__(17),Wrapper=__webpack_require__(18),WrapperFactory=__webpack_require__(19),TeXAtom=__webpack_require__(20),TextNode=__webpack_require__(21),maction=__webpack_require__(10),math=__webpack_require__(22),menclose=__webpack_require__(23),mfenced=__webpack_require__(24),mfrac=__webpack_require__(25),mglyph=__webpack_require__(26),mi=__webpack_require__(27),mmultiscripts=__webpack_require__(28),mn=__webpack_require__(29),mo=__webpack_require__(30),mpadded=__webpack_require__(31),mroot=__webpack_require__(32),mrow=__webpack_require__(11),ms=__webpack_require__(33),mspace=__webpack_require__(34),msqrt=__webpack_require__(35),msubsup=__webpack_require__(6),mtable=__webpack_require__(36),mtd=__webpack_require__(37),mtext=__webpack_require__(38),mtr=__webpack_require__(12),munderover=__webpack_require__(7),scriptbase=__webpack_require__(39),semantics=__webpack_require__(40),svg=__webpack_require__(9),FontCache=__webpack_require__(70),svg_FontData=__webpack_require__(15),svg_Notation=__webpack_require__(65),svg_Wrapper=__webpack_require__(0),svg_WrapperFactory=__webpack_require__(41),Wrappers=__webpack_require__(42),Wrappers_TeXAtom=__webpack_require__(68),Wrappers_TextNode=__webpack_require__(69),Wrappers_maction=__webpack_require__(63),Wrappers_math=__webpack_require__(43),Wrappers_menclose=__webpack_require__(64),merror=__webpack_require__(50),Wrappers_mfenced=__webpack_require__(56),Wrappers_mfrac=__webpack_require__(54),Wrappers_mglyph=__webpack_require__(67),Wrappers_mi=__webpack_require__(45),Wrappers_mmultiscripts=__webpack_require__(59),Wrappers_mn=__webpack_require__(47),Wrappers_mo=__webpack_require__(46),Wrappers_mpadded=__webpack_require__(52),mphantom=__webpack_require__(53),Wrappers_mroot=__webpack_require__(55),Wrappers_mrow=__webpack_require__(44),Wrappers_ms=__webpack_require__(48),Wrappers_mspace=__webpack_require__(51),Wrappers_msqrt=__webpack_require__(13),Wrappers_msubsup=__webpack_require__(8),Wrappers_mtable=__webpack_require__(60),Wrappers_mtd=__webpack_require__(62),Wrappers_mtext=__webpack_require__(49),Wrappers_mtr=__webpack_require__(61),Wrappers_munderover=__webpack_require__(58),Wrappers_scriptbase=__webpack_require__(57),Wrappers_semantics=__webpack_require__(66);Object(global.combineWithMathJax)({_:{output:{common:{FontData:FontData,Notation:Notation,OutputJax:OutputJax,Wrapper:Wrapper,WrapperFactory:WrapperFactory,Wrappers:{TeXAtom:TeXAtom,TextNode:TextNode,maction:maction,math:math,menclose:menclose,mfenced:mfenced,mfrac:mfrac,mglyph:mglyph,mi:mi,mmultiscripts:mmultiscripts,mn:mn,mo:mo,mpadded:mpadded,mroot:mroot,mrow:mrow,ms:ms,mspace:mspace,msqrt:msqrt,msubsup:msubsup,mtable:mtable,mtd:mtd,mtext:mtext,mtr:mtr,munderover:munderover,scriptbase:scriptbase,semantics:semantics}},svg_ts:svg,svg:{FontCache:FontCache,FontData:svg_FontData,Notation:svg_Notation,Wrapper:svg_Wrapper,WrapperFactory:svg_WrapperFactory,Wrappers_ts:Wrappers,Wrappers:{TeXAtom:Wrappers_TeXAtom,TextNode:Wrappers_TextNode,maction:Wrappers_maction,math:Wrappers_math,menclose:Wrappers_menclose,merror:merror,mfenced:Wrappers_mfenced,mfrac:Wrappers_mfrac,mglyph:Wrappers_mglyph,mi:Wrappers_mi,mmultiscripts:Wrappers_mmultiscripts,mn:Wrappers_mn,mo:Wrappers_mo,mpadded:Wrappers_mpadded,mphantom:mphantom,mroot:Wrappers_mroot,mrow:Wrappers_mrow,ms:Wrappers_ms,mspace:Wrappers_mspace,msqrt:Wrappers_msqrt,msubsup:Wrappers_msubsup,mtable:Wrappers_mtable,mtd:Wrappers_mtd,mtext:Wrappers_mtext,mtr:Wrappers_mtr,munderover:Wrappers_munderover,scriptbase:Wrappers_scriptbase,semantics:Wrappers_semantics}}}}}),MathJax.loader&&Object(global.combineDefaults)(MathJax.config.loader,"output/svg",{checkReady:function checkReady(){return MathJax.loader.load("output/svg/fonts/tex")}}),MathJax.startup&&(MathJax.startup.registerConstructor("svg",svg.SVG),MathJax.startup.useOutput("svg"))}]);
