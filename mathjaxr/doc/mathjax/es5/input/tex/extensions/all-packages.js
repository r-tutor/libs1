!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=78)}([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Configuration=MathJax._.input.tex.Configuration.Configuration,exports.ConfigurationHandler=MathJax._.input.tex.Configuration.ConfigurationHandler,exports.ParserConfiguration=MathJax._.input.tex.Configuration.ParserConfiguration},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AbstractSymbolMap=MathJax._.input.tex.SymbolMap.AbstractSymbolMap,exports.RegExpMap=MathJax._.input.tex.SymbolMap.RegExpMap,exports.AbstractParseMap=MathJax._.input.tex.SymbolMap.AbstractParseMap,exports.CharacterMap=MathJax._.input.tex.SymbolMap.CharacterMap,exports.DelimiterMap=MathJax._.input.tex.SymbolMap.DelimiterMap,exports.MacroMap=MathJax._.input.tex.SymbolMap.MacroMap,exports.CommandMap=MathJax._.input.tex.SymbolMap.CommandMap,exports.EnvironmentMap=MathJax._.input.tex.SymbolMap.EnvironmentMap},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=MathJax._.input.tex.TexError["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=MathJax._.input.tex.ParseUtil["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=MathJax._.input.tex.NodeUtil["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=MathJax._.input.tex.TexParser["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TexConstant=MathJax._.input.tex.TexConstants.TexConstant},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TEXCLASS=MathJax._.core.MmlTree.MmlNode.TEXCLASS,exports.TEXCLASSNAMES=MathJax._.core.MmlTree.MmlNode.TEXCLASSNAMES,exports.indentAttributes=MathJax._.core.MmlTree.MmlNode.indentAttributes,exports.AbstractMmlNode=MathJax._.core.MmlTree.MmlNode.AbstractMmlNode,exports.AbstractMmlTokenNode=MathJax._.core.MmlTree.MmlNode.AbstractMmlTokenNode,exports.AbstractMmlLayoutNode=MathJax._.core.MmlTree.MmlNode.AbstractMmlLayoutNode,exports.AbstractMmlBaseNode=MathJax._.core.MmlTree.MmlNode.AbstractMmlBaseNode,exports.AbstractMmlEmptyNode=MathJax._.core.MmlTree.MmlNode.AbstractMmlEmptyNode,exports.TextNode=MathJax._.core.MmlTree.MmlNode.TextNode,exports.XMLNode=MathJax._.core.MmlTree.MmlNode.XMLNode},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=MathJax._.input.tex.base.BaseMethods["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=MathJax._.input.tex.ParseMethods["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.APPEND=MathJax._.util.Options.APPEND,exports.REMOVE=MathJax._.util.Options.REMOVE,exports.Expandable=MathJax._.util.Options.Expandable,exports.expandable=MathJax._.util.Options.expandable,exports.makeArray=MathJax._.util.Options.makeArray,exports.keys=MathJax._.util.Options.keys,exports.copy=MathJax._.util.Options.copy,exports.insert=MathJax._.util.Options.insert,exports.defaultOptions=MathJax._.util.Options.defaultOptions,exports.userOptions=MathJax._.util.Options.userOptions,exports.selectOptions=MathJax._.util.Options.selectOptions,exports.selectOptionsFromKeys=MathJax._.util.Options.selectOptionsFromKeys,exports.separateOptions=MathJax._.util.Options.separateOptions},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NEW_OPS=exports.AmsMethods=void 0;var ParseUtil_js_1=__webpack_require__(3),NodeUtil_js_1=__webpack_require__(4),TexConstants_js_1=__webpack_require__(6),TexParser_js_1=__webpack_require__(5),TexError_js_1=__webpack_require__(2),Symbol_js_1=__webpack_require__(12),BaseMethods_js_1=__webpack_require__(8),MmlNode_js_1=__webpack_require__(7);exports.AmsMethods={},exports.AmsMethods.AmsEqnArray=function(parser,begin,numbered,taggable,align,spacing,style){var args=parser.GetBrackets("\\begin{"+begin.getName()+"}"),array=BaseMethods_js_1["default"].EqnArray(parser,begin,numbered,taggable,align,spacing,style);return ParseUtil_js_1["default"].setArrayAlign(array,args)},exports.AmsMethods.AlignAt=function(parser,begin,numbered,taggable){var name=begin.getName(),n,valign,align="",spacing=[];if(taggable||(valign=parser.GetBrackets("\\begin{"+name+"}")),n=parser.GetArgument("\\begin{"+name+"}"),n.match(/[^0-9]/))throw new TexError_js_1["default"]("PositiveIntegerArg","Argument to %1 must me a positive integer","\\begin{"+name+"}");for(var count=parseInt(n,10);count>0;)align+="rl",spacing.push("0em 0em"),count--;var spaceStr=spacing.join(" ");if(taggable)return exports.AmsMethods.EqnArray(parser,begin,numbered,taggable,align,spaceStr);var array=exports.AmsMethods.EqnArray(parser,begin,numbered,taggable,align,spaceStr);return ParseUtil_js_1["default"].setArrayAlign(array,valign)},exports.AmsMethods.Multline=function(parser,begin,numbered){parser.Push(begin),ParseUtil_js_1["default"].checkEqnEnv(parser);var item=parser.itemFactory.create("multline",numbered,parser.stack);return item.arraydef={displaystyle:!0,rowspacing:".5em",columnwidth:"100%",width:parser.options.multlineWidth,side:parser.options.tagSide,minlabelspacing:parser.options.tagIndent},item},exports.NEW_OPS="ams-declare-ops",exports.AmsMethods.HandleDeclareOp=function(parser,name){var limits=parser.GetStar()?"":"\\nolimits\\SkipLimits",cs=ParseUtil_js_1["default"].trimSpaces(parser.GetArgument(name));"\\"===cs.charAt(0)&&(cs=cs.substr(1));var op=parser.GetArgument(name);op.match(/\\text/)||(op=op.replace(/\*/g,"\\text{*}").replace(/-/g,"\\text{-}")),parser.configuration.handlers.retrieve(exports.NEW_OPS).add(cs,new Symbol_js_1.Macro(cs,exports.AmsMethods.Macro,["\\mathop{\\rm "+op+"}"+limits]))},exports.AmsMethods.HandleOperatorName=function(parser,name){var limits=parser.GetStar()?"":"\\nolimits\\SkipLimits",op=ParseUtil_js_1["default"].trimSpaces(parser.GetArgument(name));op.match(/\\text/)||(op=op.replace(/\*/g,"\\text{*}").replace(/-/g,"\\text{-}")),parser.string="\\mathop{\\rm "+op+"}"+limits+" "+parser.string.slice(parser.i),parser.i=0},exports.AmsMethods.SkipLimits=function(parser,_name){var c=parser.GetNext(),i=parser.i;"\\"===c&&++parser.i&&"limits"!==parser.GetCS()&&(parser.i=i)},exports.AmsMethods.MultiIntegral=function(parser,name,integral){var next=parser.GetNext();if("\\"===next){var i=parser.i;next=parser.GetArgument(name),parser.i=i,"\\limits"===next&&(integral="\\idotsint"===name?"\\!\\!\\mathop{\\,\\,"+integral+"}":"\\!\\!\\!\\mathop{\\,\\,\\,"+integral+"}")}parser.string=integral+" "+parser.string.slice(parser.i),parser.i=0},exports.AmsMethods.xArrow=function(parser,name,chr,l,r){var def={width:"+"+ParseUtil_js_1["default"].Em((l+r)/18),lspace:ParseUtil_js_1["default"].Em(l/18)},bot=parser.GetBrackets(name),first=parser.ParseArg(name),arrow=parser.create("token","mo",{stretchy:!0,texClass:MmlNode_js_1.TEXCLASS.REL},String.fromCodePoint(chr)),mml=parser.create("node","munderover",[arrow]),mpadded=parser.create("node","mpadded",[first],def);if(NodeUtil_js_1["default"].setAttribute(mpadded,"voffset",".15em"),NodeUtil_js_1["default"].setChild(mml,mml.over,mpadded),bot){var bottom=new TexParser_js_1["default"](bot,parser.stack.env,parser.configuration).mml();mpadded=parser.create("node","mpadded",[bottom],def),NodeUtil_js_1["default"].setAttribute(mpadded,"voffset","-.24em"),NodeUtil_js_1["default"].setChild(mml,mml.under,mpadded)}NodeUtil_js_1["default"].setProperty(mml,"subsupOK",!0),parser.Push(mml)},exports.AmsMethods.HandleShove=function(parser,_name,shove){var top=parser.stack.Top();if("multline"!==top.kind)throw new TexError_js_1["default"]("CommandOnlyAllowedInEnv","%1 only allowed in %2 environment",parser.currentCS,"multline");if(top.Size())throw new TexError_js_1["default"]("CommandAtTheBeginingOfLine","%1 must come at the beginning of the line",parser.currentCS);top.setProperty("shove",shove)},exports.AmsMethods.CFrac=function(parser,name){var lr=ParseUtil_js_1["default"].trimSpaces(parser.GetBrackets(name,"")),num=parser.GetArgument(name),den=parser.GetArgument(name),lrMap={l:TexConstants_js_1.TexConstant.Align.LEFT,r:TexConstants_js_1.TexConstant.Align.RIGHT,"":""},numNode=new TexParser_js_1["default"]("\\strut\\textstyle{"+num+"}",parser.stack.env,parser.configuration).mml(),denNode=new TexParser_js_1["default"]("\\strut\\textstyle{"+den+"}",parser.stack.env,parser.configuration).mml(),frac=parser.create("node","mfrac",[numNode,denNode]);if(lr=lrMap[lr],null==lr)throw new TexError_js_1["default"]("IllegalAlign","Illegal alignment specified in %1",parser.currentCS);lr&&NodeUtil_js_1["default"].setProperties(frac,{numalign:lr,denomalign:lr}),parser.Push(frac)},exports.AmsMethods.Genfrac=function(parser,name,left,right,thick,style){null==left&&(left=parser.GetDelimiterArg(name)),null==right&&(right=parser.GetDelimiterArg(name)),null==thick&&(thick=parser.GetArgument(name)),null==style&&(style=ParseUtil_js_1["default"].trimSpaces(parser.GetArgument(name)));var num=parser.ParseArg(name),den=parser.ParseArg(name),frac=parser.create("node","mfrac",[num,den]);if(""!==thick&&NodeUtil_js_1["default"].setAttribute(frac,"linethickness",thick),(left||right)&&(NodeUtil_js_1["default"].setProperty(frac,"withDelims",!0),frac=ParseUtil_js_1["default"].fixedFence(parser.configuration,left,frac,right)),""!==style){var styleDigit=parseInt(style,10),styleAlpha=["D","T","S","SS"][styleDigit];if(null==styleAlpha)throw new TexError_js_1["default"]("BadMathStyleFor","Bad math style for %1",parser.currentCS);frac=parser.create("node","mstyle",[frac]),"D"===styleAlpha?NodeUtil_js_1["default"].setProperties(frac,{displaystyle:!0,scriptlevel:0}):NodeUtil_js_1["default"].setProperties(frac,{displaystyle:!1,scriptlevel:styleDigit-1})}parser.Push(frac)},exports.AmsMethods.HandleTag=function(parser,name){if(!parser.tags.currentTag.taggable&&parser.tags.env)throw new TexError_js_1["default"]("CommandNotAllowedInEnv","%1 not allowed in %2 environment",parser.currentCS,parser.tags.env);if(parser.tags.currentTag.tag)throw new TexError_js_1["default"]("MultipleCommand","Multiple %1",parser.currentCS);var star=parser.GetStar(),tagId=ParseUtil_js_1["default"].trimSpaces(parser.GetArgument(name));parser.tags.tag(tagId,star)},exports.AmsMethods.HandleNoTag=BaseMethods_js_1["default"].HandleNoTag,exports.AmsMethods.HandleRef=BaseMethods_js_1["default"].HandleRef,exports.AmsMethods.Macro=BaseMethods_js_1["default"].Macro,exports.AmsMethods.Accent=BaseMethods_js_1["default"].Accent,exports.AmsMethods.Tilde=BaseMethods_js_1["default"].Tilde,exports.AmsMethods.Array=BaseMethods_js_1["default"].Array,exports.AmsMethods.Spacer=BaseMethods_js_1["default"].Spacer,exports.AmsMethods.NamedOp=BaseMethods_js_1["default"].NamedOp,exports.AmsMethods.EqnArray=BaseMethods_js_1["default"].EqnArray},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Symbol=MathJax._.input.tex.Symbol.Symbol,exports.Macro=MathJax._.input.tex.Symbol.Macro},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MmlStack=MathJax._.input.tex.StackItem.MmlStack,exports.BaseItem=MathJax._.input.tex.StackItem.BaseItem},function(module,exports,__webpack_require__){"use strict";function RegisterExtension(jax,name){var _a,require=jax.parseOptions.options.require,required=jax.parseOptions.packageData.get("require").required,extension=name.substr(require.prefix.length);if(required.indexOf(extension)<0){required.push(extension),RegisterDependencies(jax,loader_js_1.CONFIG.dependencies[name]);var handler=Configuration_js_1.ConfigurationHandler.get(extension);if(handler){var options_1=MJCONFIG[name]||{};handler.options&&1===Object.keys(handler.options).length&&handler.options[extension]&&(_a={},_a[extension]=options_1,options_1=_a),jax.configuration.add(handler,jax,options_1);var configured=jax.parseOptions.packageData.get("require").configured;handler.preprocessors.length&&!configured.has(extension)&&(configured.set(extension,!0),mathjax_js_1.mathjax.retryAfter(Promise.resolve()))}}}function RegisterDependencies(jax,names){var e_1,_a;void 0===names&&(names=[]);var prefix=jax.parseOptions.options.require.prefix;try{for(var names_1=__values(names),names_1_1=names_1.next();!names_1_1.done;names_1_1=names_1.next()){var name_1=names_1_1.value;name_1.substr(0,prefix.length)===prefix&&RegisterExtension(jax,name_1)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{names_1_1&&!names_1_1.done&&(_a=names_1["return"])&&_a.call(names_1)}finally{if(e_1)throw e_1.error}}}function RequireLoad(parser,name){var options=parser.options.require,allow=options.allow,extension=("["===name.substr(0,1)?"":options.prefix)+name,allowed=allow.hasOwnProperty(extension)?allow[extension]:allow.hasOwnProperty(name)?allow[name]:options.defaultAllow;if(!allowed)throw new TexError_js_1["default"]("BadRequire",'Extension "%1" is now allowed to be loaded',extension);package_js_1.Package.packages.has(extension)?RegisterExtension(parser.configuration.packageData.get("require").jax,extension):mathjax_js_1.mathjax.retryAfter(loader_js_1.Loader.load(extension))}function config(_config,jax){jax.parseOptions.packageData.set("require",{jax:jax,required:__spread(jax.options.packages),configured:new Map});var options=jax.parseOptions.options.require,prefix=options.prefix;if(prefix.match(/[^_a-zA-Z0-9]/))throw Error("Illegal characters used in \\require prefix");loader_js_1.CONFIG.paths[prefix]||(loader_js_1.CONFIG.paths[prefix]="[mathjax]/input/tex/extensions"),options.prefix="["+prefix+"]/"}var __values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=this&&this.__spread||function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.RequireConfiguration=exports.options=exports.RequireMethods=exports.RequireLoad=void 0;var Configuration_js_1=__webpack_require__(0),SymbolMap_js_1=__webpack_require__(1),TexError_js_1=__webpack_require__(2),global_js_1=__webpack_require__(20),package_js_1=__webpack_require__(28),loader_js_1=__webpack_require__(76),mathjax_js_1=__webpack_require__(77),Options_js_1=__webpack_require__(10),MJCONFIG=global_js_1.MathJax.config;exports.RequireLoad=RequireLoad,exports.RequireMethods={Require:function(parser,name){var required=parser.GetArgument(name);if(required.match(/[^_a-zA-Z0-9]/)||""===required)throw new TexError_js_1["default"]("BadPackageName","Argument for %1 is not a valid package name",name);RequireLoad(parser,required)}},exports.options={require:{allow:Options_js_1.expandable({base:!1,"all-packages":!1}),defaultAllow:!0,prefix:"tex"}},new SymbolMap_js_1.CommandMap("require",{require:"Require"},exports.RequireMethods),exports.RequireConfiguration=Configuration_js_1.Configuration.create("require",{handler:{macro:["require"]},config:config,options:exports.options})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AllPackages=void 0,__webpack_require__(22),__webpack_require__(29),__webpack_require__(30),__webpack_require__(33),__webpack_require__(36),__webpack_require__(37),__webpack_require__(38),__webpack_require__(42),__webpack_require__(47),__webpack_require__(48),__webpack_require__(52),__webpack_require__(53),__webpack_require__(24),__webpack_require__(54),__webpack_require__(57),__webpack_require__(59),__webpack_require__(26),__webpack_require__(61),__webpack_require__(62),__webpack_require__(63),__webpack_require__(67),__webpack_require__(68),__webpack_require__(73),__webpack_require__(75),"undefined"!=typeof MathJax&&MathJax.loader&&MathJax.loader.preLoad("[tex]/action","[tex]/ams","[tex]/amscd","[tex]/bbox","[tex]/boldsymbol","[tex]/braket","[tex]/bussproofs","[tex]/cancel","[tex]/color","[tex]/colorv2","[tex]/enclose","[tex]/extpfeil","[tex]/html","[tex]/mhchem","[tex]/newcommand","[tex]/noerrors","[tex]/noundefined","[tex]/physics","[tex]/unicode","[tex]/verb","[tex]/configmacros","[tex]/tagformat","[tex]/textmacros"),exports.AllPackages=["base","action","ams","amscd","bbox","boldsymbol","braket","bussproofs","cancel","color","enclose","extpfeil","html","mhchem","newcommand","noerrors","noundefined","unicode","verb","configmacros","tagformat","textmacros"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.StartItem=MathJax._.input.tex.base.BaseItems.StartItem,exports.StopItem=MathJax._.input.tex.base.BaseItems.StopItem,exports.OpenItem=MathJax._.input.tex.base.BaseItems.OpenItem,exports.CloseItem=MathJax._.input.tex.base.BaseItems.CloseItem,exports.PrimeItem=MathJax._.input.tex.base.BaseItems.PrimeItem,exports.SubsupItem=MathJax._.input.tex.base.BaseItems.SubsupItem,exports.OverItem=MathJax._.input.tex.base.BaseItems.OverItem,exports.LeftItem=MathJax._.input.tex.base.BaseItems.LeftItem,exports.RightItem=MathJax._.input.tex.base.BaseItems.RightItem,exports.BeginItem=MathJax._.input.tex.base.BaseItems.BeginItem,exports.EndItem=MathJax._.input.tex.base.BaseItems.EndItem,exports.StyleItem=MathJax._.input.tex.base.BaseItems.StyleItem,exports.PositionItem=MathJax._.input.tex.base.BaseItems.PositionItem,exports.CellItem=MathJax._.input.tex.base.BaseItems.CellItem,exports.MmlItem=MathJax._.input.tex.base.BaseItems.MmlItem,exports.FnItem=MathJax._.input.tex.base.BaseItems.FnItem,exports.NotItem=MathJax._.input.tex.base.BaseItems.NotItem,exports.DotsItem=MathJax._.input.tex.base.BaseItems.DotsItem,exports.ArrayItem=MathJax._.input.tex.base.BaseItems.ArrayItem,exports.EqnArrayItem=MathJax._.input.tex.base.BaseItems.EqnArrayItem,exports.EquationItem=MathJax._.input.tex.base.BaseItems.EquationItem},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Label=MathJax._.input.tex.Tags.Label,exports.TagInfo=MathJax._.input.tex.Tags.TagInfo,exports.AbstractTags=MathJax._.input.tex.Tags.AbstractTags,exports.NoTags=MathJax._.input.tex.Tags.NoTags,exports.AllTags=MathJax._.input.tex.Tags.AllTags,exports.TagsFactory=MathJax._.input.tex.Tags.TagsFactory},function(module,exports,__webpack_require__){"use strict";var __read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar},__values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},_a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.clearDocument=exports.saveDocument=exports.makeBsprAttributes=exports.removeProperty=exports.getProperty=exports.setProperty=exports.balanceRules=void 0;var NodeUtil_js_1=__webpack_require__(4),ParseUtil_js_1=__webpack_require__(3),doc=null,item=null,getBBox=function(node){item.root=node;var width=doc.outputJax.getBBox(item,doc).w;return width},getRule=function(node){for(var i=0;node&&!NodeUtil_js_1["default"].isType(node,"mtable");){if(NodeUtil_js_1["default"].isType(node,"text"))return null;NodeUtil_js_1["default"].isType(node,"mrow")?(node=node.childNodes[0],i=0):(node=node.parent.childNodes[i],i++)}return node},getPremises=function(rule,direction){return rule.childNodes["up"===direction?1:0].childNodes[0].childNodes[0].childNodes[0].childNodes[0]},getPremise=function(premises,n){return premises.childNodes[n].childNodes[0].childNodes[0]},firstPremise=function(premises){return getPremise(premises,0)},lastPremise=function(premises){return getPremise(premises,premises.childNodes.length-1)},getConclusion=function(rule,direction){return rule.childNodes["up"===direction?0:1].childNodes[0].childNodes[0].childNodes[0]},getColumn=function(inf){for(;inf&&!NodeUtil_js_1["default"].isType(inf,"mtd");)inf=inf.parent;return inf},nextSibling=function(inf){return inf.parent.childNodes[inf.parent.childNodes.indexOf(inf)+1]},previousSibling=function(inf){return inf.parent.childNodes[inf.parent.childNodes.indexOf(inf)-1]},getParentInf=function(inf){for(;inf&&null==exports.getProperty(inf,"inference");)inf=inf.parent;return inf},getSpaces=function(inf,rule,right){void 0===right&&(right=!1);var result=0;if(inf===rule)return result;if(inf!==rule.parent){var children_1=inf.childNodes,index_1=right?children_1.length-1:0;NodeUtil_js_1["default"].isType(children_1[index_1],"mspace")&&(result+=getBBox(children_1[index_1])),inf=rule.parent}if(inf===rule)return result;var children=inf.childNodes,index=right?children.length-1:0;return children[index]!==rule&&(result+=getBBox(children[index])),result},adjustValue=function(inf,right){void 0===right&&(right=!1);var rule=getRule(inf),conc=getConclusion(rule,exports.getProperty(rule,"inferenceRule")),w=getSpaces(inf,rule,right),x=getBBox(rule),y=getBBox(conc);return w+(x-y)/2},addSpace=function(config,inf,space,right){if(void 0===right&&(right=!1),exports.getProperty(inf,"inferenceRule")||exports.getProperty(inf,"labelledRule")){var mrow=config.nodeFactory.create("node","mrow");inf.parent.replaceChild(mrow,inf),mrow.setChildren([inf]),moveProperties(inf,mrow),inf=mrow}var index=right?inf.childNodes.length-1:0,mspace=inf.childNodes[index];return NodeUtil_js_1["default"].isType(mspace,"mspace")?void NodeUtil_js_1["default"].setAttribute(mspace,"width",ParseUtil_js_1["default"].Em(ParseUtil_js_1["default"].dimen2em(NodeUtil_js_1["default"].getAttribute(mspace,"width"))+space)):(mspace=config.nodeFactory.create("node","mspace",[],{width:ParseUtil_js_1["default"].Em(space)}),right?void inf.appendChild(mspace):(mspace.parent=inf,void inf.childNodes.unshift(mspace)))},moveProperties=function(src,dest){var props=["inference","proof","maxAdjust","labelledRule"];props.forEach(function(x){var value=exports.getProperty(src,x);null!=value&&(exports.setProperty(dest,x,value),exports.removeProperty(src,x))})},adjustSequents=function(config){var sequents=config.nodeLists.sequent;if(sequents)for(var i=sequents.length-1,seq=void 0;seq=sequents[i];i--)if(exports.getProperty(seq,"sequentProcessed"))exports.removeProperty(seq,"sequentProcessed");else{var collect=[],inf=getParentInf(seq);if(1===exports.getProperty(inf,"inference")){for(collect.push(seq);1===exports.getProperty(inf,"inference");){inf=getRule(inf);var premise=firstPremise(getPremises(inf,exports.getProperty(inf,"inferenceRule"))),sequent=exports.getProperty(premise,"inferenceRule")?getConclusion(premise,exports.getProperty(premise,"inferenceRule")):premise;exports.getProperty(sequent,"sequent")&&(seq=sequent.childNodes[0],collect.push(seq),exports.setProperty(seq,"sequentProcessed",!0)),inf=premise}adjustSequentPairwise(config,collect)}}},addSequentSpace=function(config,sequent,position,direction,width){var mspace=config.nodeFactory.create("node","mspace",[],{width:ParseUtil_js_1["default"].Em(width)});if("left"===direction){var row=sequent.childNodes[position].childNodes[0];mspace.parent=row,row.childNodes.unshift(mspace)}else sequent.childNodes[position].appendChild(mspace);exports.setProperty(sequent.parent,"sequentAdjust_"+direction,width)},adjustSequentPairwise=function(config,sequents){for(var top=sequents.pop();sequents.length;){var bottom=sequents.pop(),_a=__read(compareSequents(top,bottom),2),left=_a[0],right=_a[1];exports.getProperty(top.parent,"axiom")&&(addSequentSpace(config,0>left?top:bottom,0,"left",Math.abs(left)),addSequentSpace(config,0>right?top:bottom,2,"right",Math.abs(right))),top=bottom}},compareSequents=function(top,bottom){var tr=getBBox(top.childNodes[2]),br=getBBox(bottom.childNodes[2]),tl=getBBox(top.childNodes[0]),bl=getBBox(bottom.childNodes[0]),dl=tl-bl,dr=tr-br;return[dl,dr]};exports.balanceRules=function(arg){var e_1,_a;item=new arg.document.options.MathItem("",null,arg.math.display);var config=arg.data;adjustSequents(config);var inferences=config.nodeLists.inference||[];try{for(var inferences_1=__values(inferences),inferences_1_1=inferences_1.next();!inferences_1_1.done;inferences_1_1=inferences_1.next()){var inf=inferences_1_1.value,isProof=exports.getProperty(inf,"proof"),rule=getRule(inf),premises=getPremises(rule,exports.getProperty(rule,"inferenceRule")),premiseF=firstPremise(premises);if(exports.getProperty(premiseF,"inference")){var adjust_1=adjustValue(premiseF);if(adjust_1){addSpace(config,premiseF,-adjust_1);var w_1=getSpaces(inf,rule,!1);addSpace(config,inf,adjust_1-w_1)}}var premiseL=lastPremise(premises);if(null!=exports.getProperty(premiseL,"inference")){var adjust=adjustValue(premiseL,!0);addSpace(config,premiseL,-adjust,!0);var w=getSpaces(inf,rule,!0),maxAdjust=exports.getProperty(inf,"maxAdjust");null!=maxAdjust&&(adjust=Math.max(adjust,maxAdjust));var column=void 0;if(!isProof&&(column=getColumn(inf))){var sibling=nextSibling(column);if(sibling){var pos=config.nodeFactory.create("node","mspace",[],{width:adjust-w+"em"});sibling.appendChild(pos),inf.removeProperty("maxAdjust")}else{var parentRule=getParentInf(column);parentRule&&(adjust=exports.getProperty(parentRule,"maxAdjust")?Math.max(exports.getProperty(parentRule,"maxAdjust"),adjust):adjust,exports.setProperty(parentRule,"maxAdjust",adjust))}}else addSpace(config,exports.getProperty(inf,"proof")?inf:inf.parent,adjust-w,!0)}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{inferences_1_1&&!inferences_1_1.done&&(_a=inferences_1["return"])&&_a.call(inferences_1)}finally{if(e_1)throw e_1.error}}};var property_prefix="bspr_",blacklistedProperties=(_a={},_a[property_prefix+"maxAdjust"]=!0,_a);exports.setProperty=function(node,property,value){NodeUtil_js_1["default"].setProperty(node,property_prefix+property,value)},exports.getProperty=function(node,property){return NodeUtil_js_1["default"].getProperty(node,property_prefix+property)},exports.removeProperty=function(node,property){node.removeProperty(property_prefix+property)},exports.makeBsprAttributes=function(arg){arg.data.root.walkTree(function(mml,_data){var attr=[];mml.getPropertyNames().forEach(function(x){!blacklistedProperties[x]&&x.match(RegExp("^"+property_prefix))&&attr.push(x+":"+mml.getProperty(x))}),attr.length&&NodeUtil_js_1["default"].setAttribute(mml,"semantics",attr.join(";"))})},exports.saveDocument=function(arg){if(doc=arg.document,!("getBBox"in doc.outputJax))throw Error("The bussproofs extension requires an output jax with a getBBox() method")},exports.clearDocument=function(_arg){doc=null}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ParseUtil_js_1=__webpack_require__(3),TexError_js_1=__webpack_require__(2),Symbol_js_1=__webpack_require__(12),NewcommandUtil;!function(NewcommandUtil){function disassembleSymbol(name,symbol){var newArgs=[name,symbol["char"]];if(symbol.attributes)for(var key in symbol.attributes)newArgs.push(key),newArgs.push(symbol.attributes[key]);return newArgs}function assembleSymbol(args){for(var name=args[0],char=args[1],attrs={},i=2;i<args.length;i+=2)attrs[args[i]]=args[i+1];return new Symbol_js_1.Symbol(name,char,attrs)}function GetCSname(parser,cmd){var c=parser.GetNext();if("\\"!==c)throw new TexError_js_1["default"]("MissingCS","%1 must be followed by a control sequence",cmd);var cs=ParseUtil_js_1["default"].trimSpaces(parser.GetArgument(cmd));return cs.substr(1)}function GetTemplate(parser,cmd,cs){for(var c=parser.GetNext(),params=[],n=0,i=parser.i;parser.i<parser.string.length;){if(c=parser.GetNext(),"#"===c){if(i!==parser.i&&(params[n]=parser.string.substr(i,parser.i-i)),c=parser.string.charAt(++parser.i),!c.match(/^[1-9]$/))throw new TexError_js_1["default"]("CantUseHash2","Illegal use of # in template for %1",cs);if(parseInt(c)!==++n)throw new TexError_js_1["default"]("SequentialParam","Parameters for %1 must be numbered sequentially",cs);i=parser.i+1}else if("{"===c)return i!==parser.i&&(params[n]=parser.string.substr(i,parser.i-i)),params.length>0?[n.toString()].concat(params):n;parser.i++}throw new TexError_js_1["default"]("MissingReplacementString","Missing replacement string for definition of %1",cmd)}function GetParameter(parser,name,param){if(null==param)return parser.GetArgument(name);for(var i=parser.i,j=0,hasBraces=0;parser.i<parser.string.length;){var c=parser.string.charAt(parser.i);if("{"===c)parser.i===i&&(hasBraces=1),parser.GetArgument(name),j=parser.i-i;else{if(MatchParam(parser,param))return hasBraces&&(i++,j-=2),parser.string.substr(i,j);if("\\"===c){parser.i++,j++,hasBraces=0;var match=parser.string.substr(parser.i).match(/[a-z]+|./i);match&&(parser.i+=match[0].length,j=parser.i-i)}else parser.i++,j++,hasBraces=0}}throw new TexError_js_1["default"]("RunawayArgument","Runaway argument for %1?",name)}function MatchParam(parser,param){return parser.string.substr(parser.i,param.length)!==param?0:param.match(/\\[a-z]+$/i)&&parser.string.charAt(parser.i+param.length).match(/[a-z]/i)?0:(parser.i+=param.length,1)}function addDelimiter(parser,cs,char,attr){var handlers=parser.configuration.handlers,handler=handlers.retrieve(NewcommandUtil.NEW_DELIMITER);
handler.add(cs,new Symbol_js_1.Symbol(cs,char,attr))}function addMacro(parser,cs,func,attr,symbol){void 0===symbol&&(symbol="");var handlers=parser.configuration.handlers,handler=handlers.retrieve(NewcommandUtil.NEW_COMMAND);handler.add(cs,new Symbol_js_1.Macro(symbol?symbol:cs,func,attr))}function addEnvironment(parser,env,func,attr){var handlers=parser.configuration.handlers,handler=handlers.retrieve(NewcommandUtil.NEW_ENVIRONMENT);handler.add(env,new Symbol_js_1.Macro(env,func,attr))}NewcommandUtil.disassembleSymbol=disassembleSymbol,NewcommandUtil.assembleSymbol=assembleSymbol,NewcommandUtil.GetCSname=GetCSname,NewcommandUtil.GetTemplate=GetTemplate,NewcommandUtil.GetParameter=GetParameter,NewcommandUtil.MatchParam=MatchParam,NewcommandUtil.addDelimiter=addDelimiter,NewcommandUtil.addMacro=addMacro,NewcommandUtil.addEnvironment=addEnvironment,NewcommandUtil.NEW_DELIMITER="new-Delimiter",NewcommandUtil.NEW_COMMAND="new-Command",NewcommandUtil.NEW_ENVIRONMENT="new-Environment"}(NewcommandUtil||(NewcommandUtil={})),exports["default"]=NewcommandUtil},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isObject=MathJax._.components.global.isObject,exports.combineConfig=MathJax._.components.global.combineConfig,exports.combineDefaults=MathJax._.components.global.combineDefaults,exports.combineWithMathJax=MathJax._.components.global.combineWithMathJax,exports.MathJax=MathJax._.components.global.MathJax},function(module,exports,__webpack_require__){"use strict";function Autoload(parser,name,extension,isMacro){var e_1,_a,e_2,_b;if(package_js_1.Package.packages.has(parser.options.require.prefix+extension)){var def=parser.options.autoload[extension],_c=__read(2===def.length&&Array.isArray(def[0])?def:[def,[]],2),macros=_c[0],envs=_c[1];try{for(var macros_1=__values(macros),macros_1_1=macros_1.next();!macros_1_1.done;macros_1_1=macros_1.next()){var macro=macros_1_1.value;AutoloadMacros.remove(macro)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{macros_1_1&&!macros_1_1.done&&(_a=macros_1["return"])&&_a.call(macros_1)}finally{if(e_1)throw e_1.error}}try{for(var envs_1=__values(envs),envs_1_1=envs_1.next();!envs_1_1.done;envs_1_1=envs_1.next()){var env=envs_1_1.value;AutoloadEnvironments.remove(env)}}catch(e_2_1){e_2={error:e_2_1}}finally{try{envs_1_1&&!envs_1_1.done&&(_b=envs_1["return"])&&_b.call(envs_1)}finally{if(e_2)throw e_2.error}}parser.string=(isMacro?name:"\\begin{"+name.slice(1)+"}")+parser.string.slice(parser.i),parser.i=0}RequireConfiguration_js_1.RequireLoad(parser,extension)}function initAutoload(config){config.options.require||Options_js_1.defaultOptions(config.options,RequireConfiguration_js_1.RequireConfiguration.options)}function configAutoload(config,jax){var e_3,_a,e_4,_b,e_5,_c,parser=jax.parseOptions,macros=parser.handlers.get("macro"),environments=parser.handlers.get("environment"),autoload=parser.options.autoload;parser.packageData.set("autoload",{Autoload:Autoload});try{for(var _d=__values(Object.keys(autoload)),_e=_d.next();!_e.done;_e=_d.next()){var extension=_e.value,def=autoload[extension],_f=__read(2===def.length&&Array.isArray(def[0])?def:[def,[]],2),macs=_f[0],envs=_f[1];try{for(var macs_1=(e_4=void 0,__values(macs)),macs_1_1=macs_1.next();!macs_1_1.done;macs_1_1=macs_1.next()){var name_1=macs_1_1.value;macros.lookup(name_1)&&"color"!==name_1||AutoloadMacros.add(name_1,new Symbol_js_1.Macro(name_1,Autoload,[extension,!0]))}}catch(e_4_1){e_4={error:e_4_1}}finally{try{macs_1_1&&!macs_1_1.done&&(_b=macs_1["return"])&&_b.call(macs_1)}finally{if(e_4)throw e_4.error}}try{for(var envs_2=(e_5=void 0,__values(envs)),envs_2_1=envs_2.next();!envs_2_1.done;envs_2_1=envs_2.next()){var name_2=envs_2_1.value;environments.lookup(name_2)||AutoloadEnvironments.add(name_2,new Symbol_js_1.Macro(name_2,Autoload,[extension,!1]))}}catch(e_5_1){e_5={error:e_5_1}}finally{try{envs_2_1&&!envs_2_1.done&&(_c=envs_2["return"])&&_c.call(envs_2)}finally{if(e_5)throw e_5.error}}}}catch(e_3_1){e_3={error:e_3_1}}finally{try{_e&&!_e.done&&(_a=_d["return"])&&_a.call(_d)}finally{if(e_3)throw e_3.error}}parser.packageData.get("require")||RequireConfiguration_js_1.RequireConfiguration.config(config,jax)}var __read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar},__values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.AutoloadConfiguration=void 0;var Configuration_js_1=__webpack_require__(0),SymbolMap_js_1=__webpack_require__(1),Symbol_js_1=__webpack_require__(12),RequireConfiguration_js_1=__webpack_require__(14),package_js_1=__webpack_require__(28),Options_js_1=__webpack_require__(10),AutoloadMacros=new SymbolMap_js_1.CommandMap("autoload-macros",{},{}),AutoloadEnvironments=new SymbolMap_js_1.CommandMap("autoload-environments",{},{});exports.AutoloadConfiguration=Configuration_js_1.Configuration.create("autoload",{handler:{macro:["autoload-macros"],environment:["autoload-environments"]},options:{autoload:Options_js_1.expandable({action:["toggle","mathtip","texttip"],amscd:[[],["CD"]],bbox:["bbox"],boldsymbol:["boldsymbol"],braket:["bra","ket","braket","set","Bra","Ket","Braket","Set","ketbra","Ketbra"],bussproofs:[[],["prooftree"]],cancel:["cancel","bcancel","xcancel","cancelto"],color:["color","definecolor","textcolor","colorbox","fcolorbox"],enclose:["enclose"],extpfeil:["xtwoheadrightarrow","xtwoheadleftarrow","xmapsto","xlongequal","xtofrom","Newextarrow"],html:["href","class","style","cssId"],mhchem:["ce","pu"],newcommand:["newcommand","renewcommand","newenvironment","renewenvironment","def","let"],unicode:["unicode"],verb:["verb"]})},config:configAutoload,init:initAutoload,priority:10})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Other=MathJax._.input.tex.base.BaseConfiguration.Other,exports.BaseTags=MathJax._.input.tex.base.BaseConfiguration.BaseTags,exports.BaseConfiguration=MathJax._.input.tex.base.BaseConfiguration.BaseConfiguration},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NodeFactory=MathJax._.input.tex.NodeFactory.NodeFactory},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EncloseConfiguration=exports.EncloseMethods=exports.ENCLOSE_OPTIONS=void 0;var Configuration_js_1=__webpack_require__(0),SymbolMap_js_1=__webpack_require__(1),ParseUtil_js_1=__webpack_require__(3);exports.ENCLOSE_OPTIONS={"data-arrowhead":1,color:1,mathcolor:1,background:1,mathbackground:1,"data-padding":1,"data-thickness":1},exports.EncloseMethods={},exports.EncloseMethods.Enclose=function(parser,name){var notation=parser.GetArgument(name).replace(/,/g," "),attr=parser.GetBrackets(name,""),math=parser.ParseArg(name),def=ParseUtil_js_1["default"].keyvalOptions(attr,exports.ENCLOSE_OPTIONS);def.notation=notation,parser.Push(parser.create("node","menclose",[math],def))},new SymbolMap_js_1.CommandMap("enclose",{enclose:"Enclose"},exports.EncloseMethods),exports.EncloseConfiguration=Configuration_js_1.Configuration.create("enclose",{handler:{macro:["enclose"]}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var TexError_js_1=__webpack_require__(2),sm=__webpack_require__(1),BaseMethods_js_1=__webpack_require__(8),ParseUtil_js_1=__webpack_require__(3),NewcommandUtil_js_1=__webpack_require__(19),NewcommandMethods={};NewcommandMethods.NewCommand=function(parser,name){var cs=ParseUtil_js_1["default"].trimSpaces(parser.GetArgument(name)),n=parser.GetBrackets(name),opt=parser.GetBrackets(name),def=parser.GetArgument(name);if("\\"===cs.charAt(0)&&(cs=cs.substr(1)),!cs.match(/^(.|[a-z]+)$/i))throw new TexError_js_1["default"]("IllegalControlSequenceName","Illegal control sequence name for %1",name);if(n&&(n=ParseUtil_js_1["default"].trimSpaces(n),!n.match(/^[0-9]+$/)))throw new TexError_js_1["default"]("IllegalParamNumber","Illegal number of parameters specified in %1",name);NewcommandUtil_js_1["default"].addMacro(parser,cs,NewcommandMethods.Macro,[def,n,opt])},NewcommandMethods.NewEnvironment=function(parser,name){var env=ParseUtil_js_1["default"].trimSpaces(parser.GetArgument(name)),n=parser.GetBrackets(name),opt=parser.GetBrackets(name),bdef=parser.GetArgument(name),edef=parser.GetArgument(name);if(n&&(n=ParseUtil_js_1["default"].trimSpaces(n),!n.match(/^[0-9]+$/)))throw new TexError_js_1["default"]("IllegalParamNumber","Illegal number of parameters specified in %1",name);NewcommandUtil_js_1["default"].addEnvironment(parser,env,NewcommandMethods.BeginEnv,[!0,bdef,edef,n,opt])},NewcommandMethods.MacroDef=function(parser,name){var cs=NewcommandUtil_js_1["default"].GetCSname(parser,name),params=NewcommandUtil_js_1["default"].GetTemplate(parser,name,"\\"+cs),def=parser.GetArgument(name);params instanceof Array?NewcommandUtil_js_1["default"].addMacro(parser,cs,NewcommandMethods.MacroWithTemplate,[def].concat(params)):NewcommandUtil_js_1["default"].addMacro(parser,cs,NewcommandMethods.Macro,[def,params])},NewcommandMethods.Let=function(parser,name){var cs=NewcommandUtil_js_1["default"].GetCSname(parser,name),c=parser.GetNext();"="===c&&(parser.i++,c=parser.GetNext());var handlers=parser.configuration.handlers;if("\\"===c){name=NewcommandUtil_js_1["default"].GetCSname(parser,name);var macro_1=handlers.get("delimiter").lookup("\\"+name);if(macro_1)return void NewcommandUtil_js_1["default"].addDelimiter(parser,"\\"+cs,macro_1["char"],macro_1.attributes);var map_1=handlers.get("macro").applicable(name);if(!map_1)return;if(map_1 instanceof sm.MacroMap){var macro_2=map_1.lookup(name);return void NewcommandUtil_js_1["default"].addMacro(parser,cs,macro_2.func,macro_2.args,macro_2.symbol)}macro_1=map_1.lookup(name);var newArgs=NewcommandUtil_js_1["default"].disassembleSymbol(cs,macro_1),method=function(p,_cs){for(var rest=[],_i=2;_i<arguments.length;_i++)rest[_i-2]=arguments[_i];var symb=NewcommandUtil_js_1["default"].assembleSymbol(rest);return map_1.parser(p,symb)};return void NewcommandUtil_js_1["default"].addMacro(parser,cs,method,newArgs)}parser.i++;var macro=handlers.get("delimiter").lookup(c);return macro?void NewcommandUtil_js_1["default"].addDelimiter(parser,"\\"+cs,macro["char"],macro.attributes):void NewcommandUtil_js_1["default"].addMacro(parser,cs,NewcommandMethods.Macro,[c])},NewcommandMethods.MacroWithTemplate=function(parser,name,text,n){for(var params=[],_i=4;_i<arguments.length;_i++)params[_i-4]=arguments[_i];var argCount=parseInt(n,10);if(argCount){var args=[];if(parser.GetNext(),params[0]&&!NewcommandUtil_js_1["default"].MatchParam(parser,params[0]))throw new TexError_js_1["default"]("MismatchUseDef","Use of %1 doesn't match its definition",name);for(var i=0;argCount>i;i++)args.push(NewcommandUtil_js_1["default"].GetParameter(parser,name,params[i+1]));text=ParseUtil_js_1["default"].substituteArgs(parser,args,text)}if(parser.string=ParseUtil_js_1["default"].addArgs(parser,text,parser.string.slice(parser.i)),parser.i=0,++parser.macroCount>parser.configuration.options.maxMacros)throw new TexError_js_1["default"]("MaxMacroSub1","MathJax maximum macro substitution count exceeded; is here a recursive macro call?")},NewcommandMethods.BeginEnv=function(parser,begin,bdef,edef,n,def){if(begin.getProperty("end")&&parser.stack.env.closing===begin.getName()){delete parser.stack.env.closing;var rest=parser.string.slice(parser.i);return parser.string=edef,parser.i=0,parser.Parse(),parser.string=rest,parser.i=0,parser.itemFactory.create("end").setProperty("name",begin.getName())}if(n){var args=[];if(null!=def){var optional=parser.GetBrackets("\\begin{"+begin.getName()+"}");args.push(null==optional?def:optional)}for(var i=args.length;n>i;i++)args.push(parser.GetArgument("\\begin{"+begin.getName()+"}"));bdef=ParseUtil_js_1["default"].substituteArgs(parser,args,bdef),edef=ParseUtil_js_1["default"].substituteArgs(parser,[],edef)}return parser.string=ParseUtil_js_1["default"].addArgs(parser,bdef,parser.string.slice(parser.i)),parser.i=0,parser.itemFactory.create("beginEnv").setProperty("name",begin.getName())},NewcommandMethods.Macro=BaseMethods_js_1["default"].Macro,exports["default"]=NewcommandMethods},function(module,exports,__webpack_require__){"use strict";var _a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.NewcommandConfiguration=void 0;var Configuration_js_1=__webpack_require__(0),NewcommandItems_js_1=__webpack_require__(55),NewcommandUtil_js_1=__webpack_require__(19);__webpack_require__(56);var ParseMethods_js_1=__webpack_require__(9),sm=__webpack_require__(1),init=function(config){new sm.DelimiterMap(NewcommandUtil_js_1["default"].NEW_DELIMITER,ParseMethods_js_1["default"].delimiter,{}),new sm.CommandMap(NewcommandUtil_js_1["default"].NEW_COMMAND,{},{}),new sm.EnvironmentMap(NewcommandUtil_js_1["default"].NEW_ENVIRONMENT,ParseMethods_js_1["default"].environment,{},{}),config.append(Configuration_js_1.Configuration.local({handler:{character:[],delimiter:[NewcommandUtil_js_1["default"].NEW_DELIMITER],macro:[NewcommandUtil_js_1["default"].NEW_DELIMITER,NewcommandUtil_js_1["default"].NEW_COMMAND],environment:[NewcommandUtil_js_1["default"].NEW_ENVIRONMENT]},priority:-1}))};exports.NewcommandConfiguration=Configuration_js_1.Configuration.create("newcommand",{handler:{macro:["Newcommand-macros"]},items:(_a={},_a[NewcommandItems_js_1.BeginEnvItem.prototype.kind]=NewcommandItems_js_1.BeginEnvItem,_a),options:{maxMacros:1e3},init:init})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextMacrosMethods=void 0;var TexParser_js_1=__webpack_require__(5),Retries_js_1=__webpack_require__(71),BaseMethods_js_1=__webpack_require__(8);exports.TextMacrosMethods={Comment:function(parser,_c){for(;parser.i<parser.string.length&&"\n"!==parser.string.charAt(parser.i);)parser.i++;parser.i++},Math:function(parser,open){parser.saveText();for(var i=parser.i,j,c,braces=0;c=parser.GetNext();)switch(j=parser.i++,c){case"\\":var cs=parser.GetCS();")"===cs&&(c="\\(");case"$":if(0===braces&&open===c){var config=parser.texParser.configuration,mml=new TexParser_js_1["default"](parser.string.substr(i,j-i),parser.stack.env,config).mml();return void parser.PushMath(mml)}break;case"{":braces++;break;case"}":0===braces&&parser.Error("ExtraCloseMissingOpen","Extra close brace or missing open brace"),braces--}parser.Error("MathNotTerminated","Math-mode is not properly terminated")},MathModeOnly:function(parser,c){parser.Error("MathModeOnly","'%1' allowed only in math mode",c)},Misplaced:function(parser,c){parser.Error("Misplaced","'%1' can not be used here",c)},OpenBrace:function(parser,_c){var env=parser.stack.env;parser.envStack.push(env),parser.stack.env=Object.assign({},env)},CloseBrace:function(parser,_c){parser.envStack.length?(parser.saveText(),parser.stack.env=parser.envStack.pop()):parser.Error("ExtraCloseMissingOpen","Extra close brace or missing open brace")},OpenQuote:function(parser,c){parser.string.charAt(parser.i)===c?(parser.text+="“",parser.i++):parser.text+="‘"},CloseQuote:function(parser,c){parser.string.charAt(parser.i)===c?(parser.text+="”",parser.i++):parser.text+="’"},Tilde:function(parser,_c){parser.text+=" "},Space:function(parser,_c){for(parser.text+=" ";parser.GetNext().match(/\s/);)parser.i++},SelfQuote:function(parser,name){parser.text+=name.substr(1)},Insert:function(parser,_name,c){parser.text+=c},Accent:function(parser,_name,c){var base=parser.ParseArg(name),accent=parser.create("token","mo",{},c);parser.addAttributes(accent),parser.Push(parser.create("node","mover",[base,accent]))},Emph:function(parser,name){var variant="-tex-mathit"===parser.stack.env.mathvariant?"normal":"-tex-mathit";parser.Push(parser.ParseTextArg(name,{mathvariant:variant}))},SetFont:function(parser,_name,variant){parser.saveText(),parser.stack.env.mathvariant=variant},SetSize:function(parser,_name,size){parser.saveText(),parser.stack.env.mathsize=size},CheckAutoload:function(parser,name){var autoload=parser.configuration.packageData.get("autoload"),texParser=parser.texParser;name=name.slice(1);var macro=texParser.lookup("macro",name);if(!macro||autoload&&macro._func===autoload.Autoload){if(texParser.parse("macro",[texParser,name]),!macro)return;Retries_js_1.retryAfter(Promise.resolve())}texParser.parse("macro",[parser,name])},Macro:BaseMethods_js_1["default"].Macro,Spacer:BaseMethods_js_1["default"].Spacer,Hskip:BaseMethods_js_1["default"].Hskip,rule:BaseMethods_js_1["default"].rule,Rule:BaseMethods_js_1["default"].Rule,HandleRef:BaseMethods_js_1["default"].HandleRef}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PackageError=MathJax._.components["package"].PackageError,exports.Package=MathJax._.components["package"].Package},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ActionConfiguration=exports.ActionMethods=void 0;var Configuration_js_1=__webpack_require__(0),TexParser_js_1=__webpack_require__(5),SymbolMap_js_1=__webpack_require__(1),BaseMethods_js_1=__webpack_require__(8);exports.ActionMethods={},exports.ActionMethods.Macro=BaseMethods_js_1["default"].Macro,exports.ActionMethods.Toggle=function(parser,name){for(var children=[],arg;"\\endtoggle"!==(arg=parser.GetArgument(name));)children.push(new TexParser_js_1["default"](arg,parser.stack.env,parser.configuration).mml());parser.Push(parser.create("node","maction",children,{actiontype:"toggle"}))},exports.ActionMethods.Mathtip=function(parser,name){var arg=parser.ParseArg(name),tip=parser.ParseArg(name);parser.Push(parser.create("node","maction",[arg,tip],{actiontype:"tooltip"}))},new SymbolMap_js_1.CommandMap("action-macros",{toggle:"Toggle",mathtip:"Mathtip",texttip:["Macro","\\mathtip{#1}{\\text{#2}}",2]},exports.ActionMethods),exports.ActionConfiguration=Configuration_js_1.Configuration.create("action",{handler:{macro:["action-macros"]}})},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),_a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.AmsConfiguration=exports.AmsTags=void 0;var Configuration_js_1=__webpack_require__(0),AmsItems_js_1=__webpack_require__(31),Tags_js_1=__webpack_require__(17),AmsMethods_js_1=__webpack_require__(11);__webpack_require__(32);var SymbolMap_js_1=__webpack_require__(1),AmsTags=function(_super){function AmsTags(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(AmsTags,_super),AmsTags}(Tags_js_1.AbstractTags);exports.AmsTags=AmsTags;var init=function(config){new SymbolMap_js_1.CommandMap(AmsMethods_js_1.NEW_OPS,{},{}),config.append(Configuration_js_1.Configuration.local({handler:{macro:[AmsMethods_js_1.NEW_OPS]},priority:-1}))};exports.AmsConfiguration=Configuration_js_1.Configuration.create("ams",{handler:{delimiter:["AMSsymbols-delimiter","AMSmath-delimiter"],macro:["AMSsymbols-mathchar0mi","AMSsymbols-mathchar0m0","AMSsymbols-delimiter","AMSsymbols-macros","AMSmath-mathchar0mo","AMSmath-macros","AMSmath-delimiter"],environment:["AMSmath-environment"]},items:(_a={},_a[AmsItems_js_1.MultlineItem.prototype.kind]=AmsItems_js_1.MultlineItem,_a),tags:{ams:AmsTags},init:init})},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.MultlineItem=void 0;var BaseItems_js_1=__webpack_require__(16),ParseUtil_js_1=__webpack_require__(3),NodeUtil_js_1=__webpack_require__(4),TexError_js_1=__webpack_require__(2),TexConstants_js_1=__webpack_require__(6),MultlineItem=function(_super){function MultlineItem(factory){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var _this=_super.call(this,factory)||this;return _this.factory.configuration.tags.start("multline",!0,args[0]),_this}return __extends(MultlineItem,_super),Object.defineProperty(MultlineItem.prototype,"kind",{get:function(){return"multline"},enumerable:!1,configurable:!0}),MultlineItem.prototype.EndEntry=function(){this.table.length&&ParseUtil_js_1["default"].fixInitialMO(this.factory.configuration,this.nodes);var shove=this.getProperty("shove"),mtd=this.create("node","mtd",this.nodes,shove?{columnalign:shove}:{});this.setProperty("shove",null),this.row.push(mtd),this.Clear()},MultlineItem.prototype.EndRow=function(){if(1!==this.row.length)throw new TexError_js_1["default"]("MultlineRowsOneCol","The rows within the %1 environment must have exactly one column","multline");var row=this.create("node","mtr",this.row);this.table.push(row),this.row=[]},MultlineItem.prototype.EndTable=function(){if(_super.prototype.EndTable.call(this),this.table.length){var m=this.table.length-1,label=-1;NodeUtil_js_1["default"].getAttribute(NodeUtil_js_1["default"].getChildren(this.table[0])[0],"columnalign")||NodeUtil_js_1["default"].setAttribute(NodeUtil_js_1["default"].getChildren(this.table[0])[0],"columnalign",TexConstants_js_1.TexConstant.Align.LEFT),NodeUtil_js_1["default"].getAttribute(NodeUtil_js_1["default"].getChildren(this.table[m])[0],"columnalign")||NodeUtil_js_1["default"].setAttribute(NodeUtil_js_1["default"].getChildren(this.table[m])[0],"columnalign",TexConstants_js_1.TexConstant.Align.RIGHT);var tag=this.factory.configuration.tags.getTag();if(tag){label=this.arraydef.side===TexConstants_js_1.TexConstant.Align.LEFT?0:this.table.length-1;var mtr=this.table[label],mlabel=this.create("node","mlabeledtr",[tag].concat(NodeUtil_js_1["default"].getChildren(mtr)));NodeUtil_js_1["default"].copyAttributes(mtr,mlabel),this.table[label]=mlabel}}this.factory.configuration.tags.end()},MultlineItem}(BaseItems_js_1.ArrayItem);exports.MultlineItem=MultlineItem},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var AmsMethods_js_1=__webpack_require__(11),sm=__webpack_require__(1),TexConstants_js_1=__webpack_require__(6),ParseMethods_js_1=__webpack_require__(9),ParseUtil_js_1=__webpack_require__(3),MmlNode_js_1=__webpack_require__(7),COLS=function(W){for(var WW=[],i=0,m=W.length;m>i;i++)WW[i]=ParseUtil_js_1["default"].Em(W[i]);return WW.join(" ")};new sm.CharacterMap("AMSmath-mathchar0mo",ParseMethods_js_1["default"].mathchar0mo,{iiiint:["⨌",{texClass:MmlNode_js_1.TEXCLASS.OP}]}),new sm.CommandMap("AMSmath-macros",{mathring:["Accent","02DA"],nobreakspace:"Tilde",negmedspace:["Spacer",TexConstants_js_1.TexConstant.Length.NEGATIVEMEDIUMMATHSPACE],negthickspace:["Spacer",TexConstants_js_1.TexConstant.Length.NEGATIVETHICKMATHSPACE],idotsint:["MultiIntegral","\\int\\cdots\\int"],dddot:["Accent","20DB"],ddddot:["Accent","20DC"],sideset:["Macro","\\mathop{\\mathop{\\rlap{\\phantom{#3}}}\\nolimits#1\\!\\mathop{#3}\\nolimits#2}",3],boxed:["Macro","\\fbox{$\\displaystyle{#1}$}",1],tag:"HandleTag",notag:"HandleNoTag",eqref:["HandleRef",!0],substack:["Macro","\\begin{subarray}{c}#1\\end{subarray}",1],injlim:["NamedOp","inj&thinsp;lim"],projlim:["NamedOp","proj&thinsp;lim"],varliminf:["Macro","\\mathop{\\underline{\\mmlToken{mi}{lim}}}"],varlimsup:["Macro","\\mathop{\\overline{\\mmlToken{mi}{lim}}}"],varinjlim:["Macro","\\mathop{\\underrightarrow{\\mmlToken{mi}{lim}}}"],varprojlim:["Macro","\\mathop{\\underleftarrow{\\mmlToken{mi}{lim}}}"],DeclareMathOperator:"HandleDeclareOp",operatorname:"HandleOperatorName",SkipLimits:"SkipLimits",genfrac:"Genfrac",frac:["Genfrac","","","",""],tfrac:["Genfrac","","","","1"],dfrac:["Genfrac","","","","0"],binom:["Genfrac","(",")","0",""],tbinom:["Genfrac","(",")","0","1"],dbinom:["Genfrac","(",")","0","0"],cfrac:"CFrac",shoveleft:["HandleShove",TexConstants_js_1.TexConstant.Align.LEFT],shoveright:["HandleShove",TexConstants_js_1.TexConstant.Align.RIGHT],xrightarrow:["xArrow",8594,5,6],xleftarrow:["xArrow",8592,7,3]},AmsMethods_js_1.AmsMethods),new sm.EnvironmentMap("AMSmath-environment",ParseMethods_js_1["default"].environment,{"eqnarray*":["EqnArray",null,!1,!0,"rcl","0 "+TexConstants_js_1.TexConstant.Length.THICKMATHSPACE,".5em"],align:["EqnArray",null,!0,!0,"rlrlrlrlrlrl",COLS([0,2,0,2,0,2,0,2,0,2,0])],"align*":["EqnArray",null,!1,!0,"rlrlrlrlrlrl",COLS([0,2,0,2,0,2,0,2,0,2,0])],multline:["Multline",null,!0],"multline*":["Multline",null,!1],split:["EqnArray",null,!1,!1,"rl",COLS([0])],gather:["EqnArray",null,!0,!0,"c"],"gather*":["EqnArray",null,!1,!0,"c"],alignat:["AlignAt",null,!0,!0],"alignat*":["AlignAt",null,!1,!0],alignedat:["AlignAt",null,!1,!1],aligned:["AmsEqnArray",null,null,null,"rlrlrlrlrlrl",COLS([0,2,0,2,0,2,0,2,0,2,0]),".5em","D"],gathered:["AmsEqnArray",null,null,null,"c",null,".5em","D"],subarray:["Array",null,null,null,null,COLS([0]),"0.1em","S",1],smallmatrix:["Array",null,null,null,"c",COLS([1/3]),".2em","S",1],matrix:["Array",null,null,null,"c"],pmatrix:["Array",null,"(",")","c"],bmatrix:["Array",null,"[","]","c"],Bmatrix:["Array",null,"\\{","\\}","c"],vmatrix:["Array",null,"\\vert","\\vert","c"],Vmatrix:["Array",null,"\\Vert","\\Vert","c"],cases:["Array",null,"\\{",".","ll",null,".2em","T"]},AmsMethods_js_1.AmsMethods),new sm.DelimiterMap("AMSmath-delimiter",ParseMethods_js_1["default"].delimiter,{"\\lvert":["|",{texClass:MmlNode_js_1.TEXCLASS.OPEN}],"\\rvert":["|",{texClass:MmlNode_js_1.TEXCLASS.CLOSE}],"\\lVert":["‖",{texClass:MmlNode_js_1.TEXCLASS.OPEN}],"\\rVert":["‖",{texClass:MmlNode_js_1.TEXCLASS.CLOSE}]}),new sm.CharacterMap("AMSsymbols-mathchar0mi",ParseMethods_js_1["default"].mathchar0mi,{digamma:"ϝ",varkappa:"ϰ",varGamma:["Γ",{mathvariant:TexConstants_js_1.TexConstant.Variant.ITALIC}],varDelta:["Δ",{mathvariant:TexConstants_js_1.TexConstant.Variant.ITALIC}],varTheta:["Θ",{mathvariant:TexConstants_js_1.TexConstant.Variant.ITALIC}],varLambda:["Λ",{mathvariant:TexConstants_js_1.TexConstant.Variant.ITALIC}],varXi:["Ξ",{mathvariant:TexConstants_js_1.TexConstant.Variant.ITALIC}],varPi:["Π",{mathvariant:TexConstants_js_1.TexConstant.Variant.ITALIC}],varSigma:["Σ",{mathvariant:TexConstants_js_1.TexConstant.Variant.ITALIC}],varUpsilon:["Υ",{mathvariant:TexConstants_js_1.TexConstant.Variant.ITALIC}],varPhi:["Φ",{mathvariant:TexConstants_js_1.TexConstant.Variant.ITALIC}],varPsi:["Ψ",{mathvariant:TexConstants_js_1.TexConstant.Variant.ITALIC}],varOmega:["Ω",{mathvariant:TexConstants_js_1.TexConstant.Variant.ITALIC}],beth:"ℶ",gimel:"ℷ",daleth:"ℸ",backprime:["‵",{variantForm:!0}],hslash:"ℏ",varnothing:["∅",{variantForm:!0}],blacktriangle:"▴",triangledown:["▽",{variantForm:!0}],blacktriangledown:"▾",square:"◻",Box:"◻",blacksquare:"◼",lozenge:"◊",Diamond:"◊",blacklozenge:"⧫",circledS:["Ⓢ",{mathvariant:TexConstants_js_1.TexConstant.Variant.NORMAL}],bigstar:"★",sphericalangle:"∢",measuredangle:"∡",nexists:"∄",complement:"∁",mho:"℧",eth:["ð",{mathvariant:TexConstants_js_1.TexConstant.Variant.NORMAL}],Finv:"Ⅎ",diagup:"╱",Game:"⅁",diagdown:"╲",Bbbk:["k",{mathvariant:TexConstants_js_1.TexConstant.Variant.DOUBLESTRUCK}],yen:"¥",circledR:"®",checkmark:"✓",maltese:"✠"}),new sm.CharacterMap("AMSsymbols-mathchar0m0",ParseMethods_js_1["default"].mathchar0mo,{dotplus:"∔",ltimes:"⋉",smallsetminus:["∖",{variantForm:!0}],rtimes:"⋊",Cap:"⋒",doublecap:"⋒",leftthreetimes:"⋋",Cup:"⋓",doublecup:"⋓",rightthreetimes:"⋌",barwedge:"⊼",curlywedge:"⋏",veebar:"⊻",curlyvee:"⋎",doublebarwedge:"⩞",boxminus:"⊟",circleddash:"⊝",boxtimes:"⊠",circledast:"⊛",boxdot:"⊡",circledcirc:"⊚",boxplus:"⊞",centerdot:["⋅",{variantForm:!0}],divideontimes:"⋇",intercal:"⊺",leqq:"≦",geqq:"≧",leqslant:"⩽",geqslant:"⩾",eqslantless:"⪕",eqslantgtr:"⪖",lesssim:"≲",gtrsim:"≳",lessapprox:"⪅",gtrapprox:"⪆",approxeq:"≊",lessdot:"⋖",gtrdot:"⋗",lll:"⋘",llless:"⋘",ggg:"⋙",gggtr:"⋙",lessgtr:"≶",gtrless:"≷",lesseqgtr:"⋚",gtreqless:"⋛",lesseqqgtr:"⪋",gtreqqless:"⪌",doteqdot:"≑",Doteq:"≑",eqcirc:"≖",risingdotseq:"≓",circeq:"≗",fallingdotseq:"≒",triangleq:"≜",backsim:"∽",thicksim:["∼",{variantForm:!0}],backsimeq:"⋍",thickapprox:["≈",{variantForm:!0}],subseteqq:"⫅",supseteqq:"⫆",Subset:"⋐",Supset:"⋑",sqsubset:"⊏",sqsupset:"⊐",preccurlyeq:"≼",succcurlyeq:"≽",curlyeqprec:"⋞",curlyeqsucc:"⋟",precsim:"≾",succsim:"≿",precapprox:"⪷",succapprox:"⪸",vartriangleleft:"⊲",lhd:"⊲",vartriangleright:"⊳",rhd:"⊳",trianglelefteq:"⊴",unlhd:"⊴",trianglerighteq:"⊵",unrhd:"⊵",vDash:["⊨",{variantForm:!0}],Vdash:"⊩",Vvdash:"⊪",smallsmile:["⌣",{variantForm:!0}],shortmid:["∣",{variantForm:!0}],smallfrown:["⌢",{variantForm:!0}],shortparallel:["∥",{variantForm:!0}],bumpeq:"≏",between:"≬",Bumpeq:"≎",pitchfork:"⋔",varpropto:["∝",{variantForm:!0}],backepsilon:"∍",blacktriangleleft:"◂",blacktriangleright:"▸",therefore:"∴",because:"∵",eqsim:"≂",vartriangle:["△",{variantForm:!0}],Join:"⋈",nless:"≮",ngtr:"≯",nleq:"≰",ngeq:"≱",nleqslant:["⪇",{variantForm:!0}],ngeqslant:["⪈",{variantForm:!0}],nleqq:["≰",{variantForm:!0}],ngeqq:["≱",{variantForm:!0}],lneq:"⪇",gneq:"⪈",lneqq:"≨",gneqq:"≩",lvertneqq:["≨",{variantForm:!0}],gvertneqq:["≩",{variantForm:!0}],lnsim:"⋦",gnsim:"⋧",lnapprox:"⪉",gnapprox:"⪊",nprec:"⊀",nsucc:"⊁",npreceq:["⋠",{variantForm:!0}],nsucceq:["⋡",{variantForm:!0}],precneqq:"⪵",succneqq:"⪶",precnsim:"⋨",succnsim:"⋩",precnapprox:"⪹",succnapprox:"⪺",nsim:"≁",ncong:"≇",nshortmid:["∤",{variantForm:!0}],nshortparallel:["∦",{variantForm:!0}],nmid:"∤",nparallel:"∦",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",ntriangleleft:"⋪",ntriangleright:"⋫",ntrianglelefteq:"⋬",ntrianglerighteq:"⋭",nsubseteq:"⊈",nsupseteq:"⊉",nsubseteqq:["⊈",{variantForm:!0}],nsupseteqq:["⊉",{variantForm:!0}],subsetneq:"⊊",supsetneq:"⊋",varsubsetneq:["⊊",{variantForm:!0}],varsupsetneq:["⊋",{variantForm:!0}],subsetneqq:"⫋",supsetneqq:"⫌",varsubsetneqq:["⫋",{variantForm:!0}],varsupsetneqq:["⫌",{variantForm:!0}],leftleftarrows:"⇇",rightrightarrows:"⇉",leftrightarrows:"⇆",rightleftarrows:"⇄",Lleftarrow:"⇚",Rrightarrow:"⇛",twoheadleftarrow:"↞",twoheadrightarrow:"↠",leftarrowtail:"↢",rightarrowtail:"↣",looparrowleft:"↫",looparrowright:"↬",leftrightharpoons:"⇋",rightleftharpoons:["⇌",{variantForm:!0}],curvearrowleft:"↶",curvearrowright:"↷",circlearrowleft:"↺",circlearrowright:"↻",Lsh:"↰",Rsh:"↱",upuparrows:"⇈",downdownarrows:"⇊",upharpoonleft:"↿",upharpoonright:"↾",downharpoonleft:"⇃",restriction:"↾",multimap:"⊸",downharpoonright:"⇂",leftrightsquigarrow:"↭",rightsquigarrow:"⇝",leadsto:"⇝",dashrightarrow:"⇢",dashleftarrow:"⇠",nleftarrow:"↚",nrightarrow:"↛",nLeftarrow:"⇍",nRightarrow:"⇏",nleftrightarrow:"↮",nLeftrightarrow:"⇎"}),new sm.DelimiterMap("AMSsymbols-delimiter",ParseMethods_js_1["default"].delimiter,{"\\ulcorner":"⌜","\\urcorner":"⌝","\\llcorner":"⌞","\\lrcorner":"⌟"}),new sm.CommandMap("AMSsymbols-macros",{implies:["Macro","\\;\\Longrightarrow\\;"],impliedby:["Macro","\\;\\Longleftarrow\\;"]},AmsMethods_js_1.AmsMethods)
},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AmsCdConfiguration=void 0;var Configuration_js_1=__webpack_require__(0);__webpack_require__(34),exports.AmsCdConfiguration=Configuration_js_1.Configuration.create("amscd",{handler:{character:["amscd_special"],macro:["amscd_macros"],environment:["amscd_environment"]},options:{amscd:{colspace:"5pt",rowspace:"5pt",harrowsize:"2.75em",varrowsize:"1.75em",hideHorizontalLabels:!1}}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var sm=__webpack_require__(1),ParseMethods_js_1=__webpack_require__(9),AmsCdMethods_js_1=__webpack_require__(35);new sm.EnvironmentMap("amscd_environment",ParseMethods_js_1["default"].environment,{CD:"CD"},AmsCdMethods_js_1["default"]),new sm.CommandMap("amscd_macros",{minCDarrowwidth:"minCDarrowwidth",minCDarrowheight:"minCDarrowheight"},AmsCdMethods_js_1["default"]),new sm.MacroMap("amscd_special",{"@":"arrow"},AmsCdMethods_js_1["default"])},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var TexParser_js_1=__webpack_require__(5),BaseConfiguration_js_1=__webpack_require__(22),MmlNode_js_1=__webpack_require__(7),NodeUtil_js_1=__webpack_require__(4),AmsCdMethods={};AmsCdMethods.CD=function(parser,begin){parser.Push(begin);var item=parser.itemFactory.create("array"),options=parser.configuration.options.amscd;return item.setProperties({minw:parser.stack.env.CD_minw||options.harrowsize,minh:parser.stack.env.CD_minh||options.varrowsize}),item.arraydef={columnalign:"center",columnspacing:options.colspace,rowspacing:options.rowspace,displaystyle:!0},item},AmsCdMethods.arrow=function(parser,name){var c=parser.string.charAt(parser.i);if(!c.match(/[><VA.|=]/))return BaseConfiguration_js_1.Other(parser,name);parser.i++;var first=parser.stack.Top();(!first.isKind("array")||first.Size())&&(AmsCdMethods.cell(parser,name),first=parser.stack.Top());for(var top=first,arrowRow=top.table.length%2===1,n=(top.row.length+(arrowRow?0:1))%2;n;)AmsCdMethods.cell(parser,name),n--;var mml,hdef={minsize:top.getProperty("minw"),stretchy:!0},vdef={minsize:top.getProperty("minh"),stretchy:!0,symmetric:!0,lspace:0,rspace:0};if("."===c);else if("|"===c)mml=parser.create("token","mo",vdef,"∥");else if("="===c)mml=parser.create("token","mo",hdef,"=");else{var arrow={">":"→","<":"←",V:"↓",A:"↑"}[c],a=parser.GetUpTo(name+c,c),b=parser.GetUpTo(name+c,c);if(">"===c||"<"===c){if(mml=parser.create("token","mo",hdef,arrow),a||(a="\\kern "+top.getProperty("minw")),a||b){var pad={width:".67em",lspace:".33em"};if(mml=parser.create("node","munderover",[mml]),a){var nodeA=new TexParser_js_1["default"](a,parser.stack.env,parser.configuration).mml(),mpadded=parser.create("node","mpadded",[nodeA],pad);NodeUtil_js_1["default"].setAttribute(mpadded,"voffset",".1em"),NodeUtil_js_1["default"].setChild(mml,mml.over,mpadded)}if(b){var nodeB=new TexParser_js_1["default"](b,parser.stack.env,parser.configuration).mml();NodeUtil_js_1["default"].setChild(mml,mml.under,parser.create("node","mpadded",[nodeB],pad))}parser.configuration.options.amscd.hideHorizontalLabels&&(mml=parser.create("node","mpadded",mml,{depth:0,height:".67em"}))}}else{var arrowNode=parser.create("token","mo",vdef,arrow);mml=arrowNode,(a||b)&&(mml=parser.create("node","mrow"),a&&NodeUtil_js_1["default"].appendChildren(mml,[new TexParser_js_1["default"]("\\scriptstyle\\llap{"+a+"}",parser.stack.env,parser.configuration).mml()]),arrowNode.texClass=MmlNode_js_1.TEXCLASS.ORD,NodeUtil_js_1["default"].appendChildren(mml,[arrowNode]),b&&NodeUtil_js_1["default"].appendChildren(mml,[new TexParser_js_1["default"]("\\scriptstyle\\rlap{"+b+"}",parser.stack.env,parser.configuration).mml()]))}}mml&&parser.Push(mml),AmsCdMethods.cell(parser,name)},AmsCdMethods.cell=function(parser,name){var top=parser.stack.Top();(top.table||[]).length%2===0&&0===(top.row||[]).length&&parser.Push(parser.create("node","mpadded",[],{height:"8.5pt",depth:"2pt"})),parser.Push(parser.itemFactory.create("cell").setProperties({isEntry:!0,name:name}))},AmsCdMethods.minCDarrowwidth=function(parser,name){parser.stack.env.CD_minw=parser.GetDimen(name)},AmsCdMethods.minCDarrowheight=function(parser,name){parser.stack.env.CD_minh=parser.GetDimen(name)},exports["default"]=AmsCdMethods},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BboxConfiguration=exports.BboxMethods=void 0;var Configuration_js_1=__webpack_require__(0),SymbolMap_js_1=__webpack_require__(1),TexError_js_1=__webpack_require__(2);exports.BboxMethods={},exports.BboxMethods.BBox=function(parser,name){for(var bbox=parser.GetBrackets(name,""),math=parser.ParseArg(name),parts=bbox.split(/,/),def,background,style,i=0,m=parts.length;m>i;i++){var part=parts[i].trim(),match=part.match(/^(\.\d+|\d+(\.\d*)?)(pt|em|ex|mu|px|in|cm|mm)$/);if(match){if(def)throw new TexError_js_1["default"]("MultipleBBoxProperty","%1 specified twice in %2","Padding",name);var pad=BBoxPadding(match[1]+match[3]);pad&&(def={height:"+"+pad,depth:"+"+pad,lspace:pad,width:"+"+2*parseInt(match[1],10)+match[3]})}else if(part.match(/^([a-z0-9]+|\#[0-9a-f]{6}|\#[0-9a-f]{3})$/i)){if(background)throw new TexError_js_1["default"]("MultipleBBoxProperty","%1 specified twice in %2","Background",name);background=part}else if(part.match(/^[-a-z]+:/i)){if(style)throw new TexError_js_1["default"]("MultipleBBoxProperty","%1 specified twice in %2","Style",name);style=BBoxStyle(part)}else if(""!==part)throw new TexError_js_1["default"]("InvalidBBoxProperty",'"%1" doesn\'t look like a color, a padding dimension, or a style',part)}def&&(math=parser.create("node","mpadded",[math],def)),(background||style)&&(def={},background&&Object.assign(def,{mathbackground:background}),style&&Object.assign(def,{style:style}),math=parser.create("node","mstyle",[math],def)),parser.Push(math)};var BBoxStyle=function(styles){return styles},BBoxPadding=function(pad){return pad};new SymbolMap_js_1.CommandMap("bbox",{bbox:"BBox"},exports.BboxMethods),exports.BboxConfiguration=Configuration_js_1.Configuration.create("bbox",{handler:{macro:["bbox"]}})},function(module,exports,__webpack_require__){"use strict";function createBoldToken(factory,kind,def,text){var token=NodeFactory_js_1.NodeFactory.createToken(factory,kind,def,text);return"mtext"!==kind&&factory.configuration.parser.stack.env.boldsymbol&&(NodeUtil_js_1["default"].setProperty(token,"fixBold",!0),factory.configuration.addNode("fixBold",token)),token}function rewriteBoldTokens(arg){var e_1,_a;try{for(var _b=__values(arg.data.getList("fixBold")),_c=_b.next();!_c.done;_c=_b.next()){var node=_c.value;if(NodeUtil_js_1["default"].getProperty(node,"fixBold")){var variant=NodeUtil_js_1["default"].getAttribute(node,"mathvariant");null==variant?NodeUtil_js_1["default"].setAttribute(node,"mathvariant",TexConstants_js_1.TexConstant.Variant.BOLD):NodeUtil_js_1["default"].setAttribute(node,"mathvariant",BOLDVARIANT[variant]||variant),NodeUtil_js_1["default"].removeProperties(node,"fixBold")}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b["return"])&&_a.call(_b)}finally{if(e_1)throw e_1.error}}}var __values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.BoldsymbolConfiguration=exports.rewriteBoldTokens=exports.createBoldToken=exports.BoldsymbolMethods=void 0;var Configuration_js_1=__webpack_require__(0),NodeUtil_js_1=__webpack_require__(4),TexConstants_js_1=__webpack_require__(6),SymbolMap_js_1=__webpack_require__(1),NodeFactory_js_1=__webpack_require__(23),BOLDVARIANT={};BOLDVARIANT[TexConstants_js_1.TexConstant.Variant.NORMAL]=TexConstants_js_1.TexConstant.Variant.BOLD,BOLDVARIANT[TexConstants_js_1.TexConstant.Variant.ITALIC]=TexConstants_js_1.TexConstant.Variant.BOLDITALIC,BOLDVARIANT[TexConstants_js_1.TexConstant.Variant.FRAKTUR]=TexConstants_js_1.TexConstant.Variant.BOLDFRAKTUR,BOLDVARIANT[TexConstants_js_1.TexConstant.Variant.SCRIPT]=TexConstants_js_1.TexConstant.Variant.BOLDSCRIPT,BOLDVARIANT[TexConstants_js_1.TexConstant.Variant.SANSSERIF]=TexConstants_js_1.TexConstant.Variant.BOLDSANSSERIF,BOLDVARIANT["-tex-calligraphic"]="-tex-bold-calligraphic",BOLDVARIANT["-tex-oldstyle"]="-tex-bold-oldstyle",exports.BoldsymbolMethods={},exports.BoldsymbolMethods.Boldsymbol=function(parser,name){var boldsymbol=parser.stack.env.boldsymbol;parser.stack.env.boldsymbol=!0;var mml=parser.ParseArg(name);parser.stack.env.boldsymbol=boldsymbol,parser.Push(mml)},new SymbolMap_js_1.CommandMap("boldsymbol",{boldsymbol:"Boldsymbol"},exports.BoldsymbolMethods),exports.createBoldToken=createBoldToken,exports.rewriteBoldTokens=rewriteBoldTokens,exports.BoldsymbolConfiguration=Configuration_js_1.Configuration.create("boldsymbol",{handler:{macro:["boldsymbol"]},nodes:{token:createBoldToken},postprocessors:[rewriteBoldTokens]})},function(module,exports,__webpack_require__){"use strict";var _a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.BraketConfiguration=void 0;var Configuration_js_1=__webpack_require__(0),BraketItems_js_1=__webpack_require__(39);__webpack_require__(40),exports.BraketConfiguration=Configuration_js_1.Configuration.create("braket",{handler:{character:["Braket-characters"],macro:["Braket-macros"]},items:(_a={},_a[BraketItems_js_1.BraketItem.prototype.kind]=BraketItems_js_1.BraketItem,_a)})},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.BraketItem=void 0;var StackItem_js_1=__webpack_require__(13),MmlNode_js_1=__webpack_require__(7),ParseUtil_js_1=__webpack_require__(3),BraketItem=function(_super){function BraketItem(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(BraketItem,_super),Object.defineProperty(BraketItem.prototype,"kind",{get:function(){return"braket"},enumerable:!1,configurable:!0}),Object.defineProperty(BraketItem.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),BraketItem.prototype.checkItem=function(item){return item.isKind("close")?[[this.factory.create("mml",this.toMml())],!0]:item.isKind("mml")?(this.Push(item.toMml()),this.getProperty("single")?[[this.toMml()],!0]:StackItem_js_1.BaseItem.fail):_super.prototype.checkItem.call(this,item)},BraketItem.prototype.toMml=function(){var inner=_super.prototype.toMml.call(this),open=this.getProperty("open"),close=this.getProperty("close");if(this.getProperty("stretchy"))return ParseUtil_js_1["default"].fenced(this.factory.configuration,open,inner,close);var attrs={fence:!0,stretchy:!1,symmetric:!0,texClass:MmlNode_js_1.TEXCLASS.OPEN},openNode=this.create("token","mo",attrs,open);attrs.texClass=MmlNode_js_1.TEXCLASS.CLOSE;var closeNode=this.create("token","mo",attrs,close),mrow=this.create("node","mrow",[openNode,inner,closeNode],{open:open,close:close,texClass:MmlNode_js_1.TEXCLASS.INNER});return mrow},BraketItem}(StackItem_js_1.BaseItem);exports.BraketItem=BraketItem},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var SymbolMap_js_1=__webpack_require__(1),BraketMethods_js_1=__webpack_require__(41);new SymbolMap_js_1.CommandMap("Braket-macros",{bra:["Macro","{\\langle {#1} \\vert}",1],ket:["Macro","{\\vert {#1} \\rangle}",1],braket:["Braket","⟨","⟩",!1,1/0],set:["Braket","{","}",!1,1],Bra:["Macro","{\\left\\langle {#1} \\right\\vert}",1],Ket:["Macro","{\\left\\vert {#1} \\right\\rangle}",1],Braket:["Braket","⟨","⟩",!0,1/0],Set:["Braket","{","}",!0,1],ketbra:["Macro","{\\vert {#1} \\rangle\\langle {#2} \\vert}",2],Ketbra:["Macro","{\\left\\vert {#1} \\right\\rangle\\left\\langle {#2} \\right\\vert}",2],"|":"Bar"},BraketMethods_js_1["default"]),new SymbolMap_js_1.MacroMap("Braket-characters",{"|":"Bar"},BraketMethods_js_1["default"])},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var BaseMethods_js_1=__webpack_require__(8),MmlNode_js_1=__webpack_require__(7),TexError_js_1=__webpack_require__(2),BraketMethods={};BraketMethods.Macro=BaseMethods_js_1["default"].Macro,BraketMethods.Braket=function(parser,_name,open,close,stretchy,barmax){var next=parser.GetNext();if(""===next)throw new TexError_js_1["default"]("MissingArgFor","Missing argument for %1",parser.currentCS);var single=!0;"{"===next&&(parser.i++,single=!1),parser.Push(parser.itemFactory.create("braket").setProperties({barmax:barmax,barcount:0,open:open,close:close,stretchy:stretchy,single:single}))},BraketMethods.Bar=function(parser,name){var c="|"===name?"|":"∥",top=parser.stack.Top();if("braket"!==top.kind||top.getProperty("barcount")>=top.getProperty("barmax")){var mml=parser.create("token","mo",{texClass:MmlNode_js_1.TEXCLASS.ORD,stretchy:!1},c);return void parser.Push(mml)}"|"===c&&"|"===parser.GetNext()&&(parser.i++,c="∥");var stretchy=top.getProperty("stretchy");if(!stretchy){var node_1=parser.create("token","mo",{stretchy:!1,braketbar:!0},c);return void parser.Push(node_1)}var node=parser.create("node","TeXAtom",[],{texClass:MmlNode_js_1.TEXCLASS.CLOSE});parser.Push(node),top.setProperty("barcount",top.getProperty("barcount")+1),node=parser.create("token","mo",{stretchy:!0,braketbar:!0},c),parser.Push(node),node=parser.create("node","TeXAtom",[],{texClass:MmlNode_js_1.TEXCLASS.OPEN}),parser.Push(node)},exports["default"]=BraketMethods},function(module,exports,__webpack_require__){"use strict";var _a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.BussproofsConfiguration=void 0;var Configuration_js_1=__webpack_require__(0),BussproofsItems_js_1=__webpack_require__(43),BussproofsUtil_js_1=__webpack_require__(18);__webpack_require__(45),exports.BussproofsConfiguration=Configuration_js_1.Configuration.create("bussproofs",{handler:{macro:["Bussproofs-macros"],environment:["Bussproofs-environments"]},items:(_a={},_a[BussproofsItems_js_1.ProofTreeItem.prototype.kind]=BussproofsItems_js_1.ProofTreeItem,_a),preprocessors:[[BussproofsUtil_js_1.saveDocument,1]],postprocessors:[[BussproofsUtil_js_1.clearDocument,3],[BussproofsUtil_js_1.makeBsprAttributes,2],[BussproofsUtil_js_1.balanceRules,1]]})},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProofTreeItem=void 0;var TexError_js_1=__webpack_require__(2),StackItem_js_1=__webpack_require__(13),Stack_js_1=__webpack_require__(44),BussproofsUtil=__webpack_require__(18),ProofTreeItem=function(_super){function ProofTreeItem(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.leftLabel=null,_this.rigthLabel=null,_this.innerStack=new Stack_js_1["default"](_this.factory,{},!0),_this}return __extends(ProofTreeItem,_super),Object.defineProperty(ProofTreeItem.prototype,"kind",{get:function(){return"proofTree"},enumerable:!1,configurable:!0}),ProofTreeItem.prototype.checkItem=function(item){if(item.isKind("end")&&"prooftree"===item.getName()){var node=this.toMml();return BussproofsUtil.setProperty(node,"proof",!0),[[this.factory.create("mml",node),item],!0]}if(item.isKind("stop"))throw new TexError_js_1["default"]("EnvMissingEnd","Missing \\end{%1}",this.getName());return this.innerStack.Push(item),StackItem_js_1.BaseItem.fail},ProofTreeItem.prototype.toMml=function(){var tree=_super.prototype.toMml.call(this),start=this.innerStack.Top();if(start.isKind("start")&&!start.Size())return tree;this.innerStack.Push(this.factory.create("stop"));var prefix=this.innerStack.Top().toMml();return this.create("node","mrow",[prefix,tree],{})},ProofTreeItem}(StackItem_js_1.BaseItem);exports.ProofTreeItem=ProofTreeItem},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=MathJax._.input.tex.Stack["default"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var BussproofsMethods_js_1=__webpack_require__(46),ParseMethods_js_1=__webpack_require__(9),SymbolMap_js_1=__webpack_require__(1);new SymbolMap_js_1.CommandMap("Bussproofs-macros",{AxiomC:"Axiom",UnaryInfC:["Inference",1],BinaryInfC:["Inference",2],TrinaryInfC:["Inference",3],QuaternaryInfC:["Inference",4],QuinaryInfC:["Inference",5],RightLabel:["Label","right"],LeftLabel:["Label","left"],AXC:"Axiom",UIC:["Inference",1],BIC:["Inference",2],TIC:["Inference",3],RL:["Label","right"],LL:["Label","left"],noLine:["SetLine","none",!1],singleLine:["SetLine","solid",!1],solidLine:["SetLine","solid",!1],dashedLine:["SetLine","dashed",!1],alwaysNoLine:["SetLine","none",!0],alwaysSingleLine:["SetLine","solid",!0],alwaysSolidLine:["SetLine","solid",!0],alwaysDashedLine:["SetLine","dashed",!0],rootAtTop:["RootAtTop",!0],alwaysRootAtTop:["RootAtTop",!0],rootAtBottom:["RootAtTop",!1],alwaysRootAtBottom:["RootAtTop",!1],fCenter:"FCenter",Axiom:"AxiomF",UnaryInf:["InferenceF",1],BinaryInf:["InferenceF",2],TrinaryInf:["InferenceF",3],QuaternaryInf:["InferenceF",4],QuinaryInf:["InferenceF",5]},BussproofsMethods_js_1["default"]),new SymbolMap_js_1.EnvironmentMap("Bussproofs-environments",ParseMethods_js_1["default"].environment,{prooftree:["Prooftree",null,!1]},BussproofsMethods_js_1["default"])},function(module,exports,__webpack_require__){"use strict";function createRule(parser,premise,conclusions,left,right,style,rootAtTop){var upper=parser.create("node","mtr",[parser.create("node","mtd",[premise],{})],{}),lower=parser.create("node","mtr",[parser.create("node","mtd",conclusions,{})],{}),rule=parser.create("node","mtable",rootAtTop?[lower,upper]:[upper,lower],{align:"top 2",rowlines:style,framespacing:"0 0"});BussproofsUtil.setProperty(rule,"inferenceRule",rootAtTop?"up":"down");var leftLabel,rightLabel;left&&(leftLabel=parser.create("node","mpadded",[left],{height:"+.5em",width:"+.5em",voffset:"-.15em"}),BussproofsUtil.setProperty(leftLabel,"prooflabel","left")),right&&(rightLabel=parser.create("node","mpadded",[right],{height:"+.5em",width:"+.5em",voffset:"-.15em"}),BussproofsUtil.setProperty(rightLabel,"prooflabel","right"));var children,label;if(left&&right)children=[leftLabel,rule,rightLabel],label="both";else if(left)children=[leftLabel,rule],label="left";else{if(!right)return rule;children=[rule,rightLabel],label="right"}return rule=parser.create("node","mrow",children),BussproofsUtil.setProperty(rule,"labelledRule",label),rule}function parseFCenterLine(parser,name){var dollar=parser.GetNext();if("$"!==dollar)throw new TexError_js_1["default"]("IllegalUseOfCommand","Use of %1 does not match it's definition.",name);parser.i++;var axiom=parser.GetUpTo(name,"$");if(-1===axiom.indexOf("\\fCenter"))throw new TexError_js_1["default"]("IllegalUseOfCommand","Missing \\fCenter in %1.",name);var _a=__read(axiom.split("\\fCenter"),2),prem=_a[0],conc=_a[1],premise=new TexParser_js_1["default"](prem,parser.stack.env,parser.configuration).mml(),conclusion=new TexParser_js_1["default"](conc,parser.stack.env,parser.configuration).mml(),fcenter=new TexParser_js_1["default"]("\\fCenter",parser.stack.env,parser.configuration).mml(),left=parser.create("node","mtd",[premise],{}),middle=parser.create("node","mtd",[fcenter],{}),right=parser.create("node","mtd",[conclusion],{}),row=parser.create("node","mtr",[left,middle,right],{}),table=parser.create("node","mtable",[row],{columnspacing:".5ex",columnalign:"center 2"});return BussproofsUtil.setProperty(table,"sequent",!0),parser.configuration.addNode("sequent",row),table}var __read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=this&&this.__spread||function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar};Object.defineProperty(exports,"__esModule",{value:!0});var TexError_js_1=__webpack_require__(2),TexParser_js_1=__webpack_require__(5),ParseUtil_js_1=__webpack_require__(3),BussproofsUtil=__webpack_require__(18),BussproofsMethods={};BussproofsMethods.Prooftree=function(parser,begin){parser.Push(begin);var newItem=parser.itemFactory.create("proofTree").setProperties({name:begin.getName(),line:"solid",currentLine:"solid",rootAtTop:!1});return newItem},BussproofsMethods.Axiom=function(parser,name){var top=parser.stack.Top();if("proofTree"!==top.kind)throw new TexError_js_1["default"]("IllegalProofCommand","Proof commands only allowed in prooftree environment.");var content=paddedContent(parser,parser.GetArgument(name));BussproofsUtil.setProperty(content,"axiom",!0),top.Push(content)};var paddedContent=function(parser,content){var nodes=ParseUtil_js_1["default"].internalMath(parser,ParseUtil_js_1["default"].trimSpaces(content),0);if(!nodes[0].childNodes[0].childNodes.length)return parser.create("node","mrow",[]);var lpad=parser.create("node","mspace",[],{width:".5ex"}),rpad=parser.create("node","mspace",[],{width:".5ex"});return parser.create("node","mrow",__spread([lpad],nodes,[rpad]))};BussproofsMethods.Inference=function(parser,name,n){var top=parser.stack.Top();if("proofTree"!==top.kind)throw new TexError_js_1["default"]("IllegalProofCommand","Proof commands only allowed in prooftree environment.");if(top.Size()<n)throw new TexError_js_1["default"]("BadProofTree","Proof tree badly specified.");var rootAtTop=top.getProperty("rootAtTop"),childCount=1!==n||top.Peek()[0].childNodes.length?n:0,children=[];do children.length&&children.unshift(parser.create("node","mtd",[],{})),children.unshift(parser.create("node","mtd",[top.Pop()],{rowalign:rootAtTop?"top":"bottom"})),n--;while(n>0);var row=parser.create("node","mtr",children,{}),table=parser.create("node","mtable",[row],{framespacing:"0 0"}),conclusion=paddedContent(parser,parser.GetArgument(name)),style=top.getProperty("currentLine");style!==top.getProperty("line")&&top.setProperty("currentLine",top.getProperty("line"));var rule=createRule(parser,table,[conclusion],top.getProperty("left"),top.getProperty("right"),style,rootAtTop);top.setProperty("left",null),top.setProperty("right",null),BussproofsUtil.setProperty(rule,"inference",childCount),parser.configuration.addNode("inference",rule),top.Push(rule)},BussproofsMethods.Label=function(parser,name,side){var top=parser.stack.Top();if("proofTree"!==top.kind)throw new TexError_js_1["default"]("IllegalProofCommand","Proof commands only allowed in prooftree environment.");var content=ParseUtil_js_1["default"].internalMath(parser,parser.GetArgument(name),0),label=content.length>1?parser.create("node","mrow",content,{}):content[0];top.setProperty(side,label)},BussproofsMethods.SetLine=function(parser,_name,style,always){var top=parser.stack.Top();if("proofTree"!==top.kind)throw new TexError_js_1["default"]("IllegalProofCommand","Proof commands only allowed in prooftree environment.");top.setProperty("currentLine",style),always&&top.setProperty("line",style)},BussproofsMethods.RootAtTop=function(parser,_name,where){var top=parser.stack.Top();if("proofTree"!==top.kind)throw new TexError_js_1["default"]("IllegalProofCommand","Proof commands only allowed in prooftree environment.");top.setProperty("rootAtTop",where)},BussproofsMethods.AxiomF=function(parser,name){var top=parser.stack.Top();if("proofTree"!==top.kind)throw new TexError_js_1["default"]("IllegalProofCommand","Proof commands only allowed in prooftree environment.");var line=parseFCenterLine(parser,name);BussproofsUtil.setProperty(line,"axiom",!0),top.Push(line)},BussproofsMethods.FCenter=function(_parser,_name){},BussproofsMethods.InferenceF=function(parser,name,n){var top=parser.stack.Top();if("proofTree"!==top.kind)throw new TexError_js_1["default"]("IllegalProofCommand","Proof commands only allowed in prooftree environment.");if(top.Size()<n)throw new TexError_js_1["default"]("BadProofTree","Proof tree badly specified.");var rootAtTop=top.getProperty("rootAtTop"),childCount=1!==n||top.Peek()[0].childNodes.length?n:0,children=[];do children.length&&children.unshift(parser.create("node","mtd",[],{})),children.unshift(parser.create("node","mtd",[top.Pop()],{rowalign:rootAtTop?"top":"bottom"})),n--;while(n>0);var row=parser.create("node","mtr",children,{}),table=parser.create("node","mtable",[row],{framespacing:"0 0"}),conclusion=parseFCenterLine(parser,name),style=top.getProperty("currentLine");style!==top.getProperty("line")&&top.setProperty("currentLine",top.getProperty("line"));var rule=createRule(parser,table,[conclusion],top.getProperty("left"),top.getProperty("right"),style,rootAtTop);top.setProperty("left",null),top.setProperty("right",null),BussproofsUtil.setProperty(rule,"inference",childCount),parser.configuration.addNode("inference",rule),top.Push(rule)},exports["default"]=BussproofsMethods},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CancelConfiguration=exports.CancelMethods=void 0;var Configuration_js_1=__webpack_require__(0),TexConstants_js_1=__webpack_require__(6),SymbolMap_js_1=__webpack_require__(1),ParseUtil_js_1=__webpack_require__(3),EncloseConfiguration_js_1=__webpack_require__(24);exports.CancelMethods={},exports.CancelMethods.Cancel=function(parser,name,notation){var attr=parser.GetBrackets(name,""),math=parser.ParseArg(name),def=ParseUtil_js_1["default"].keyvalOptions(attr,EncloseConfiguration_js_1.ENCLOSE_OPTIONS);def.notation=notation,parser.Push(parser.create("node","menclose",[math],def))},exports.CancelMethods.CancelTo=function(parser,name){var attr=parser.GetBrackets(name,""),value=parser.ParseArg(name),math=parser.ParseArg(name),def=ParseUtil_js_1["default"].keyvalOptions(attr,EncloseConfiguration_js_1.ENCLOSE_OPTIONS);def.notation=[TexConstants_js_1.TexConstant.Notation.UPDIAGONALSTRIKE,TexConstants_js_1.TexConstant.Notation.UPDIAGONALARROW,TexConstants_js_1.TexConstant.Notation.NORTHEASTARROW].join(" "),value=parser.create("node","mpadded",[value],{depth:"-.1em",height:"+.1em",voffset:".1em"}),parser.Push(parser.create("node","msup",[parser.create("node","menclose",[math],def),value]))},new SymbolMap_js_1.CommandMap("cancel",{cancel:["Cancel",TexConstants_js_1.TexConstant.Notation.UPDIAGONALSTRIKE],bcancel:["Cancel",TexConstants_js_1.TexConstant.Notation.DOWNDIAGONALSTRIKE],xcancel:["Cancel",TexConstants_js_1.TexConstant.Notation.UPDIAGONALSTRIKE+" "+TexConstants_js_1.TexConstant.Notation.DOWNDIAGONALSTRIKE],cancelto:"CancelTo"},exports.CancelMethods),exports.CancelConfiguration=Configuration_js_1.Configuration.create("cancel",{handler:{macro:["cancel"]}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ColorConfiguration=void 0;var SymbolMap_js_1=__webpack_require__(1),Configuration_js_1=__webpack_require__(0),ColorMethods_js_1=__webpack_require__(49),ColorUtil_js_1=__webpack_require__(50);new SymbolMap_js_1.CommandMap("color",{color:"Color",textcolor:"TextColor",definecolor:"DefineColor",colorbox:"ColorBox",fcolorbox:"FColorBox"},ColorMethods_js_1.ColorMethods);var config=function(_config,jax){jax.parseOptions.packageData.set("color",{model:new ColorUtil_js_1.ColorModel})};exports.ColorConfiguration=Configuration_js_1.Configuration.create("color",{handler:{macro:["color"]},options:{color:{padding:"5px",borderWidth:"2px"}},config:config})},function(module,exports,__webpack_require__){"use strict";function padding(colorPadding){var pad="+"+colorPadding,unit=colorPadding.replace(/^.*?([a-z]*)$/,"$1"),pad2=2*parseFloat(pad);return{width:"+"+pad2+unit,height:pad,depth:pad,lspace:colorPadding}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ColorMethods=void 0;var NodeUtil_js_1=__webpack_require__(4),ParseUtil_js_1=__webpack_require__(3);exports.ColorMethods={},exports.ColorMethods.Color=function(parser,name){var model=parser.GetBrackets(name,""),colorDef=parser.GetArgument(name),colorModel=parser.configuration.packageData.get("color").model,color=colorModel.getColor(model,colorDef),style=parser.itemFactory.create("style").setProperties({styles:{mathcolor:color}});parser.stack.env.color=color,parser.Push(style)},exports.ColorMethods.TextColor=function(parser,name){var model=parser.GetBrackets(name,""),colorDef=parser.GetArgument(name),colorModel=parser.configuration.packageData.get("color").model,color=colorModel.getColor(model,colorDef),old=parser.stack.env.color;parser.stack.env.color=color;var math=parser.ParseArg(name);old?parser.stack.env.color=old:delete parser.stack.env.color;var node=parser.create("node","mstyle",[math],{mathcolor:color});parser.Push(node)},exports.ColorMethods.DefineColor=function(parser,name){var cname=parser.GetArgument(name),model=parser.GetArgument(name),def=parser.GetArgument(name),colorModel=parser.configuration.packageData.get("color").model;colorModel.defineColor(model,cname,def)},exports.ColorMethods.ColorBox=function(parser,name){var cname=parser.GetArgument(name),math=ParseUtil_js_1["default"].internalMath(parser,parser.GetArgument(name)),colorModel=parser.configuration.packageData.get("color").model,node=parser.create("node","mpadded",math,{mathbackground:colorModel.getColor("named",cname)});NodeUtil_js_1["default"].setProperties(node,padding(parser.options.color.padding)),parser.Push(node)},exports.ColorMethods.FColorBox=function(parser,name){var fname=parser.GetArgument(name),cname=parser.GetArgument(name),math=ParseUtil_js_1["default"].internalMath(parser,parser.GetArgument(name)),options=parser.options.color,colorModel=parser.configuration.packageData.get("color").model,node=parser.create("node","mpadded",math,{mathbackground:colorModel.getColor("named",cname),style:"border: "+options.borderWidth+" solid "+colorModel.getColor("named",fname)});NodeUtil_js_1["default"].setProperties(node,padding(options.padding)),parser.Push(node)}},function(module,exports,__webpack_require__){"use strict";var __values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ColorModel=void 0;var TexError_js_1=__webpack_require__(2),ColorConstants_js_1=__webpack_require__(51),ColorModelProcessors=new Map,ColorModel=function(){function ColorModel(){this.userColors=new Map}return ColorModel.prototype.normalizeColor=function(model,def){if(!model||"named"===model)return def;if(ColorModelProcessors.has(model)){var modelProcessor=ColorModelProcessors.get(model);return modelProcessor(def)}throw new TexError_js_1["default"]("UndefinedColorModel","Color model '%1' not defined",model)
},ColorModel.prototype.getColor=function(model,def){return model&&"named"!==model?this.normalizeColor(model,def):this.getColorByName(def)},ColorModel.prototype.getColorByName=function(name){return this.userColors.has(name)?this.userColors.get(name):ColorConstants_js_1.COLORS.has(name)?ColorConstants_js_1.COLORS.get(name):name},ColorModel.prototype.defineColor=function(model,name,def){var normalized=this.normalizeColor(model,def);this.userColors.set(name,normalized)},ColorModel}();exports.ColorModel=ColorModel,ColorModelProcessors.set("rgb",function(rgb){var e_1,_a,rgbParts=rgb.trim().split(/\s*,\s*/),RGB="#";if(3!==rgbParts.length)throw new TexError_js_1["default"]("ModelArg1","Color values for the %1 model require 3 numbers","rgb");try{for(var rgbParts_1=__values(rgbParts),rgbParts_1_1=rgbParts_1.next();!rgbParts_1_1.done;rgbParts_1_1=rgbParts_1.next()){var rgbPart=rgbParts_1_1.value;if(!rgbPart.match(/^(\d+(\.\d*)?|\.\d+)$/))throw new TexError_js_1["default"]("InvalidDecimalNumber","Invalid decimal number");var n=parseFloat(rgbPart);if(0>n||n>1)throw new TexError_js_1["default"]("ModelArg2","Color values for the %1 model must be between %2 and %3","rgb","0","1");var pn=Math.floor(255*n).toString(16);pn.length<2&&(pn="0"+pn),RGB+=pn}}catch(e_1_1){e_1={error:e_1_1}}finally{try{rgbParts_1_1&&!rgbParts_1_1.done&&(_a=rgbParts_1["return"])&&_a.call(rgbParts_1)}finally{if(e_1)throw e_1.error}}return RGB}),ColorModelProcessors.set("RGB",function(rgb){var e_2,_a,rgbParts=rgb.trim().split(/\s*,\s*/),RGB="#";if(3!==rgbParts.length)throw new TexError_js_1["default"]("ModelArg1","Color values for the %1 model require 3 numbers","RGB");try{for(var rgbParts_2=__values(rgbParts),rgbParts_2_1=rgbParts_2.next();!rgbParts_2_1.done;rgbParts_2_1=rgbParts_2.next()){var rgbPart=rgbParts_2_1.value;if(!rgbPart.match(/^\d+$/))throw new TexError_js_1["default"]("InvalidNumber","Invalid number");var n=parseInt(rgbPart);if(n>255)throw new TexError_js_1["default"]("ModelArg2","Color values for the %1 model must be between %2 and %3","RGB","0","255");var pn=n.toString(16);pn.length<2&&(pn="0"+pn),RGB+=pn}}catch(e_2_1){e_2={error:e_2_1}}finally{try{rgbParts_2_1&&!rgbParts_2_1.done&&(_a=rgbParts_2["return"])&&_a.call(rgbParts_2)}finally{if(e_2)throw e_2.error}}return RGB}),ColorModelProcessors.set("gray",function(gray){if(!gray.match(/^\s*(\d+(\.\d*)?|\.\d+)\s*$/))throw new TexError_js_1["default"]("InvalidDecimalNumber","Invalid decimal number");var n=parseFloat(gray);if(0>n||n>1)throw new TexError_js_1["default"]("ModelArg2","Color values for the %1 model must be between %2 and %3","gray","0","1");var pn=Math.floor(255*n).toString(16);return pn.length<2&&(pn="0"+pn),"#"+pn+pn+pn})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.COLORS=void 0,exports.COLORS=new Map([["Apricot","#FBB982"],["Aquamarine","#00B5BE"],["Bittersweet","#C04F17"],["Black","#221E1F"],["Blue","#2D2F92"],["BlueGreen","#00B3B8"],["BlueViolet","#473992"],["BrickRed","#B6321C"],["Brown","#792500"],["BurntOrange","#F7921D"],["CadetBlue","#74729A"],["CarnationPink","#F282B4"],["Cerulean","#00A2E3"],["CornflowerBlue","#41B0E4"],["Cyan","#00AEEF"],["Dandelion","#FDBC42"],["DarkOrchid","#A4538A"],["Emerald","#00A99D"],["ForestGreen","#009B55"],["Fuchsia","#8C368C"],["Goldenrod","#FFDF42"],["Gray","#949698"],["Green","#00A64F"],["GreenYellow","#DFE674"],["JungleGreen","#00A99A"],["Lavender","#F49EC4"],["LimeGreen","#8DC73E"],["Magenta","#EC008C"],["Mahogany","#A9341F"],["Maroon","#AF3235"],["Melon","#F89E7B"],["MidnightBlue","#006795"],["Mulberry","#A93C93"],["NavyBlue","#006EB8"],["OliveGreen","#3C8031"],["Orange","#F58137"],["OrangeRed","#ED135A"],["Orchid","#AF72B0"],["Peach","#F7965A"],["Periwinkle","#7977B8"],["PineGreen","#008B72"],["Plum","#92268F"],["ProcessBlue","#00B0F0"],["Purple","#99479B"],["RawSienna","#974006"],["Red","#ED1B23"],["RedOrange","#F26035"],["RedViolet","#A1246B"],["Rhodamine","#EF559F"],["RoyalBlue","#0071BC"],["RoyalPurple","#613F99"],["RubineRed","#ED017D"],["Salmon","#F69289"],["SeaGreen","#3FBC9D"],["Sepia","#671800"],["SkyBlue","#46C5DD"],["SpringGreen","#C6DC67"],["Tan","#DA9D76"],["TealBlue","#00AEB3"],["Thistle","#D883B7"],["Turquoise","#00B4CE"],["Violet","#58429B"],["VioletRed","#EF58A0"],["White","#FFFFFF"],["WildStrawberry","#EE2967"],["Yellow","#FFF200"],["YellowGreen","#98CC70"],["YellowOrange","#FAA21A"]])},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ColorConfiguration=exports.ColorV2Methods=void 0;var SymbolMap_js_1=__webpack_require__(1),Configuration_js_1=__webpack_require__(0);exports.ColorV2Methods={Color:function(parser,name){var color=parser.GetArgument(name),old=parser.stack.env.color;parser.stack.env.color=color;var math=parser.ParseArg(name);old?parser.stack.env.color=old:delete parser.stack.env.color;var node=parser.create("node","mstyle",[math],{mathcolor:color});parser.Push(node)}},new SymbolMap_js_1.CommandMap("colorv2",{color:"Color"},exports.ColorV2Methods),exports.ColorConfiguration=Configuration_js_1.Configuration.create("colorv2",{handler:{macro:["colorv2"]}})},function(module,exports,__webpack_require__){"use strict";function configmacrosInit(config){new SymbolMap_js_1.CommandMap(MACROSMAP,{},{}),config.append(Configuration_js_1.Configuration.local({handler:{macro:[MACROSMAP]},priority:3}))}function configmacrosConfig(_config,jax){var e_1,_a,macrosMap=jax.parseOptions.handlers.retrieve(MACROSMAP),macros=jax.parseOptions.options.macros;try{for(var _b=__values(Object.keys(macros)),_c=_b.next();!_c.done;_c=_b.next()){var cs=_c.value,def="string"==typeof macros[cs]?[macros[cs]]:macros[cs],macro=Array.isArray(def[2])?new Symbol_js_1.Macro(cs,NewcommandMethods_js_1["default"].MacroWithTemplate,def.slice(0,2).concat(def[2])):new Symbol_js_1.Macro(cs,NewcommandMethods_js_1["default"].Macro,def);macrosMap.add(cs,macro)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b["return"])&&_a.call(_b)}finally{if(e_1)throw e_1.error}}}var __values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ConfigMacrosConfiguration=void 0;var Configuration_js_1=__webpack_require__(0),Options_js_1=__webpack_require__(10),SymbolMap_js_1=__webpack_require__(1),Symbol_js_1=__webpack_require__(12),NewcommandMethods_js_1=__webpack_require__(25),MACROSMAP="configmacros-map";exports.ConfigMacrosConfiguration=Configuration_js_1.Configuration.create("configmacros",{init:configmacrosInit,config:configmacrosConfig,options:{macros:Options_js_1.expandable({})}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ExtpfeilConfiguration=exports.ExtpfeilMethods=void 0;var Configuration_js_1=__webpack_require__(0),SymbolMap_js_1=__webpack_require__(1),AmsMethods_js_1=__webpack_require__(11),NewcommandUtil_js_1=__webpack_require__(19),NewcommandConfiguration_js_1=__webpack_require__(26),TexError_js_1=__webpack_require__(2);exports.ExtpfeilMethods={},exports.ExtpfeilMethods.xArrow=AmsMethods_js_1.AmsMethods.xArrow,exports.ExtpfeilMethods.NewExtArrow=function(parser,name){var cs=parser.GetArgument(name),space=parser.GetArgument(name),chr=parser.GetArgument(name);if(!cs.match(/^\\([a-z]+|.)$/i))throw new TexError_js_1["default"]("NewextarrowArg1","First argument to %1 must be a control sequence name",name);if(!space.match(/^(\d+),(\d+)$/))throw new TexError_js_1["default"]("NewextarrowArg2","Second argument to %1 must be two integers separated by a comma",name);if(!chr.match(/^(\d+|0x[0-9A-F]+)$/i))throw new TexError_js_1["default"]("NewextarrowArg3","Third argument to %1 must be a unicode character number",name);cs=cs.substr(1);var spaces=space.split(",");NewcommandUtil_js_1["default"].addMacro(parser,cs,exports.ExtpfeilMethods.xArrow,[parseInt(chr),parseInt(spaces[0]),parseInt(spaces[1])])},new SymbolMap_js_1.CommandMap("extpfeil",{xtwoheadrightarrow:["xArrow",8608,12,16],xtwoheadleftarrow:["xArrow",8606,17,13],xmapsto:["xArrow",8614,6,7],xlongequal:["xArrow",61,7,7],xtofrom:["xArrow",8644,12,12],Newextarrow:"NewExtArrow"},exports.ExtpfeilMethods);var init=function(config){NewcommandConfiguration_js_1.NewcommandConfiguration.init(config)};exports.ExtpfeilConfiguration=Configuration_js_1.Configuration.create("extpfeil",{handler:{macro:["extpfeil"]},init:init})},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.BeginEnvItem=void 0;var TexError_js_1=__webpack_require__(2),StackItem_js_1=__webpack_require__(13),BeginEnvItem=function(_super){function BeginEnvItem(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(BeginEnvItem,_super),Object.defineProperty(BeginEnvItem.prototype,"kind",{get:function(){return"beginEnv"},enumerable:!1,configurable:!0}),Object.defineProperty(BeginEnvItem.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),BeginEnvItem.prototype.checkItem=function(item){if(item.isKind("end")){if(item.getName()!==this.getName())throw new TexError_js_1["default"]("EnvBadEnd","\\begin{%1} ended with \\end{%2}",this.getName(),item.getName());return[[this.factory.create("mml",this.toMml())],!0]}if(item.isKind("stop"))throw new TexError_js_1["default"]("EnvMissingEnd","Missing \\end{%1}",this.getName());return _super.prototype.checkItem.call(this,item)},BeginEnvItem}(StackItem_js_1.BaseItem);exports.BeginEnvItem=BeginEnvItem},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var NewcommandMethods_js_1=__webpack_require__(25),SymbolMap_js_1=__webpack_require__(1);new SymbolMap_js_1.CommandMap("Newcommand-macros",{newcommand:"NewCommand",renewcommand:"NewCommand",newenvironment:"NewEnvironment",renewenvironment:"NewEnvironment",def:"MacroDef",let:"Let"},NewcommandMethods_js_1["default"])},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HtmlConfiguration=void 0;var Configuration_js_1=__webpack_require__(0),SymbolMap_js_1=__webpack_require__(1),HtmlMethods_js_1=__webpack_require__(58);new SymbolMap_js_1.CommandMap("html_macros",{href:"Href","class":"Class",style:"Style",cssId:"Id"},HtmlMethods_js_1["default"]),exports.HtmlConfiguration=Configuration_js_1.Configuration.create("html",{handler:{macro:["html_macros"]}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var NodeUtil_js_1=__webpack_require__(4),HtmlMethods={};HtmlMethods.Href=function(parser,name){var url=parser.GetArgument(name),arg=GetArgumentMML(parser,name);NodeUtil_js_1["default"].setAttribute(arg,"href",url),parser.Push(arg)},HtmlMethods.Class=function(parser,name){var CLASS=parser.GetArgument(name),arg=GetArgumentMML(parser,name),oldClass=NodeUtil_js_1["default"].getAttribute(arg,"class");oldClass&&(CLASS=oldClass+" "+CLASS),NodeUtil_js_1["default"].setAttribute(arg,"class",CLASS),parser.Push(arg)},HtmlMethods.Style=function(parser,name){var style=parser.GetArgument(name),arg=GetArgumentMML(parser,name),oldStyle=NodeUtil_js_1["default"].getAttribute(arg,"style");oldStyle&&(";"!==style.charAt(style.length-1)&&(style+=";"),style=oldStyle+" "+style),NodeUtil_js_1["default"].setAttribute(arg,"style",style),parser.Push(arg)},HtmlMethods.Id=function(parser,name){var ID=parser.GetArgument(name),arg=GetArgumentMML(parser,name);NodeUtil_js_1["default"].setAttribute(arg,"id",ID),parser.Push(arg)};var GetArgumentMML=function(parser,name){var arg=parser.ParseArg(name);if(!NodeUtil_js_1["default"].isInferred(arg))return arg;var children=NodeUtil_js_1["default"].getChildren(arg);if(1===children.length)return children[0];var mrow=parser.create("node","mrow");return NodeUtil_js_1["default"].copyChildren(arg,mrow),NodeUtil_js_1["default"].copyAttributes(arg,mrow),mrow};exports["default"]=HtmlMethods},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MhchemConfiguration=void 0;var Configuration_js_1=__webpack_require__(0),SymbolMap_js_1=__webpack_require__(1),TexError_js_1=__webpack_require__(2),BaseMethods_js_1=__webpack_require__(8),AmsMethods_js_1=__webpack_require__(11),mhchem_parser_js_1=__webpack_require__(60),MhchemMethods={};MhchemMethods.Macro=BaseMethods_js_1["default"].Macro,MhchemMethods.xArrow=AmsMethods_js_1.AmsMethods.xArrow,MhchemMethods.Machine=function(parser,name,machine){try{var arg=parser.GetArgument(name),data=mhchem_parser_js_1.mhchemParser.go(arg,machine),tex=mhchem_parser_js_1.texify.go(data);parser.string=tex+parser.string.substr(parser.i),parser.i=0}catch(err){throw new TexError_js_1["default"](err[0],err[1],err.slice(2))}},new SymbolMap_js_1.CommandMap("mhchem",{ce:["Machine","ce"],pu:["Machine","pu"],longrightleftharpoons:["Macro","\\stackrel{\\textstyle{-}\\!\\!{\\rightharpoonup}}{\\smash{{\\leftharpoondown}\\!\\!{-}}}"],longRightleftharpoons:["Macro","\\stackrel{\\textstyle{-}\\!\\!{\\rightharpoonup}}{\\smash{\\leftharpoondown}}"],longLeftrightharpoons:["Macro","\\stackrel{\\textstyle\\vphantom{{-}}{\\rightharpoonup}}{\\smash{{\\leftharpoondown}\\!\\!{-}}}"],longleftrightarrows:["Macro","\\stackrel{\\longrightarrow}{\\smash{\\longleftarrow}\\Rule{0px}{.25em}{0px}}"],tripledash:["Macro","\\vphantom{-}\\raise2mu{\\kern2mu\\tiny\\text{-}\\kern1mu\\text{-}\\kern1mu\\text{-}\\kern2mu}"],xrightarrow:["xArrow",8594,5,6],xleftarrow:["xArrow",8592,7,3],xleftrightarrow:["xArrow",8596,6,6],xrightleftharpoons:["xArrow",8652,5,7],xRightleftharpoons:["xArrow",8652,5,7],xLeftrightharpoons:["xArrow",8652,5,7]},MhchemMethods),exports.MhchemConfiguration=Configuration_js_1.Configuration.create("mhchem",{handler:{macro:["mhchem"]}})},function(module,exports,__webpack_require__){"use strict";function assertNever(a){}function assertString(a){}Object.defineProperty(exports,"__esModule",{value:!0});var mhchemParser={go:function(input,stateMachine){if(!input)return[];void 0===stateMachine&&(stateMachine="ce");var state="0",buffer={};buffer.parenthesisLevel=0,input=input.replace(/\n/g," "),input=input.replace(/[\u2212\u2013\u2014\u2010]/g,"-"),input=input.replace(/[\u2026]/g,"...");for(var lastInput,watchdog=10,output=[];;){lastInput!==input?(watchdog=10,lastInput=input):watchdog--;var machine=mhchemParser.stateMachines[stateMachine],t=machine.transitions[state]||machine.transitions["*"];iterateTransitions:for(var i=0;i<t.length;i++){var matches=mhchemParser.patterns.match_(t[i].pattern,input);if(matches){for(var task=t[i].task,iA=0;iA<task.action_.length;iA++){var o;if(machine.actions[task.action_[iA].type_])o=machine.actions[task.action_[iA].type_](buffer,matches.match_,task.action_[iA].option);else{if(!mhchemParser.actions[task.action_[iA].type_])throw["MhchemBugA","mhchem bug A. Please report. ("+task.action_[iA].type_+")"];o=mhchemParser.actions[task.action_[iA].type_](buffer,matches.match_,task.action_[iA].option)}mhchemParser.concatArray(output,o)}if(state=task.nextState||state,!(input.length>0))return output;if(task.revisit||(input=matches.remainder),!task.toContinue)break iterateTransitions}}if(0>=watchdog)throw["MhchemBugU","mhchem bug U. Please report."]}},concatArray:function(a,b){if(b)if(Array.isArray(b))for(var iB=0;iB<b.length;iB++)a.push(b[iB]);else a.push(b)},patterns:{patterns:{empty:/^$/,"else":/^./,else2:/^./,space:/^\s/,"space A":/^\s(?=[A-Z\\$])/,space$:/^\s$/,"a-z":/^[a-z]/,x:/^x/,x$:/^x$/,i$:/^i$/,letters:/^(?:[a-zA-Z\u03B1-\u03C9\u0391-\u03A9?@]|(?:\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))))+/,"\\greek":/^\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))/,"one lowercase latin letter $":/^(?:([a-z])(?:$|[^a-zA-Z]))$/,"$one lowercase latin letter$ $":/^\$(?:([a-z])(?:$|[^a-zA-Z]))\$$/,"one lowercase greek letter $":/^(?:\$?[\u03B1-\u03C9]\$?|\$?\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\s*\$?)(?:\s+|\{\}|(?![a-zA-Z]))$/,digits:/^[0-9]+/,"-9.,9":/^[+\-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))/,"-9.,9 no missing 0":/^[+\-]?[0-9]+(?:[.,][0-9]+)?/,"(-)(9.,9)(e)(99)":function(input){var m=input.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))?(\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))\))?(?:([eE]|\s*(\*|x|\\times|\u00D7)\s*10\^)([+\-]?[0-9]+|\{[+\-]?[0-9]+\}))?/);return m&&m[0]?{match_:m.splice(1),remainder:input.substr(m[0].length)}:null},"(-)(9)^(-9)":function(input){var m=input.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+)?)\^([+\-]?[0-9]+|\{[+\-]?[0-9]+\})/);return m&&m[0]?{match_:m.splice(1),remainder:input.substr(m[0].length)}:null},"state of aggregation $":function(input){var a=mhchemParser.patterns.findObserveGroups(input,"",/^\([a-z]{1,3}(?=[\),])/,")","");if(a&&a.remainder.match(/^($|[\s,;\)\]\}])/))return a;var m=input.match(/^(?:\((?:\\ca\s?)?\$[amothc]\$\))/);return m?{match_:m[0],remainder:input.substr(m[0].length)}:null},"_{(state of aggregation)}$":/^_\{(\([a-z]{1,3}\))\}/,"{[(":/^(?:\\\{|\[|\()/,")]}":/^(?:\)|\]|\\\})/,", ":/^[,;]\s*/,",":/^[,;]/,".":/^[.]/,". ":/^([.\u22C5\u00B7\u2022])\s*/,"...":/^\.\.\.(?=$|[^.])/,"* ":/^([*])\s*/,"^{(...)}":function(input){return mhchemParser.patterns.findObserveGroups(input,"^{","","","}")},"^($...$)":function(input){return mhchemParser.patterns.findObserveGroups(input,"^","$","$","")},"^a":/^\^([0-9]+|[^\\_])/,"^\\x{}{}":function(input){return mhchemParser.patterns.findObserveGroups(input,"^",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"^\\x{}":function(input){return mhchemParser.patterns.findObserveGroups(input,"^",/^\\[a-zA-Z]+\{/,"}","")},"^\\x":/^\^(\\[a-zA-Z]+)\s*/,"^(-1)":/^\^(-?\d+)/,"'":/^'/,"_{(...)}":function(input){return mhchemParser.patterns.findObserveGroups(input,"_{","","","}")},"_($...$)":function(input){return mhchemParser.patterns.findObserveGroups(input,"_","$","$","")},_9:/^_([+\-]?[0-9]+|[^\\])/,"_\\x{}{}":function(input){return mhchemParser.patterns.findObserveGroups(input,"_",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"_\\x{}":function(input){return mhchemParser.patterns.findObserveGroups(input,"_",/^\\[a-zA-Z]+\{/,"}","")},"_\\x":/^_(\\[a-zA-Z]+)\s*/,"^_":/^(?:\^(?=_)|\_(?=\^)|[\^_]$)/,"{}":/^\{\}/,"{...}":function(input){return mhchemParser.patterns.findObserveGroups(input,"","{","}","")},"{(...)}":function(input){return mhchemParser.patterns.findObserveGroups(input,"{","","","}")},"$...$":function(input){return mhchemParser.patterns.findObserveGroups(input,"","$","$","")},"${(...)}$":function(input){return mhchemParser.patterns.findObserveGroups(input,"${","","","}$")},"$(...)$":function(input){return mhchemParser.patterns.findObserveGroups(input,"$","","","$")},"=<>":/^[=<>]/,"#":/^[#\u2261]/,"+":/^\+/,"-$":/^-(?=[\s_},;\]\/]|$|\([a-z]+\))/,"-9":/^-(?=[0-9])/,"- orbital overlap":/^-(?=(?:[spd]|sp)(?:$|[\s,;\)\]\}]))/,"-":/^-/,"pm-operator":/^(?:\\pm|\$\\pm\$|\+-|\+\/-)/,operator:/^(?:\+|(?:[\-=<>]|<<|>>|\\approx|\$\\approx\$)(?=\s|$|-?[0-9]))/,arrowUpDown:/^(?:v|\(v\)|\^|\(\^\))(?=$|[\s,;\)\]\}])/,"\\bond{(...)}":function(input){return mhchemParser.patterns.findObserveGroups(input,"\\bond{","","","}")},"->":/^(?:<->|<-->|->|<-|<=>>|<<=>|<=>|[\u2192\u27F6\u21CC])/,CMT:/^[CMT](?=\[)/,"[(...)]":function(input){return mhchemParser.patterns.findObserveGroups(input,"[","","","]")},"1st-level escape":/^(&|\\\\|\\hline)\s*/,"\\,":/^(?:\\[,\ ;:])/,"\\x{}{}":function(input){return mhchemParser.patterns.findObserveGroups(input,"",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"\\x{}":function(input){return mhchemParser.patterns.findObserveGroups(input,"",/^\\[a-zA-Z]+\{/,"}","")},"\\ca":/^\\ca(?:\s+|(?![a-zA-Z]))/,"\\x":/^(?:\\[a-zA-Z]+\s*|\\[_&{}%])/,orbital:/^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,others:/^[\/~|]/,"\\frac{(...)}":function(input){return mhchemParser.patterns.findObserveGroups(input,"\\frac{","","","}","{","","","}")},"\\overset{(...)}":function(input){return mhchemParser.patterns.findObserveGroups(input,"\\overset{","","","}","{","","","}")},"\\underset{(...)}":function(input){return mhchemParser.patterns.findObserveGroups(input,"\\underset{","","","}","{","","","}")},"\\underbrace{(...)}":function(input){return mhchemParser.patterns.findObserveGroups(input,"\\underbrace{","","","}_","{","","","}")},"\\color{(...)}0":function(input){return mhchemParser.patterns.findObserveGroups(input,"\\color{","","","}")},"\\color{(...)}{(...)}1":function(input){return mhchemParser.patterns.findObserveGroups(input,"\\color{","","","}","{","","","}")},"\\color(...){(...)}2":function(input){return mhchemParser.patterns.findObserveGroups(input,"\\color","\\","",/^(?=\{)/,"{","","","}")},"\\ce{(...)}":function(input){return mhchemParser.patterns.findObserveGroups(input,"\\ce{","","","}")},oxidation$:/^(?:[+-][IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"d-oxidation$":/^(?:[+-]?\s?[IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"roman numeral":/^[IVX]+/,"1/2$":/^[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+(?:\$[a-z]\$|[a-z])?$/,amount:function(input){var match;if(match=input.match(/^(?:(?:(?:\([+\-]?[0-9]+\/[0-9]+\)|[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+|[+\-]?[0-9]+[.,][0-9]+|[+\-]?\.[0-9]+|[+\-]?[0-9]+)(?:[a-z](?=\s*[A-Z]))?)|[+\-]?[a-z](?=\s*[A-Z])|\+(?!\s))/))return{match_:match[0],remainder:input.substr(match[0].length)};var a=mhchemParser.patterns.findObserveGroups(input,"","$","$","");return a&&(match=a.match_.match(/^\$(?:\(?[+\-]?(?:[0-9]*[a-z]?[+\-])?[0-9]*[a-z](?:[+\-][0-9]*[a-z]?)?\)?|\+|-)\$$/))?{match_:match[0],remainder:input.substr(match[0].length)}:null},amount2:function(input){return this.amount(input)},"(KV letters),":/^(?:[A-Z][a-z]{0,2}|i)(?=,)/,formula$:function(input){if(input.match(/^\([a-z]+\)$/))return null;var match=input.match(/^(?:[a-z]|(?:[0-9\ \+\-\,\.\(\)]+[a-z])+[0-9\ \+\-\,\.\(\)]*|(?:[a-z][0-9\ \+\-\,\.\(\)]+)+[a-z]?)$/);return match?{match_:match[0],remainder:input.substr(match[0].length)}:null},uprightEntities:/^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,"/":/^\s*(\/)\s*/,"//":/^\s*(\/\/)\s*/,"*":/^\s*[*.]\s*/},findObserveGroups:function(input,begExcl,begIncl,endIncl,endExcl,beg2Excl,beg2Incl,end2Incl,end2Excl,combine){var _match=function(input,pattern){if("string"==typeof pattern)return 0!==input.indexOf(pattern)?null:pattern;var match=input.match(pattern);return match?match[0]:null},_findObserveGroups=function(input,i,endChars){for(var braces=0;i<input.length;){var a=input.charAt(i),match=_match(input.substr(i),endChars);if(null!==match&&0===braces)return{endMatchBegin:i,endMatchEnd:i+match.length};if("{"===a)braces++;else if("}"===a){if(0===braces)throw["ExtraCloseMissingOpen","Extra close brace or missing open brace"];braces--}i++}return null},match=_match(input,begExcl);if(null===match)return null;if(input=input.substr(match.length),match=_match(input,begIncl),null===match)return null;var e=_findObserveGroups(input,match.length,endIncl||endExcl);if(null===e)return null;var match1=input.substring(0,endIncl?e.endMatchEnd:e.endMatchBegin);if(beg2Excl||beg2Incl){var group2=this.findObserveGroups(input.substr(e.endMatchEnd),beg2Excl,beg2Incl,end2Incl,end2Excl);if(null===group2)return null;var matchRet=[match1,group2.match_];return{match_:combine?matchRet.join(""):matchRet,remainder:group2.remainder}}return{match_:match1,remainder:input.substr(e.endMatchEnd)}},match_:function(m,input){var pattern=mhchemParser.patterns.patterns[m];if(void 0===pattern)throw["MhchemBugP","mhchem bug P. Please report. ("+m+")"];if("function"==typeof pattern)return mhchemParser.patterns.patterns[m](input);var match=input.match(pattern);if(match){var mm;return mm=match[2]?[match[1],match[2]]:match[1]?match[1]:match[0],{match_:mm,remainder:input.substr(match[0].length)}}return null}},actions:{"a=":function(buffer,m){buffer.a=(buffer.a||"")+m},"b=":function(buffer,m){buffer.b=(buffer.b||"")+m},"p=":function(buffer,m){buffer.p=(buffer.p||"")+m},"o=":function(buffer,m){buffer.o=(buffer.o||"")+m},"q=":function(buffer,m){buffer.q=(buffer.q||"")+m},"d=":function(buffer,m){buffer.d=(buffer.d||"")+m},"rm=":function(buffer,m){buffer.rm=(buffer.rm||"")+m},"text=":function(buffer,m){buffer.text_=(buffer.text_||"")+m},insert:function(buffer,m,a){return{type_:a}},"insert+p1":function(buffer,m,a){return{type_:a,p1:m}},"insert+p1+p2":function(buffer,m,a){return{type_:a,p1:m[0],p2:m[1]}},copy:function(buffer,m){return m},rm:function(buffer,m){return{type_:"rm",p1:m||""}},text:function(buffer,m){return mhchemParser.go(m,"text")},"{text}":function(buffer,m){var ret=["{"];return mhchemParser.concatArray(ret,mhchemParser.go(m,"text")),ret.push("}"),ret},"tex-math":function(buffer,m){return mhchemParser.go(m,"tex-math")},"tex-math tight":function(buffer,m){return mhchemParser.go(m,"tex-math tight")},bond:function(buffer,m,k){return{type_:"bond",kind_:k||m}},"color0-output":function(buffer,m){return{type_:"color0",color:m[0]}},ce:function(buffer,m){return mhchemParser.go(m)},"1/2":function(buffer,m){var ret=[];m.match(/^[+\-]/)&&(ret.push(m.substr(0,1)),m=m.substr(1));var n=m.match(/^([0-9]+|\$[a-z]\$|[a-z])\/([0-9]+)(\$[a-z]\$|[a-z])?$/);return n[1]=n[1].replace(/\$/g,""),ret.push({type_:"frac",p1:n[1],p2:n[2]}),n[3]&&(n[3]=n[3].replace(/\$/g,""),ret.push({type_:"tex-math",p1:n[3]})),ret},"9,9":function(buffer,m){return mhchemParser.go(m,"9,9")}},createTransitions:function(o){var pattern,state,stateArray,i,transitions={};for(pattern in o)for(state in o[pattern])for(stateArray=state.split("|"),o[pattern][state].stateArray=stateArray,i=0;i<stateArray.length;i++)transitions[stateArray[i]]=[];for(pattern in o)for(state in o[pattern])for(stateArray=o[pattern][state].stateArray||[],i=0;i<stateArray.length;i++){var p=o[pattern][state];if(p.action_){p.action_=[].concat(p.action_);for(var k=0;k<p.action_.length;k++)"string"==typeof p.action_[k]&&(p.action_[k]={type_:p.action_[k]})}else p.action_=[];for(var patternArray=pattern.split("|"),j=0;j<patternArray.length;j++)if("*"===stateArray[i])for(var t in transitions)transitions[t].push({pattern:patternArray[j],task:p});else transitions[stateArray[i]].push({pattern:patternArray[j],task:p})}return transitions},stateMachines:{}};mhchemParser.stateMachines={ce:{transitions:mhchemParser.createTransitions({empty:{"*":{action_:"output"}},"else":{"0|1|2":{action_:"beginsWithBond=false",revisit:!0,toContinue:!0}},oxidation$:{0:{action_:"oxidation-output"}},CMT:{r:{action_:"rdt=",nextState:"rt"},rd:{action_:"rqt=",nextState:"rdt"}},arrowUpDown:{"0|1|2|as":{action_:["sb=false","output","operator"],nextState:"1"}},uprightEntities:{"0|1|2":{action_:["o=","output"],nextState:"1"}},orbital:{"0|1|2|3":{action_:"o=",nextState:"o"}},"->":{"0|1|2|3":{action_:"r=",nextState:"r"},"a|as":{action_:["output","r="],nextState:"r"},"*":{action_:["output","r="],nextState:"r"}},"+":{o:{action_:"d= kv",nextState:"d"},"d|D":{action_:"d=",nextState:"d"},q:{action_:"d=",nextState:"qd"},"qd|qD":{action_:"d=",nextState:"qd"},dq:{action_:["output","d="],nextState:"d"},3:{action_:["sb=false","output","operator"],nextState:"0"}},amount:{"0|2":{action_:"a=",nextState:"a"}},"pm-operator":{"0|1|2|a|as":{action_:["sb=false","output",{type_:"operator",option:"\\pm"}],nextState:"0"}},operator:{"0|1|2|a|as":{action_:["sb=false","output","operator"],nextState:"0"}},"-$":{"o|q":{action_:["charge or bond","output"],nextState:"qd"},d:{action_:"d=",nextState:"d"},D:{action_:["output",{type_:"bond",option:"-"}],nextState:"3"},q:{action_:"d=",nextState:"qd"},qd:{action_:"d=",nextState:"qd"},"qD|dq":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},"-9":{"3|o":{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"3"}},"- orbital overlap":{o:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},d:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"}},"-":{"0|1|2":{action_:[{type_:"output",option:1},"beginsWithBond=true",{type_:"bond",option:"-"}],nextState:"3"},3:{action_:{type_:"bond",option:"-"}},a:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},as:{action_:[{type_:"output",option:2},{type_:"bond",option:"-"}],nextState:"3"},b:{action_:"b="},o:{action_:{type_:"- after o/d",option:!1},nextState:"2"},q:{action_:{type_:"- after o/d",option:!1},nextState:"2"},"d|qd|dq":{action_:{type_:"- after o/d",option:!0},nextState:"2"},"D|qD|p":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},amount2:{"1|3":{action_:"a=",nextState:"a"}},letters:{"0|1|2|3|a|as|b|p|bp|o":{action_:"o=",nextState:"o"},"q|dq":{action_:["output","o="],nextState:"o"},"d|D|qd|qD":{action_:"o after d",nextState:"o"}},digits:{o:{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},q:{action_:["output","o="],nextState:"o"},a:{action_:"o=",nextState:"o"}},"space A":{"b|p|bp":{}},space:{a:{nextState:"as"},0:{action_:"sb=false"},"1|2":{action_:"sb=true"},"r|rt|rd|rdt|rdq":{action_:"output",nextState:"0"},"*":{action_:["output","sb=true"],nextState:"1"}},"1st-level escape":{"1|2":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}]},"*":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}],nextState:"0"}},"[(...)]":{"r|rt":{action_:"rd=",nextState:"rd"},"rd|rdt":{action_:"rq=",nextState:"rdq"}},"...":{"o|d|D|dq|qd|qD":{action_:["output",{type_:"bond",option:"..."}],nextState:"3"},"*":{action_:[{type_:"output",option:1},{type_:"insert",option:"ellipsis"}],nextState:"1"}},". |* ":{"*":{action_:["output",{type_:"insert",option:"addition compound"}],nextState:"1"}},"state of aggregation $":{"*":{action_:["output","state of aggregation"],nextState:"1"}},"{[(":{"a|as|o":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"0|1|2|3":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"*":{action_:["output","o=","output","parenthesisLevel++"],nextState:"2"}},")]}":{"0|1|2|3|b|p|bp|o":{action_:["o=","parenthesisLevel--"],nextState:"o"},"a|as|d|D|q|qd|qD|dq":{action_:["output","o=","parenthesisLevel--"],nextState:"o"}},", ":{"*":{action_:["output","comma"],nextState:"0"}},"^_":{"*":{}},"^{(...)}|^($...$)":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"D"},q:{action_:"d=",nextState:"qD"},"d|D|qd|qD|dq":{action_:["output","d="],nextState:"D"}},"^a|^\\x{}{}|^\\x{}|^\\x|'":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"d"},q:{action_:"d=",nextState:"qd"},"d|qd|D|qD":{action_:"d="},dq:{action_:["output","d="],nextState:"d"}},"_{(state of aggregation)}$":{"d|D|q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"_{(...)}|_($...$)|_9|_\\x{}{}|_\\x{}|_\\x":{"0|1|2|as":{action_:"p=",nextState:"p"},b:{action_:"p=",nextState:"bp"},"3|o":{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},"q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"=<>":{"0|1|2|3|a|as|o|q|d|D|qd|qD|dq":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"#":{"0|1|2|3|a|as|o":{action_:[{type_:"output",option:2},{type_:"bond",option:"#"}],nextState:"3"}},"{}":{"*":{action_:{type_:"output",option:1},nextState:"1"}},"{...}":{"0|1|2|3|a|as|b|p|bp":{action_:"o=",nextState:"o"},"o|d|D|q|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"$...$":{a:{action_:"a="},"0|1|2|3|as|b|p|bp|o":{action_:"o=",nextState:"o"},"as|o":{action_:"o="},"q|d|D|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"\\bond{(...)}":{"*":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"\\frac{(...)}":{"*":{action_:[{type_:"output",option:1},"frac-output"],nextState:"3"}},"\\overset{(...)}":{"*":{action_:[{type_:"output",option:2},"overset-output"],nextState:"3"}},"\\underset{(...)}":{"*":{action_:[{type_:"output",option:2},"underset-output"],nextState:"3"}},"\\underbrace{(...)}":{"*":{action_:[{type_:"output",option:2},"underbrace-output"],nextState:"3"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:[{type_:"output",option:2},"color-output"],nextState:"3"}},"\\color{(...)}0":{"*":{action_:[{type_:"output",option:2},"color0-output"]}},"\\ce{(...)}":{"*":{action_:[{type_:"output",option:2},"ce"],nextState:"3"}},"\\,":{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"1"}},"\\x{}{}|\\x{}|\\x":{"0|1|2|3|a|as|b|p|bp|o|c0":{action_:["o=","output"],nextState:"3"},"*":{action_:["output","o=","output"],nextState:"3"}},others:{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"3"}},else2:{a:{action_:"a to o",nextState:"o",revisit:!0},as:{action_:["output","sb=true"],nextState:"1",revisit:!0},"r|rt|rd|rdt|rdq":{action_:["output"],nextState:"0",revisit:!0},"*":{action_:["output","copy"],nextState:"3"}}}),actions:{"o after d":function(buffer,m){var ret;
if((buffer.d||"").match(/^[0-9]+$/)){var tmp=buffer.d;buffer.d=void 0,ret=this.output(buffer),buffer.b=tmp}else ret=this.output(buffer);return mhchemParser.actions["o="](buffer,m),ret},"d= kv":function(buffer,m){buffer.d=m,buffer.dType="kv"},"charge or bond":function(buffer,m){if(buffer.beginsWithBond){var ret=[];return mhchemParser.concatArray(ret,this.output(buffer)),mhchemParser.concatArray(ret,mhchemParser.actions.bond(buffer,m,"-")),ret}buffer.d=m},"- after o/d":function(buffer,m,isAfterD){var c1=mhchemParser.patterns.match_("orbital",buffer.o||""),c2=mhchemParser.patterns.match_("one lowercase greek letter $",buffer.o||""),c3=mhchemParser.patterns.match_("one lowercase latin letter $",buffer.o||""),c4=mhchemParser.patterns.match_("$one lowercase latin letter$ $",buffer.o||""),hyphenFollows="-"===m&&(c1&&""===c1.remainder||c2||c3||c4);!hyphenFollows||buffer.a||buffer.b||buffer.p||buffer.d||buffer.q||c1||!c3||(buffer.o="$"+buffer.o+"$");var ret=[];return hyphenFollows?(mhchemParser.concatArray(ret,this.output(buffer)),ret.push({type_:"hyphen"})):(c1=mhchemParser.patterns.match_("digits",buffer.d||""),isAfterD&&c1&&""===c1.remainder?(mhchemParser.concatArray(ret,mhchemParser.actions["d="](buffer,m)),mhchemParser.concatArray(ret,this.output(buffer))):(mhchemParser.concatArray(ret,this.output(buffer)),mhchemParser.concatArray(ret,mhchemParser.actions.bond(buffer,m,"-")))),ret},"a to o":function(buffer){buffer.o=buffer.a,buffer.a=void 0},"sb=true":function(buffer){buffer.sb=!0},"sb=false":function(buffer){buffer.sb=!1},"beginsWithBond=true":function(buffer){buffer.beginsWithBond=!0},"beginsWithBond=false":function(buffer){buffer.beginsWithBond=!1},"parenthesisLevel++":function(buffer){buffer.parenthesisLevel++},"parenthesisLevel--":function(buffer){buffer.parenthesisLevel--},"state of aggregation":function(buffer,m){return{type_:"state of aggregation",p1:mhchemParser.go(m,"o")}},comma:function(buffer,m){var a=m.replace(/\s*$/,""),withSpace=a!==m;return withSpace&&0===buffer.parenthesisLevel?{type_:"comma enumeration L",p1:a}:{type_:"comma enumeration M",p1:a}},output:function(buffer,m,entityFollows){var ret;if(buffer.r){var rd;rd="M"===buffer.rdt?mhchemParser.go(buffer.rd,"tex-math"):"T"===buffer.rdt?[{type_:"text",p1:buffer.rd||""}]:mhchemParser.go(buffer.rd);var rq;rq="M"===buffer.rqt?mhchemParser.go(buffer.rq,"tex-math"):"T"===buffer.rqt?[{type_:"text",p1:buffer.rq||""}]:mhchemParser.go(buffer.rq),ret={type_:"arrow",r:buffer.r,rd:rd,rq:rq}}else ret=[],(buffer.a||buffer.b||buffer.p||buffer.o||buffer.q||buffer.d||entityFollows)&&(buffer.sb&&ret.push({type_:"entitySkip"}),buffer.o||buffer.q||buffer.d||buffer.b||buffer.p||2===entityFollows?buffer.o||buffer.q||buffer.d||!buffer.b&&!buffer.p?buffer.o&&"kv"===buffer.dType&&mhchemParser.patterns.match_("d-oxidation$",buffer.d||"")?buffer.dType="oxidation":buffer.o&&"kv"===buffer.dType&&!buffer.q&&(buffer.dType=void 0):(buffer.o=buffer.a,buffer.d=buffer.b,buffer.q=buffer.p,buffer.a=buffer.b=buffer.p=void 0):(buffer.o=buffer.a,buffer.a=void 0),ret.push({type_:"chemfive",a:mhchemParser.go(buffer.a,"a"),b:mhchemParser.go(buffer.b,"bd"),p:mhchemParser.go(buffer.p,"pq"),o:mhchemParser.go(buffer.o,"o"),q:mhchemParser.go(buffer.q,"pq"),d:mhchemParser.go(buffer.d,"oxidation"===buffer.dType?"oxidation":"bd"),dType:buffer.dType}));for(var p in buffer)"parenthesisLevel"!==p&&"beginsWithBond"!==p&&delete buffer[p];return ret},"oxidation-output":function(buffer,m){var ret=["{"];return mhchemParser.concatArray(ret,mhchemParser.go(m,"oxidation")),ret.push("}"),ret},"frac-output":function(buffer,m){return{type_:"frac-ce",p1:mhchemParser.go(m[0]),p2:mhchemParser.go(m[1])}},"overset-output":function(buffer,m){return{type_:"overset",p1:mhchemParser.go(m[0]),p2:mhchemParser.go(m[1])}},"underset-output":function(buffer,m){return{type_:"underset",p1:mhchemParser.go(m[0]),p2:mhchemParser.go(m[1])}},"underbrace-output":function(buffer,m){return{type_:"underbrace",p1:mhchemParser.go(m[0]),p2:mhchemParser.go(m[1])}},"color-output":function(buffer,m){return{type_:"color",color1:m[0],color2:mhchemParser.go(m[1])}},"r=":function(buffer,m){buffer.r=m},"rdt=":function(buffer,m){buffer.rdt=m},"rd=":function(buffer,m){buffer.rd=m},"rqt=":function(buffer,m){buffer.rqt=m},"rq=":function(buffer,m){buffer.rq=m},operator:function(buffer,m,p1){return{type_:"operator",kind_:p1||m}}}},a:{transitions:mhchemParser.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},"else":{0:{nextState:"1",revisit:!0}},"$(...)$":{"*":{action_:"tex-math tight",nextState:"1"}},",":{"*":{action_:{type_:"insert",option:"commaDecimal"}}},else2:{"*":{action_:"copy"}}}),actions:{}},o:{transitions:mhchemParser.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},"else":{0:{nextState:"1",revisit:!0}},letters:{"*":{action_:"rm"}},"\\ca":{"*":{action_:{type_:"insert",option:"circa"}}},"\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"{text}"}},else2:{"*":{action_:"copy"}}}),actions:{}},text:{transitions:mhchemParser.createTransitions({empty:{"*":{action_:"output"}},"{...}":{"*":{action_:"text="}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"\\greek":{"*":{action_:["output","rm"]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:["output","copy"]}},"else":{"*":{action_:"text="}}}),actions:{output:function(buffer){if(buffer.text_){var ret={type_:"text",p1:buffer.text_};for(var p in buffer)delete buffer[p];return ret}}}},pq:{transitions:mhchemParser.createTransitions({empty:{"*":{}},"state of aggregation $":{"*":{action_:"state of aggregation"}},i$:{0:{nextState:"!f",revisit:!0}},"(KV letters),":{0:{action_:"rm",nextState:"0"}},formula$:{0:{nextState:"f",revisit:!0}},"1/2$":{0:{action_:"1/2"}},"else":{0:{nextState:"!f",revisit:!0}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"a-z":{f:{action_:"tex-math"}},letters:{"*":{action_:"rm"}},"-9.,9":{"*":{action_:"9,9"}},",":{"*":{action_:{type_:"insert+p1",option:"comma enumeration S"}}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"state of aggregation":function(buffer,m){return{type_:"state of aggregation subscript",p1:mhchemParser.go(m,"o")}},"color-output":function(buffer,m){return{type_:"color",color1:m[0],color2:mhchemParser.go(m[1],"pq")}}}},bd:{transitions:mhchemParser.createTransitions({empty:{"*":{}},x$:{0:{nextState:"!f",revisit:!0}},formula$:{0:{nextState:"f",revisit:!0}},"else":{0:{nextState:"!f",revisit:!0}},"-9.,9 no missing 0":{"*":{action_:"9,9"}},".":{"*":{action_:{type_:"insert",option:"electron dot"}}},"a-z":{f:{action_:"tex-math"}},x:{"*":{action_:{type_:"insert",option:"KV x"}}},letters:{"*":{action_:"rm"}},"'":{"*":{action_:{type_:"insert",option:"prime"}}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"color-output":function(buffer,m){return{type_:"color",color1:m[0],color2:mhchemParser.go(m[1],"bd")}}}},oxidation:{transitions:mhchemParser.createTransitions({empty:{"*":{}},"roman numeral":{"*":{action_:"roman-numeral"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"else":{"*":{action_:"copy"}}}),actions:{"roman-numeral":function(buffer,m){return{type_:"roman numeral",p1:m||""}}}},"tex-math":{transitions:mhchemParser.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},"else":{"*":{action_:"o="}}}),actions:{output:function(buffer){if(buffer.o){var ret={type_:"tex-math",p1:buffer.o};for(var p in buffer)delete buffer[p];return ret}}}},"tex-math tight":{transitions:mhchemParser.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},"-|+":{"*":{action_:"tight operator"}},"else":{"*":{action_:"o="}}}),actions:{"tight operator":function(buffer,m){buffer.o=(buffer.o||"")+"{"+m+"}"},output:function(buffer){if(buffer.o){var ret={type_:"tex-math",p1:buffer.o};for(var p in buffer)delete buffer[p];return ret}}}},"9,9":{transitions:mhchemParser.createTransitions({empty:{"*":{}},",":{"*":{action_:"comma"}},"else":{"*":{action_:"copy"}}}),actions:{comma:function(){return{type_:"commaDecimal"}}}},pu:{transitions:mhchemParser.createTransitions({empty:{"*":{action_:"output"}},space$:{"*":{action_:["output","space"]}},"{[(|)]}":{"0|a":{action_:"copy"}},"(-)(9)^(-9)":{0:{action_:"number^",nextState:"a"}},"(-)(9.,9)(e)(99)":{0:{action_:"enumber",nextState:"a"}},space:{"0|a":{}},"pm-operator":{"0|a":{action_:{type_:"operator",option:"\\pm"},nextState:"0"}},operator:{"0|a":{action_:"copy",nextState:"0"}},"//":{d:{action_:"o=",nextState:"/"}},"/":{d:{action_:"o=",nextState:"/"}},"{...}|else":{"0|d":{action_:"d=",nextState:"d"},a:{action_:["space","d="],nextState:"d"},"/|q":{action_:"q=",nextState:"q"}}}),actions:{enumber:function(buffer,m){var ret=[];return"+-"===m[0]||"+/-"===m[0]?ret.push("\\pm "):m[0]&&ret.push(m[0]),m[1]&&(mhchemParser.concatArray(ret,mhchemParser.go(m[1],"pu-9,9")),m[2]&&(m[2].match(/[,.]/)?mhchemParser.concatArray(ret,mhchemParser.go(m[2],"pu-9,9")):ret.push(m[2])),m[3]=m[4]||m[3],m[3]&&(m[3]=m[3].trim(),ret.push("e"===m[3]||"*"===m[3].substr(0,1)?{type_:"cdot"}:{type_:"times"}))),m[3]&&ret.push("10^{"+m[5]+"}"),ret},"number^":function(buffer,m){var ret=[];return"+-"===m[0]||"+/-"===m[0]?ret.push("\\pm "):m[0]&&ret.push(m[0]),mhchemParser.concatArray(ret,mhchemParser.go(m[1],"pu-9,9")),ret.push("^{"+m[2]+"}"),ret},operator:function(buffer,m,p1){return{type_:"operator",kind_:p1||m}},space:function(){return{type_:"pu-space-1"}},output:function(buffer){var ret,md=mhchemParser.patterns.match_("{(...)}",buffer.d||"");md&&""===md.remainder&&(buffer.d=md.match_);var mq=mhchemParser.patterns.match_("{(...)}",buffer.q||"");if(mq&&""===mq.remainder&&(buffer.q=mq.match_),buffer.d&&(buffer.d=buffer.d.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),buffer.d=buffer.d.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F")),buffer.q){buffer.q=buffer.q.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),buffer.q=buffer.q.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F");var b5={d:mhchemParser.go(buffer.d,"pu"),q:mhchemParser.go(buffer.q,"pu")};"//"===buffer.o?ret={type_:"pu-frac",p1:b5.d,p2:b5.q}:(ret=b5.d,ret.push(b5.d.length>1||b5.q.length>1?{type_:" / "}:{type_:"/"}),mhchemParser.concatArray(ret,b5.q))}else ret=mhchemParser.go(buffer.d,"pu-2");for(var p in buffer)delete buffer[p];return ret}}},"pu-2":{transitions:mhchemParser.createTransitions({empty:{"*":{action_:"output"}},"*":{"*":{action_:["output","cdot"],nextState:"0"}},"\\x":{"*":{action_:"rm="}},space:{"*":{action_:["output","space"],nextState:"0"}},"^{(...)}|^(-1)":{1:{action_:"^(-1)"}},"-9.,9":{0:{action_:"rm=",nextState:"0"},1:{action_:"^(-1)",nextState:"0"}},"{...}|else":{"*":{action_:"rm=",nextState:"1"}}}),actions:{cdot:function(){return{type_:"tight cdot"}},"^(-1)":function(buffer,m){buffer.rm+="^{"+m+"}"},space:function(){return{type_:"pu-space-2"}},output:function(buffer){var ret=[];if(buffer.rm){var mrm=mhchemParser.patterns.match_("{(...)}",buffer.rm||"");ret=mrm&&""===mrm.remainder?mhchemParser.go(mrm.match_,"pu"):{type_:"rm",p1:buffer.rm}}for(var p in buffer)delete buffer[p];return ret}}},"pu-9,9":{transitions:mhchemParser.createTransitions({empty:{0:{action_:"output-0"},o:{action_:"output-o"}},",":{0:{action_:["output-0","comma"],nextState:"o"}},".":{0:{action_:["output-0","copy"],nextState:"o"}},"else":{"*":{action_:"text="}}}),actions:{comma:function(){return{type_:"commaDecimal"}},"output-0":function(buffer){var ret=[];if(buffer.text_=buffer.text_||"",buffer.text_.length>4){var a=buffer.text_.length%3;0===a&&(a=3);for(var i=buffer.text_.length-3;i>0;i-=3)ret.push(buffer.text_.substr(i,3)),ret.push({type_:"1000 separator"});ret.push(buffer.text_.substr(0,a)),ret.reverse()}else ret.push(buffer.text_);for(var p in buffer)delete buffer[p];return ret},"output-o":function(buffer){var ret=[];if(buffer.text_=buffer.text_||"",buffer.text_.length>4){for(var a=buffer.text_.length-3,i=0;a>i;i+=3)ret.push(buffer.text_.substr(i,3)),ret.push({type_:"1000 separator"});ret.push(buffer.text_.substr(i))}else ret.push(buffer.text_);for(var p in buffer)delete buffer[p];return ret}}}};var texify={go:function(input,isInner){if(!input)return"";for(var res="",cee=!1,i=0;i<input.length;i++){var inputi=input[i];"string"==typeof inputi?res+=inputi:(res+=texify._go2(inputi),"1st-level escape"===inputi.type_&&(cee=!0))}return isInner||cee||!res||(res="{"+res+"}"),res},_goInner:function(input){return input?texify.go(input,!0):input},_go2:function(buf){var res;switch(buf.type_){case"chemfive":res="";var b5={a:texify._goInner(buf.a),b:texify._goInner(buf.b),p:texify._goInner(buf.p),o:texify._goInner(buf.o),q:texify._goInner(buf.q),d:texify._goInner(buf.d)};b5.a&&(b5.a.match(/^[+\-]/)&&(b5.a="{"+b5.a+"}"),res+=b5.a+"\\,"),(b5.b||b5.p)&&(res+="{\\vphantom{X}}",res+="^{\\hphantom{"+(b5.b||"")+"}}_{\\hphantom{"+(b5.p||"")+"}}",res+="{\\vphantom{X}}",res+="^{\\smash[t]{\\vphantom{2}}\\llap{"+(b5.b||"")+"}}",res+="_{\\vphantom{2}\\llap{\\smash[t]{"+(b5.p||"")+"}}}"),b5.o&&(b5.o.match(/^[+\-]/)&&(b5.o="{"+b5.o+"}"),res+=b5.o),"kv"===buf.dType?((b5.d||b5.q)&&(res+="{\\vphantom{X}}"),b5.d&&(res+="^{"+b5.d+"}"),b5.q&&(res+="_{\\smash[t]{"+b5.q+"}}")):"oxidation"===buf.dType?(b5.d&&(res+="{\\vphantom{X}}",res+="^{"+b5.d+"}"),b5.q&&(res+="{\\vphantom{X}}",res+="_{\\smash[t]{"+b5.q+"}}")):(b5.q&&(res+="{\\vphantom{X}}",res+="_{\\smash[t]{"+b5.q+"}}"),b5.d&&(res+="{\\vphantom{X}}",res+="^{"+b5.d+"}"));break;case"rm":res="\\mathrm{"+buf.p1+"}";break;case"text":buf.p1.match(/[\^_]/)?(buf.p1=buf.p1.replace(" ","~").replace("-","\\text{-}"),res="\\mathrm{"+buf.p1+"}"):res="\\text{"+buf.p1+"}";break;case"roman numeral":res="\\mathrm{"+buf.p1+"}";break;case"state of aggregation":res="\\mskip2mu "+texify._goInner(buf.p1);break;case"state of aggregation subscript":res="\\mskip1mu "+texify._goInner(buf.p1);break;case"bond":if(res=texify._getBond(buf.kind_),!res)throw["MhchemErrorBond","mhchem Error. Unknown bond type ("+buf.kind_+")"];break;case"frac":var c="\\frac{"+buf.p1+"}{"+buf.p2+"}";res="\\mathchoice{\\textstyle"+c+"}{"+c+"}{"+c+"}{"+c+"}";break;case"pu-frac":var d="\\frac{"+texify._goInner(buf.p1)+"}{"+texify._goInner(buf.p2)+"}";res="\\mathchoice{\\textstyle"+d+"}{"+d+"}{"+d+"}{"+d+"}";break;case"tex-math":res=buf.p1+" ";break;case"frac-ce":res="\\frac{"+texify._goInner(buf.p1)+"}{"+texify._goInner(buf.p2)+"}";break;case"overset":res="\\overset{"+texify._goInner(buf.p1)+"}{"+texify._goInner(buf.p2)+"}";break;case"underset":res="\\underset{"+texify._goInner(buf.p1)+"}{"+texify._goInner(buf.p2)+"}";break;case"underbrace":res="\\underbrace{"+texify._goInner(buf.p1)+"}_{"+texify._goInner(buf.p2)+"}";break;case"color":res="{\\color{"+buf.color1+"}{"+texify._goInner(buf.color2)+"}}";break;case"color0":res="\\color{"+buf.color+"}";break;case"arrow":var b6={rd:texify._goInner(buf.rd),rq:texify._goInner(buf.rq)},arrow=texify._getArrow(buf.r);b6.rd||b6.rq?"<=>"===buf.r||"<=>>"===buf.r||"<<=>"===buf.r||"<-->"===buf.r?(arrow="\\long"+arrow,b6.rd&&(arrow="\\overset{"+b6.rd+"}{"+arrow+"}"),b6.rq&&(arrow="\\underset{\\lower7mu{"+b6.rq+"}}{"+arrow+"}"),arrow=" {}\\mathrel{"+arrow+"}{} "):(b6.rq&&(arrow+="[{"+b6.rq+"}]"),arrow+="{"+b6.rd+"}",arrow=" {}\\mathrel{\\x"+arrow+"}{} "):arrow=" {}\\mathrel{\\long"+arrow+"}{} ",res=arrow;break;case"operator":res=texify._getOperator(buf.kind_);break;case"1st-level escape":res=buf.p1+" ";break;case"space":res=" ";break;case"entitySkip":res="~";break;case"pu-space-1":res="~";break;case"pu-space-2":res="\\mkern3mu ";break;case"1000 separator":res="\\mkern2mu ";break;case"commaDecimal":res="{,}";break;case"comma enumeration L":res="{"+buf.p1+"}\\mkern6mu ";break;case"comma enumeration M":res="{"+buf.p1+"}\\mkern3mu ";break;case"comma enumeration S":res="{"+buf.p1+"}\\mkern1mu ";break;case"hyphen":res="\\text{-}";break;case"addition compound":res="\\,{\\cdot}\\,";break;case"electron dot":res="\\mkern1mu \\bullet\\mkern1mu ";break;case"KV x":res="{\\times}";break;case"prime":res="\\prime ";break;case"cdot":res="\\cdot ";break;case"tight cdot":res="\\mkern1mu{\\cdot}\\mkern1mu ";break;case"times":res="\\times ";break;case"circa":res="{\\sim}";break;case"^":res="uparrow";break;case"v":res="downarrow";break;case"ellipsis":res="\\ldots ";break;case"/":res="/";break;case" / ":res="\\,/\\,";break;default:throw assertNever(buf),["MhchemBugT","mhchem bug T. Please report."]}return assertString(res),res},_getArrow:function(a){switch(a){case"->":return"rightarrow";case"→":return"rightarrow";case"⟶":return"rightarrow";case"<-":return"leftarrow";case"<->":return"leftrightarrow";case"<-->":return"leftrightarrows";case"<=>":return"rightleftharpoons";case"⇌":return"rightleftharpoons";case"<=>>":return"Rightleftharpoons";case"<<=>":return"Leftrightharpoons";default:throw assertNever(a),["MhchemBugT","mhchem bug T. Please report."]}},_getBond:function(a){switch(a){case"-":return"{-}";case"1":return"{-}";case"=":return"{=}";case"2":return"{=}";case"#":return"{\\equiv}";case"3":return"{\\equiv}";case"~":return"{\\tripledash}";case"~-":return"{\\rlap{\\lower.1em{-}}\\raise.1em{\\tripledash}}";case"~=":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{\\tripledash}}-}";case"~--":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{\\tripledash}}-}";case"-~-":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{-}}\\tripledash}";case"...":return"{{\\cdot}{\\cdot}{\\cdot}}";case"....":return"{{\\cdot}{\\cdot}{\\cdot}{\\cdot}}";case"->":return"{\\rightarrow}";case"<-":return"{\\leftarrow}";case"<":return"{<}";case">":return"{>}";default:throw assertNever(a),["MhchemBugT","mhchem bug T. Please report."]}},_getOperator:function(a){switch(a){case"+":return" {}+{} ";case"-":return" {}-{} ";case"=":return" {}={} ";case"<":return" {}<{} ";case">":return" {}>{} ";case"<<":return" {}\\ll{} ";case">>":return" {}\\gg{} ";case"\\pm":return" {}\\pm{} ";case"\\approx":return" {}\\approx{} ";case"$\\approx$":return" {}\\approx{} ";case"v":return" \\downarrow{} ";case"(v)":return" \\downarrow{} ";case"^":return" \\uparrow{} ";case"(^)":return" \\uparrow{} ";default:throw assertNever(a),["MhchemBugT","mhchem bug T. Please report."]}}};exports.mhchemParser=mhchemParser,exports.texify=texify,exports.assertNever=assertNever,exports.assertString=assertString},function(module,exports,__webpack_require__){"use strict";function noErrors(factory,message,_id,expr){var mtext=factory.create("token","mtext",{},expr.replace(/\n/g," ")),error=factory.create("node","merror",[mtext],{"data-mjx-error":message,title:message});return error}Object.defineProperty(exports,"__esModule",{value:!0}),exports.NoErrorsConfiguration=void 0;var Configuration_js_1=__webpack_require__(0);exports.NoErrorsConfiguration=Configuration_js_1.Configuration.create("noerrors",{nodes:{error:noErrors}})},function(module,exports,__webpack_require__){"use strict";function noUndefined(parser,name){var e_1,_a,textNode=parser.create("text","\\"+name),options=parser.options.noundefined||{},def={};try{for(var _b=__values(["color","background","size"]),_c=_b.next();!_c.done;_c=_b.next()){var id=_c.value;options[id]&&(def["math"+id]=options[id])}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b["return"])&&_a.call(_b)}finally{if(e_1)throw e_1.error}}parser.Push(parser.create("node","mtext",[],def,textNode))}var __values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.NoUndefinedConfiguration=void 0;var Configuration_js_1=__webpack_require__(0);exports.NoUndefinedConfiguration=Configuration_js_1.Configuration.create("noundefined",{fallback:{macro:noUndefined},options:{noundefined:{color:"red",background:"",size:""}},priority:3})},function(module,exports,__webpack_require__){"use strict";var _a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.PhysicsConfiguration=void 0;var Configuration_js_1=__webpack_require__(0),PhysicsItems_js_1=__webpack_require__(64);__webpack_require__(65),exports.PhysicsConfiguration=Configuration_js_1.Configuration.create("physics",{handler:{macro:["Physics-automatic-bracing-macros","Physics-vector-macros","Physics-vector-chars","Physics-derivative-macros","Physics-expressions-macros","Physics-quick-quad-macros","Physics-bra-ket-macros","Physics-matrix-macros"],character:["Physics-characters"],environment:["Physics-aux-envs"]},items:(_a={},_a[PhysicsItems_js_1.AutoOpen.prototype.kind]=PhysicsItems_js_1.AutoOpen,_a)})},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.AutoOpen=void 0;var StackItem_js_1=__webpack_require__(13),ParseUtil_js_1=__webpack_require__(3),TexParser_js_1=__webpack_require__(5),AutoOpen=function(_super){function AutoOpen(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(AutoOpen,_super),Object.defineProperty(AutoOpen.prototype,"kind",{get:function(){return"auto open"},enumerable:!1,configurable:!0}),Object.defineProperty(AutoOpen.prototype,"isOpen",{get:function(){return!0},enumerable:!1,configurable:!0}),AutoOpen.prototype.toMml=function(){var parser=this.factory.configuration.parser,right=this.getProperty("right");if(this.getProperty("smash")){var mml_1=_super.prototype.toMml.call(this),smash=parser.create("node","mpadded",[mml_1],{height:0,depth:0});this.Clear(),this.Push(parser.create("node","TeXAtom",[smash]))}right&&this.Push(new TexParser_js_1["default"](right,parser.stack.env,parser.configuration).mml());var mml=_super.prototype.toMml.call(this);return ParseUtil_js_1["default"].fenced(this.factory.configuration,this.getProperty("open"),mml,this.getProperty("close"),this.getProperty("big"))},AutoOpen.prototype.checkItem=function(item){var close=item.getProperty("autoclose");return close&&close===this.getProperty("close")?this.getProperty("ignore")?(this.Clear(),[[],!0]):[[this.toMml()],!0]:_super.prototype.checkItem.call(this,item)},AutoOpen}(StackItem_js_1.BaseItem);exports.AutoOpen=AutoOpen},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var SymbolMap_js_1=__webpack_require__(1),PhysicsMethods_js_1=__webpack_require__(66),TexConstants_js_1=__webpack_require__(6),ParseMethods_js_1=__webpack_require__(9),MmlNode_js_1=__webpack_require__(7);new SymbolMap_js_1.CommandMap("Physics-automatic-bracing-macros",{quantity:"Quantity",qty:"Quantity",pqty:["Quantity","(",")",!0],bqty:["Quantity","[","]",!0],vqty:["Quantity","|","|",!0],Bqty:["Quantity","{","}",!0],absolutevalue:["Quantity","|","|",!0],abs:["Quantity","|","|",!0],norm:["Quantity","\\|","\\|",!0],evaluated:"Eval",eval:"Eval",order:["Quantity","(",")",!0,"O",TexConstants_js_1.TexConstant.Variant.CALLIGRAPHIC],commutator:"Commutator",comm:"Commutator",anticommutator:["Commutator","\\{","\\}"],acomm:["Commutator","\\{","\\}"],poissonbracket:["Commutator","\\{","\\}"],pb:["Commutator","\\{","\\}"]},PhysicsMethods_js_1["default"]),new SymbolMap_js_1.CharacterMap("Physics-vector-chars",ParseMethods_js_1["default"].mathchar0mi,{dotproduct:["⋅",{mathvariant:TexConstants_js_1.TexConstant.Variant.BOLD}],vdot:["⋅",{mathvariant:TexConstants_js_1.TexConstant.Variant.BOLD}],crossproduct:"×",cross:"×",cp:"×",gradientnabla:["∇",{mathvariant:TexConstants_js_1.TexConstant.Variant.BOLD}],real:["ℜ",{mathvariant:TexConstants_js_1.TexConstant.Variant.NORMAL}],imaginary:["ℑ",{mathvariant:TexConstants_js_1.TexConstant.Variant.NORMAL}]}),new SymbolMap_js_1.CommandMap("Physics-vector-macros",{vectorbold:"VectorBold",vb:"VectorBold",vectorarrow:["StarMacro",1,"\\vec{\\vb","{#1}}"],va:["StarMacro",1,"\\vec{\\vb","{#1}}"],vectorunit:["StarMacro",1,"\\hat{\\vb","{#1}}"],vu:["StarMacro",1,"\\hat{\\vb","{#1}}"],gradient:["OperatorApplication","\\gradientnabla","(","["],grad:["OperatorApplication","\\gradientnabla","(","["],divergence:["VectorOperator","\\gradientnabla\\vdot","(","["],div:["VectorOperator","\\gradientnabla\\vdot","(","["],curl:["VectorOperator","\\gradientnabla\\crossproduct","(","["],laplacian:["OperatorApplication","\\nabla^2","(","["]},PhysicsMethods_js_1["default"]),new SymbolMap_js_1.CommandMap("Physics-expressions-macros",{sin:"Expression",sinh:"Expression",arcsin:"Expression",asin:"Expression",cos:"Expression",cosh:"Expression",arccos:"Expression",acos:"Expression",tan:"Expression",tanh:"Expression",arctan:"Expression",atan:"Expression",csc:"Expression",csch:"Expression",arccsc:"Expression",acsc:"Expression",sec:"Expression",sech:"Expression",arcsec:"Expression",asec:"Expression",cot:"Expression",coth:"Expression",arccot:"Expression",acot:"Expression",exp:["Expression",!1],log:"Expression",ln:"Expression",det:["Expression",!1],Pr:["Expression",!1],tr:["Expression",!1],trace:["Expression",!1,"tr"],Tr:["Expression",!1],Trace:["Expression",!1,"Tr"],rank:"NamedFn",erf:["Expression",!1],Res:["OperatorApplication","{\\rm Res}","(","[","{"],principalvalue:["OperatorApplication","{\\cal P}"],pv:["OperatorApplication","{\\cal P}"],PV:["OperatorApplication","{\\rm P.V.}"],Re:["OperatorApplication","{\\rm Re}","{"],Im:["OperatorApplication","{\\rm Im}","{"],sine:["NamedFn","sin"],hypsine:["NamedFn","sinh"],arcsine:["NamedFn","arcsin"],asine:["NamedFn","asin"],cosine:["NamedFn","cos"],hypcosine:["NamedFn","cosh"],arccosine:["NamedFn","arccos"],acosine:["NamedFn","acos"],tangent:["NamedFn","tan"],hyptangent:["NamedFn","tanh"],arctangent:["NamedFn","arctan"],atangent:["NamedFn","atan"],cosecant:["NamedFn","csc"],hypcosecant:["NamedFn","csch"],arccosecant:["NamedFn","arccsc"],acosecant:["NamedFn","acsc"],secant:["NamedFn","sec"],hypsecant:["NamedFn","sech"],arcsecant:["NamedFn","arcsec"],asecant:["NamedFn","asec"],cotangent:["NamedFn","cot"],hypcotangent:["NamedFn","coth"],arccotangent:["NamedFn","arccot"],acotangent:["NamedFn","acot"],exponential:["NamedFn","exp"],logarithm:["NamedFn","log"],naturallogarithm:["NamedFn","ln"],determinant:["NamedFn","det"],Probability:["NamedFn","Pr"]},PhysicsMethods_js_1["default"]),new SymbolMap_js_1.CommandMap("Physics-quick-quad-macros",{qqtext:"Qqtext",qq:"Qqtext",qcomma:["Macro","\\qqtext*{,}"],qc:["Macro","\\qqtext*{,}"],qcc:["Qqtext","c.c."],qif:["Qqtext","if"],qthen:["Qqtext","then"],qelse:["Qqtext","else"],qotherwise:["Qqtext","otherwise"],qunless:["Qqtext","unless"],qgiven:["Qqtext","given"],qusing:["Qqtext","using"],qassume:["Qqtext","assume"],"qsince,":["Qqtext","since,"],qlet:["Qqtext","let"],qfor:["Qqtext","for"],qall:["Qqtext","all"],qeven:["Qqtext","even"],qodd:["Qqtext","odd"],qinteger:["Qqtext","integer"],qand:["Qqtext","and"],qor:["Qqtext","or"],qas:["Qqtext","as"],qin:["Qqtext","in"]},PhysicsMethods_js_1["default"]),new SymbolMap_js_1.CommandMap("Physics-derivative-macros",{flatfrac:["Macro","\\left.#1\\middle/#2\\right.",2],differential:["Differential","{\\rm d}"],dd:["Differential","{\\rm d}"],variation:["Differential","\\delta"],"var":["Differential","\\delta"],derivative:["Derivative",2,"{\\rm d}"],dv:["Derivative",2,"{\\rm d}"],partialderivative:["Derivative",3,"\\partial"],pderivative:["Derivative",3,"\\partial"],pdv:["Derivative",3,"\\partial"],functionalderivative:["Derivative",2,"\\delta"],fderivative:["Derivative",2,"\\delta"],fdv:["Derivative",2,"\\delta"]},PhysicsMethods_js_1["default"]),new SymbolMap_js_1.CommandMap("Physics-bra-ket-macros",{bra:"Bra",ket:"Ket",innerproduct:"BraKet",braket:"BraKet",outerproduct:"KetBra",dyad:"KetBra",ketbra:"KetBra",op:"KetBra",expectationvalue:"Expectation",expval:"Expectation",ev:"Expectation",matrixelement:"MatrixElement",matrixel:"MatrixElement",mel:"MatrixElement"},PhysicsMethods_js_1["default"]),new SymbolMap_js_1.CommandMap("Physics-matrix-macros",{matrixquantity:"MatrixQuantity",mqty:"MatrixQuantity",pmqty:["Macro","\\mqty(#1)",1],Pmqty:["Macro","\\mqty*(#1)",1],bmqty:["Macro","\\mqty[#1]",1],vmqty:["Macro","\\mqty|#1|",1],smallmatrixquantity:["MatrixQuantity",!0],smqty:["MatrixQuantity",!0],spmqty:["Macro","\\smqty(#1)",1],sPmqty:["Macro","\\smqty*(#1)",1],sbmqty:["Macro","\\smqty[#1]",1],svmqty:["Macro","\\smqty|#1|",1],matrixdeterminant:["Macro","\\vmqty{#1}",1],mdet:["Macro","\\vmqty{#1}",1],smdet:["Macro","\\svmqty{#1}",1],identitymatrix:"IdentityMatrix",imat:"IdentityMatrix",xmatrix:"XMatrix",xmat:"XMatrix",zeromatrix:["Macro","\\xmat{0}{#1}{#2}",2],zmat:["Macro","\\xmat{0}{#1}{#2}",2],paulimatrix:"PauliMatrix",pmat:"PauliMatrix",diagonalmatrix:"DiagonalMatrix",dmat:"DiagonalMatrix",antidiagonalmatrix:["DiagonalMatrix",!0],admat:["DiagonalMatrix",!0]},PhysicsMethods_js_1["default"]),new SymbolMap_js_1.EnvironmentMap("Physics-aux-envs",ParseMethods_js_1["default"].environment,{smallmatrix:["Array",null,null,null,"c","0.333em",".2em","S",1]},PhysicsMethods_js_1["default"]),new SymbolMap_js_1.MacroMap("Physics-characters",{"|":["AutoClose",MmlNode_js_1.TEXCLASS.ORD],")":"AutoClose","]":"AutoClose"},PhysicsMethods_js_1["default"])},function(module,exports,__webpack_require__){"use strict";function inRange(value,range){return value>=range[0]&&value<=range[1]}function createVectorToken(factory,kind,def,text){var parser=factory.configuration.parser,token=NodeFactory_js_1.NodeFactory.createToken(factory,kind,def,text),code=text.codePointAt(0);return 1===text.length&&!parser.stack.env.font&&parser.stack.env.vectorFont&&(inRange(code,latinCap)||inRange(code,latinSmall)||inRange(code,greekCap)||inRange(code,digits)||inRange(code,greekSmall)&&parser.stack.env.vectorStar||NodeUtil_js_1["default"].getAttribute(token,"accent"))&&NodeUtil_js_1["default"].setAttribute(token,"mathvariant",parser.stack.env.vectorFont),token}function outputBraket(_a,star1,star2){var _b=__read(_a,3),arg1=_b[0],arg2=_b[1],arg3=_b[2];return star1&&star2?"\\left\\langle{"+arg1+"}\\middle\\vert{"+arg2+"}\\middle\\vert{"+arg3+"}\\right\\rangle":star1?"\\langle{"+arg1+"}\\vert{"+arg2+"}\\vert{"+arg3+"}\\rangle":"\\left\\langle{"+arg1+"}\\right\\vert{"+arg2+"}\\left\\vert{"+arg3+"}\\right\\rangle"}function makeDiagMatrix(elements,anti){for(var length=elements.length,matrix=[],i=0;length>i;i++)matrix.push(Array(anti?length-i:i+1).join("&")+"\\mqty{"+elements[i]+"}");return matrix.join("\\\\ ")}var __read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar};Object.defineProperty(exports,"__esModule",{value:!0});var BaseMethods_js_1=__webpack_require__(8),TexParser_js_1=__webpack_require__(5),TexError_js_1=__webpack_require__(2),MmlNode_js_1=__webpack_require__(7),ParseUtil_js_1=__webpack_require__(3),NodeUtil_js_1=__webpack_require__(4),NodeFactory_js_1=__webpack_require__(23),PhysicsMethods={},pairs={"(":")","[":"]","{":"}","|":"|"},biggs=/^(b|B)i(g{1,2})$/;
PhysicsMethods.Quantity=function(parser,name,open,close,arg,named,variant){void 0===open&&(open="("),void 0===close&&(close=")"),void 0===arg&&(arg=!1),void 0===named&&(named=""),void 0===variant&&(variant="");var star=arg?parser.GetStar():!1,next=parser.GetNext(),position=parser.i,big=null;if("\\"===next){if(parser.i++,big=parser.GetCS(),!big.match(biggs)){var empty=parser.create("node","mrow");return parser.Push(ParseUtil_js_1["default"].fenced(parser.configuration,open,empty,close)),void(parser.i=position)}next=parser.GetNext()}var right=pairs[next];if(arg&&"{"!==next)throw new TexError_js_1["default"]("MissingArgFor","Missing argument for %1",parser.currentCS);if(!right){var empty=parser.create("node","mrow");return parser.Push(ParseUtil_js_1["default"].fenced(parser.configuration,open,empty,close)),void(parser.i=position)}if(named){var mml=parser.create("token","mi",{texClass:MmlNode_js_1.TEXCLASS.OP},named);variant&&NodeUtil_js_1["default"].setAttribute(mml,"mathvariant",variant),parser.Push(parser.itemFactory.create("fn",mml))}if("{"===next){var argument=parser.GetArgument(name);return next=arg?open:"\\{",right=arg?close:"\\}",argument=star?next+" "+argument+" "+right:big?"\\"+big+"l"+next+" "+argument+" \\"+big+"r"+right:"\\left"+next+" "+argument+" \\right"+right,void parser.Push(new TexParser_js_1["default"](argument,parser.stack.env,parser.configuration).mml())}arg&&(next=open,right=close),parser.i++,parser.Push(parser.itemFactory.create("auto open").setProperties({open:next,close:right,big:big}))},PhysicsMethods.Eval=function(parser,name){var star=parser.GetStar(),next=parser.GetNext();if("{"===next){var arg=parser.GetArgument(name),replace="\\left. "+(star?"\\smash{"+arg+"}":arg)+" \\vphantom{\\int}\\right|";return void(parser.string=parser.string.slice(0,parser.i)+replace+parser.string.slice(parser.i))}if("("===next||"["===next)return parser.i++,void parser.Push(parser.itemFactory.create("auto open").setProperties({open:next,close:"|",smash:star,right:"\\vphantom{\\int}"}));throw new TexError_js_1["default"]("MissingArgFor","Missing argument for %1",parser.currentCS)},PhysicsMethods.Commutator=function(parser,name,open,close){void 0===open&&(open="["),void 0===close&&(close="]");var star=parser.GetStar(),next=parser.GetNext(),big=null;if("\\"===next){if(parser.i++,big=parser.GetCS(),!big.match(biggs))throw new TexError_js_1["default"]("MissingArgFor","Missing argument for %1",parser.currentCS);next=parser.GetNext()}if("{"!==next)throw new TexError_js_1["default"]("MissingArgFor","Missing argument for %1",parser.currentCS);var arg1=parser.GetArgument(name),arg2=parser.GetArgument(name),argument=arg1+","+arg2;argument=star?open+" "+argument+" "+close:big?"\\"+big+"l"+open+" "+argument+" \\"+big+"r"+close:"\\left"+open+" "+argument+" \\right"+close,parser.Push(new TexParser_js_1["default"](argument,parser.stack.env,parser.configuration).mml())};var latinCap=[65,90],latinSmall=[97,122],greekCap=[913,937],greekSmall=[945,969],digits=[48,57];PhysicsMethods.VectorBold=function(parser,name){var star=parser.GetStar(),arg=parser.GetArgument(name),oldToken=parser.configuration.nodeFactory.get("token"),oldFont=parser.stack.env.font;delete parser.stack.env.font,parser.configuration.nodeFactory.set("token",createVectorToken),parser.stack.env.vectorFont=star?"bold-italic":"bold",parser.stack.env.vectorStar=star;var node=new TexParser_js_1["default"](arg,parser.stack.env,parser.configuration).mml();oldFont&&(parser.stack.env.font=oldFont),delete parser.stack.env.vectorFont,delete parser.stack.env.vectorStar,parser.configuration.nodeFactory.set("token",oldToken),parser.Push(node)},PhysicsMethods.StarMacro=function(parser,name,argcount){for(var parts=[],_i=3;_i<arguments.length;_i++)parts[_i-3]=arguments[_i];var star=parser.GetStar(),args=[];if(argcount)for(var i=args.length;argcount>i;i++)args.push(parser.GetArgument(name));var macro=parts.join(star?"*":"");if(macro=ParseUtil_js_1["default"].substituteArgs(parser,args,macro),parser.string=ParseUtil_js_1["default"].addArgs(parser,macro,parser.string.slice(parser.i)),parser.i=0,++parser.macroCount>parser.configuration.options.maxMacros)throw new TexError_js_1["default"]("MaxMacroSub1","MathJax maximum macro substitution count exceeded; is there a recursive macro call?")};var vectorApplication=function(parser,kind,name,operator,fences){var op=new TexParser_js_1["default"](operator,parser.stack.env,parser.configuration).mml();parser.Push(parser.itemFactory.create(kind,op));var left=parser.GetNext(),right=pairs[left];if(right){var lfence="",rfence="",arg="",enlarge=-1!==fences.indexOf(left);if("{"===left){arg=parser.GetArgument(name),lfence=enlarge?"\\left\\{":"",rfence=enlarge?"\\right\\}":"";var macro=lfence+" "+arg+" "+rfence;return parser.string=macro+parser.string.slice(parser.i),void(parser.i=0)}enlarge&&(parser.i++,parser.Push(parser.itemFactory.create("auto open").setProperties({open:left,close:right})))}};PhysicsMethods.OperatorApplication=function(parser,name,operator){for(var fences=[],_i=3;_i<arguments.length;_i++)fences[_i-3]=arguments[_i];vectorApplication(parser,"fn",name,operator,fences)},PhysicsMethods.VectorOperator=function(parser,name,operator){for(var fences=[],_i=3;_i<arguments.length;_i++)fences[_i-3]=arguments[_i];vectorApplication(parser,"mml",name,operator,fences)},PhysicsMethods.Expression=function(parser,name,opt,id){void 0===opt&&(opt=!0),void 0===id&&(id=""),id=id||name.slice(1);var exp=opt?parser.GetBrackets(name):null,mml=parser.create("token","mi",{texClass:MmlNode_js_1.TEXCLASS.OP},id);if(exp){var sup=new TexParser_js_1["default"](exp,parser.stack.env,parser.configuration).mml();mml=parser.create("node","msup",[mml,sup])}parser.Push(parser.itemFactory.create("fn",mml)),"("===parser.GetNext()&&(parser.i++,parser.Push(parser.itemFactory.create("auto open").setProperties({open:"(",close:")"})))},PhysicsMethods.Qqtext=function(parser,name,text){var star=parser.GetStar(),arg=text?text:parser.GetArgument(name),replace=(star?"":"\\quad")+"\\text{"+arg+"}\\quad ";parser.string=parser.string.slice(0,parser.i)+replace+parser.string.slice(parser.i)},PhysicsMethods.Differential=function(parser,name,op){var optArg=parser.GetBrackets(name),power=null!=optArg?"^{"+optArg+"}":" ",parens="("===parser.GetNext(),braces="{"===parser.GetNext(),macro=op+power;if(!parens&&!braces){macro+=parser.GetArgument(name,!0)||"";var mml=new TexParser_js_1["default"](macro,parser.stack.env,parser.configuration).mml();return void parser.Push(mml)}if(braces){macro+=parser.GetArgument(name);var mml=new TexParser_js_1["default"](macro,parser.stack.env,parser.configuration).mml();return void parser.Push(parser.create("node","TeXAtom",[mml],{texClass:MmlNode_js_1.TEXCLASS.OP}))}parser.Push(new TexParser_js_1["default"](macro,parser.stack.env,parser.configuration).mml()),parser.i++,parser.Push(parser.itemFactory.create("auto open").setProperties({open:"(",close:")"}))},PhysicsMethods.Derivative=function(parser,name,argMax,op){var star=parser.GetStar(),optArg=parser.GetBrackets(name),argCounter=1,args=[];for(args.push(parser.GetArgument(name));"{"===parser.GetNext()&&argMax>argCounter;)args.push(parser.GetArgument(name)),argCounter++;var ignore=!1,power1=" ",power2=" ";argMax>2&&args.length>2?(power1="^{"+(args.length-1)+"}",ignore=!0):null!=optArg&&(argMax>2&&args.length>1&&(ignore=!0),power1="^{"+optArg+"}",power2=power1);for(var frac=star?"\\flatfrac":"\\frac",first=args.length>1?args[0]:"",second=args.length>1?args[1]:args[0],rest="",i=2,arg=void 0;arg=args[i];i++)rest+=op+" "+arg;var macro=frac+"{"+op+power1+first+"}{"+op+" "+second+power2+" "+rest+"}";parser.Push(new TexParser_js_1["default"](macro,parser.stack.env,parser.configuration).mml()),"("===parser.GetNext()&&(parser.i++,parser.Push(parser.itemFactory.create("auto open").setProperties({open:"(",close:")",ignore:ignore})))},PhysicsMethods.Bra=function(parser,name){var starBra=parser.GetStar(),bra=parser.GetArgument(name),ket="",hasKet=!1,starKet=!1;if("\\"===parser.GetNext()){var saveI=parser.i;parser.i++;var cs=parser.GetCS(),symbol=parser.lookup("macro",cs);symbol&&"ket"===symbol.symbol?(hasKet=!0,saveI=parser.i,starKet=parser.GetStar(),"{"===parser.GetNext()?ket=parser.GetArgument(cs,!0):(parser.i=saveI,starKet=!1)):parser.i=saveI}var macro="";macro=hasKet?starBra||starKet?"\\langle{"+bra+"}\\vert{"+ket+"}\\rangle":"\\left\\langle{"+bra+"}\\middle\\vert{"+ket+"}\\right\\rangle":starBra||starKet?"\\langle{"+bra+"}\\vert":"\\left\\langle{"+bra+"}\\right\\vert{"+ket+"}",parser.Push(new TexParser_js_1["default"](macro,parser.stack.env,parser.configuration).mml())},PhysicsMethods.Ket=function(parser,name){var star=parser.GetStar(),ket=parser.GetArgument(name),macro=star?"\\vert{"+ket+"}\\rangle":"\\left\\vert{"+ket+"}\\right\\rangle";parser.Push(new TexParser_js_1["default"](macro,parser.stack.env,parser.configuration).mml())},PhysicsMethods.BraKet=function(parser,name){var star=parser.GetStar(),bra=parser.GetArgument(name),ket=null;"{"===parser.GetNext()&&(ket=parser.GetArgument(name,!0));var macro="";macro=null==ket?star?"\\langle{"+bra+"}\\vert{"+bra+"}\\rangle":"\\left\\langle{"+bra+"}\\middle\\vert{"+bra+"}\\right\\rangle":star?"\\langle{"+bra+"}\\vert{"+ket+"}\\rangle":"\\left\\langle{"+bra+"}\\middle\\vert{"+ket+"}\\right\\rangle",parser.Push(new TexParser_js_1["default"](macro,parser.stack.env,parser.configuration).mml())},PhysicsMethods.KetBra=function(parser,name){var star=parser.GetStar(),ket=parser.GetArgument(name),bra=null;"{"===parser.GetNext()&&(bra=parser.GetArgument(name,!0));var macro="";macro=null==bra?star?"\\vert{"+ket+"}\\rangle\\!\\langle{"+ket+"}\\vert":"\\left\\vert{"+ket+"}\\middle\\rangle\\!\\middle\\langle{"+ket+"}\\right\\vert":star?"\\vert{"+ket+"}\\rangle\\!\\langle{"+bra+"}\\vert":"\\left\\vert{"+ket+"}\\middle\\rangle\\!\\middle\\langle{"+bra+"}\\right\\vert",parser.Push(new TexParser_js_1["default"](macro,parser.stack.env,parser.configuration).mml())},PhysicsMethods.Expectation=function(parser,name){var star1=parser.GetStar(),star2=star1&&parser.GetStar(),arg1=parser.GetArgument(name),arg2=null;"{"===parser.GetNext()&&(arg2=parser.GetArgument(name,!0));var macro=arg1&&arg2?outputBraket([arg2,arg1,arg2],star1,star2):star1?"\\langle {"+arg1+"} \\rangle":"\\left\\langle {"+arg1+"} \\right\\rangle";parser.Push(new TexParser_js_1["default"](macro,parser.stack.env,parser.configuration).mml())},PhysicsMethods.MatrixElement=function(parser,name){var star1=parser.GetStar(),star2=star1&&parser.GetStar(),arg1=parser.GetArgument(name),arg2=parser.GetArgument(name),arg3=parser.GetArgument(name),macro=outputBraket([arg1,arg2,arg3],star1,star2);parser.Push(new TexParser_js_1["default"](macro,parser.stack.env,parser.configuration).mml())},PhysicsMethods.MatrixQuantity=function(parser,name,small){var star=parser.GetStar(),next=parser.GetNext(),array=small?"smallmatrix":"array",arg="",open="",close="";switch(next){case"{":arg=parser.GetArgument(name);break;case"(":parser.i++,open=star?"\\lgroup":"(",close=star?"\\rgroup":")",arg=parser.GetUpTo(name,")");break;case"[":parser.i++,open="[",close="]",arg=parser.GetUpTo(name,"]");break;case"|":parser.i++,open="|",close="|",arg=parser.GetUpTo(name,"|");break;default:open="(",close=")"}var macro=(open?"\\left":"")+open+"\\begin{"+array+"}{} "+arg+"\\end{"+array+"}"+(open?"\\right":"")+close;parser.Push(new TexParser_js_1["default"](macro,parser.stack.env,parser.configuration).mml())},PhysicsMethods.IdentityMatrix=function(parser,name){var arg=parser.GetArgument(name),size=parseInt(arg,10);if(isNaN(size))throw new TexError_js_1["default"]("InvalidNumber","Invalid number");if(1>=size)return parser.string="1"+parser.string.slice(parser.i),void(parser.i=0);for(var zeros=Array(size).fill("0"),columns=[],i=0;size>i;i++){var row=zeros.slice();row[i]="1",columns.push(row.join(" & "))}parser.string=columns.join("\\\\ ")+parser.string.slice(parser.i),parser.i=0},PhysicsMethods.XMatrix=function(parser,name){var star=parser.GetStar(),arg1=parser.GetArgument(name),arg2=parser.GetArgument(name),arg3=parser.GetArgument(name),n=parseInt(arg2,10),m=parseInt(arg3,10);if(isNaN(n)||isNaN(m)||m.toString()!==arg3||n.toString()!==arg2)throw new TexError_js_1["default"]("InvalidNumber","Invalid number");if(n=1>n?1:n,m=1>m?1:m,!star){var row=Array(m).fill(arg1).join(" & "),matrix_1=Array(n).fill(row).join("\\\\ ");return parser.string=matrix_1+parser.string.slice(parser.i),void(parser.i=0)}var matrix="";if(1===n&&1===m)matrix=arg1;else if(1===n){for(var row=[],i=1;m>=i;i++)row.push(arg1+"_{"+i+"}");matrix=row.join(" & ")}else if(1===m){for(var row=[],i=1;n>=i;i++)row.push(arg1+"_{"+i+"}");matrix=row.join("\\\\ ")}else{for(var rows=[],i=1;n>=i;i++){for(var row=[],j=1;m>=j;j++)row.push(arg1+"_{{"+i+"}{"+j+"}}");rows.push(row.join(" & "))}matrix=rows.join("\\\\ ")}parser.string=matrix+parser.string.slice(parser.i),parser.i=0},PhysicsMethods.PauliMatrix=function(parser,name){var arg=parser.GetArgument(name),matrix=arg.slice(1);switch(arg[0]){case"0":matrix+=" 1 & 0\\\\ 0 & 1";break;case"1":case"x":matrix+=" 0 & 1\\\\ 1 & 0";break;case"2":case"y":matrix+=" 0 & -i\\\\ i & 0";break;case"3":case"z":matrix+=" 1 & 0\\\\ 0 & -1"}parser.string=matrix+parser.string.slice(parser.i),parser.i=0},PhysicsMethods.DiagonalMatrix=function(parser,name,anti){if("{"===parser.GetNext()){var startI=parser.i;parser.GetArgument(name);var endI=parser.i;parser.i=startI+1;for(var elements=[],element="",currentI=parser.i;endI>currentI;){try{element=parser.GetUpTo(name,",")}catch(e){parser.i=endI,elements.push(parser.string.slice(currentI,endI-1));break}if(parser.i>=endI){elements.push(parser.string.slice(currentI,endI));break}currentI=parser.i,elements.push(element)}parser.string=makeDiagMatrix(elements,anti)+parser.string.slice(endI),parser.i=0}},PhysicsMethods.AutoClose=function(parser,fence,_texclass){var mo=parser.create("token","mo",{stretchy:!1},fence),item=parser.itemFactory.create("mml",mo).setProperties({autoclose:fence});parser.Push(item)},PhysicsMethods.Macro=BaseMethods_js_1["default"].Macro,PhysicsMethods.NamedFn=BaseMethods_js_1["default"].NamedFn,PhysicsMethods.Array=BaseMethods_js_1["default"].Array,exports["default"]=PhysicsMethods},function(module,exports,__webpack_require__){"use strict";function tagformatConfig(config,jax){var tags=jax.parseOptions.options.tags;"base"!==tags&&config.tags.hasOwnProperty(tags)&&Tags_js_1.TagsFactory.add(tags,config.tags[tags]);var TagClass=Tags_js_1.TagsFactory.create(jax.parseOptions.options.tags).constructor,TagFormat=function(_super){function TagFormat(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(TagFormat,_super),TagFormat.prototype.formatNumber=function(n){return jax.parseOptions.options.tagformat.number(n)},TagFormat.prototype.formatTag=function(tag){return jax.parseOptions.options.tagformat.tag(tag)},TagFormat.prototype.formatId=function(id){return jax.parseOptions.options.tagformat.id(id)},TagFormat.prototype.formatUrl=function(id,base){return jax.parseOptions.options.tagformat.url(id,base)},TagFormat}(TagClass);tagID++;var tagName="configTags-"+tagID;Tags_js_1.TagsFactory.add(tagName,TagFormat),jax.parseOptions.options.tags=tagName}var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.TagFormatConfiguration=exports.tagformatConfig=void 0;var Configuration_js_1=__webpack_require__(0),Tags_js_1=__webpack_require__(17),tagID=0;exports.tagformatConfig=tagformatConfig,exports.TagFormatConfiguration=Configuration_js_1.Configuration.create("tagformat",{config:[tagformatConfig,10],options:{tagformat:{number:function(n){return n.toString()},tag:function(tag){return"("+tag+")"},id:function(id){return"mjx-eqn-"+id.replace(/\s/g,"_")},url:function(id,base){return base+"#"+encodeURIComponent(id)}}}})},function(module,exports,__webpack_require__){"use strict";function internalMath(parser,text,level,mathvariant){var config=parser.configuration.packageData.get("textmacros");return parser instanceof TextParser_js_1.TextParser||(config.texParser=parser),[new TextParser_js_1.TextParser(text,mathvariant?{mathvariant:mathvariant}:{},config.parseOptions,level).mml()]}var _a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.textBase=void 0;var Configuration_js_1=__webpack_require__(0),ParseOptions_js_1=__webpack_require__(69),Tags_js_1=__webpack_require__(17),BaseItems_js_1=__webpack_require__(16),TextParser_js_1=__webpack_require__(70),TextMacrosMethods_js_1=__webpack_require__(27);__webpack_require__(72),exports.textBase=Configuration_js_1.Configuration.local({handler:{character:["command","text-special"],macro:["text-macros"]},fallback:{character:function(parser,c){parser.text+=c},macro:function(parser,name){var texParser=parser.texParser,macro=texParser.lookup("macro",name);macro&&macro._func!==TextMacrosMethods_js_1.TextMacrosMethods.Macro&&parser.Error("MathMacro","%1 is only supported in math mode","\\"+name),texParser.parse("macro",[macro?parser:texParser,name])}},items:(_a={},_a[BaseItems_js_1.StartItem.prototype.kind]=BaseItems_js_1.StartItem,_a[BaseItems_js_1.StopItem.prototype.kind]=BaseItems_js_1.StopItem,_a[BaseItems_js_1.MmlItem.prototype.kind]=BaseItems_js_1.MmlItem,_a[BaseItems_js_1.StyleItem.prototype.kind]=BaseItems_js_1.StyleItem,_a)}),Configuration_js_1.Configuration.create("textmacros",{config:function(_config,jax){var textConf=new Configuration_js_1.ParserConfiguration([]);textConf.append(exports.textBase),textConf.init();var parseOptions=new ParseOptions_js_1["default"](textConf,[]);parseOptions.options=jax.parseOptions.options,textConf.config(jax),Tags_js_1.TagsFactory.addTags(textConf.tags),parseOptions.tags=Tags_js_1.TagsFactory.getDefault(),parseOptions.tags.configuration=parseOptions,parseOptions.packageData=jax.parseOptions.packageData,parseOptions.packageData.set("textmacros",{parseOptions:parseOptions,jax:jax,texParser:null}),parseOptions.options.internalMath=internalMath},preprocessors:[function(data){var config=data.data.packageData.get("textmacros");config.parseOptions.nodeFactory.setMmlFactory(config.jax.mmlFactory)}]})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=MathJax._.input.tex.ParseOptions["default"]},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__values=this&&this.__values||function(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{for(;(void 0===n||n-->0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i["return"])&&m.call(i)}finally{if(e)throw e.error}}return ar},__spread=this&&this.__spread||function(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextParser=void 0;var TexParser_js_1=__webpack_require__(5),TexError_js_1=__webpack_require__(2),ParseUtil_js_1=__webpack_require__(3),MmlNode_js_1=__webpack_require__(7),NodeUtil_js_1=__webpack_require__(4),BaseItems_js_1=__webpack_require__(16),TextParser=function(_super){function TextParser(text,env,configuration,level){var _this=_super.call(this,text,env,configuration)||this;return _this.level=level,_this}return __extends(TextParser,_super),Object.defineProperty(TextParser.prototype,"texParser",{get:function(){return this.configuration.packageData.get("textmacros").texParser},enumerable:!1,configurable:!0}),Object.defineProperty(TextParser.prototype,"tags",{get:function(){return this.texParser.tags},enumerable:!1,configurable:!0}),TextParser.prototype.mml=function(){return null!=this.level?this.create("node","mstyle",this.nodes,{displaystyle:!1,scriptlevel:this.level}):1===this.nodes.length?this.nodes[0]:this.create("node","inferredMrow",this.nodes)},TextParser.prototype.Parse=function(){this.text="",this.nodes=[],this.envStack=[],_super.prototype.Parse.call(this)},TextParser.prototype.saveText=function(){if(this.text){var mathvariant=this.stack.env.mathvariant,text=ParseUtil_js_1["default"].internalText(this,this.text,mathvariant?{mathvariant:mathvariant}:{});this.text="",this.Push(text)}},TextParser.prototype.Push=function(mml){return this.text&&this.saveText(),mml instanceof BaseItems_js_1.StopItem?_super.prototype.Push.call(this,mml):mml instanceof BaseItems_js_1.StyleItem?void(this.stack.env.mathcolor=this.stack.env.color):void(mml instanceof MmlNode_js_1.AbstractMmlNode&&(this.addAttributes(mml),this.nodes.push(mml)))},TextParser.prototype.PushMath=function(mml){var e_1,_a,env=this.stack.env;try{for(var _b=__values(["mathsize","mathcolor"]),_c=_b.next();!_c.done;_c=_b.next()){var name_1=_c.value;env[name_1]&&!mml.attributes.getExplicit(name_1)&&(mml.isToken||mml.isKind("mstyle")||(mml=this.create("node","mstyle",[mml])),NodeUtil_js_1["default"].setAttribute(mml,name_1,env[name_1]))}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b["return"])&&_a.call(_b)}finally{if(e_1)throw e_1.error}}mml.isKind("inferredMrow")&&(mml=this.create("node","mrow",mml.childNodes)),this.nodes.push(mml)},TextParser.prototype.addAttributes=function(mml){var e_2,_a,env=this.stack.env;if(mml.isToken)try{for(var _b=__values(["mathsize","mathcolor","mathvariant"]),_c=_b.next();!_c.done;_c=_b.next()){var name_2=_c.value;env[name_2]&&!mml.attributes.getExplicit(name_2)&&NodeUtil_js_1["default"].setAttribute(mml,name_2,env[name_2])}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_c&&!_c.done&&(_a=_b["return"])&&_a.call(_b)}finally{if(e_2)throw e_2.error}}},TextParser.prototype.ParseTextArg=function(name,env){var text=this.GetArgument(name);return env=Object.assign(Object.assign({},this.stack.env),env),new TextParser(text,env,this.configuration).mml()},TextParser.prototype.ParseArg=function(name){return new TextParser(this.GetArgument(name),this.stack.env,this.configuration).mml()},TextParser.prototype.Error=function(id,message){for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];throw new(TexError_js_1["default"].bind.apply(TexError_js_1["default"],__spread([void 0,id,message],args)))},TextParser}(TexParser_js_1["default"]);exports.TextParser=TextParser},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.handleRetriesFor=MathJax._.util.Retries.handleRetriesFor,exports.retryAfter=MathJax._.util.Retries.retryAfter},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var SymbolMap_js_1=__webpack_require__(1),TexConstants_js_1=__webpack_require__(6),TextMacrosMethods_js_1=__webpack_require__(27);new SymbolMap_js_1.MacroMap("text-special",{$:"Math","%":"Comment","^":"MathModeOnly",_:"MathModeOnly","&":"Misplaced","#":"Misplaced","~":"Tilde"," ":"Space","	":"Space","\r":"Space","\n":"Space"," ":"Tilde","{":"OpenBrace","}":"CloseBrace","`":"OpenQuote","'":"CloseQuote"},TextMacrosMethods_js_1.TextMacrosMethods),new SymbolMap_js_1.CommandMap("text-macros",{"(":"Math",$:"SelfQuote",_:"SelfQuote","%":"SelfQuote","{":"SelfQuote","}":"SelfQuote"," ":"SelfQuote","&":"SelfQuote","#":"SelfQuote","\\":"SelfQuote","'":["Accent","´"],"’":["Accent","´"],"`":["Accent","`"],"‘":["Accent","`"],"^":["Accent","^"],'"':["Accent","¨"],"~":["Accent","~"],"=":["Accent","¯"],".":["Accent","˙"],u:["Accent","˘"],v:["Accent","ˇ"],emph:"Emph",rm:["SetFont",TexConstants_js_1.TexConstant.Variant.NORMAL],mit:["SetFont",TexConstants_js_1.TexConstant.Variant.ITALIC],oldstyle:["SetFont",TexConstants_js_1.TexConstant.Variant.OLDSTYLE],cal:["SetFont",TexConstants_js_1.TexConstant.Variant.CALLIGRAPHIC],it:["SetFont","-tex-mathit"],bf:["SetFont",TexConstants_js_1.TexConstant.Variant.BOLD],bbFont:["SetFont",TexConstants_js_1.TexConstant.Variant.DOUBLESTRUCK],scr:["SetFont",TexConstants_js_1.TexConstant.Variant.SCRIPT],frak:["SetFont",TexConstants_js_1.TexConstant.Variant.FRAKTUR],sf:["SetFont",TexConstants_js_1.TexConstant.Variant.SANSSERIF],tt:["SetFont",TexConstants_js_1.TexConstant.Variant.MONOSPACE],tiny:["SetSize",.5],Tiny:["SetSize",.6],scriptsize:["SetSize",.7],small:["SetSize",.85],normalsize:["SetSize",1],large:["SetSize",1.2],Large:["SetSize",1.44],LARGE:["SetSize",1.73],huge:["SetSize",2.07],Huge:["SetSize",2.49],mathcal:"MathModeOnly",mathscr:"MathModeOnly",mathrm:"MathModeOnly",mathbf:"MathModeOnly",mathbb:"MathModeOnly",mathit:"MathModeOnly",mathfrak:"MathModeOnly",mathsf:"MathModeOnly",mathtt:"MathModeOnly",Bbb:["Macro","{\\bbFont #1}",1],textrm:["Macro","{\\rm #1}",1],textit:["Macro","{\\it #1}",1],textbf:["Macro","{\\bf #1}",1],textsf:["Macro","{\\sf #1}",1],texttt:["Macro","{\\tt #1}",1],dagger:["Insert","†"],ddagger:["Insert","‡"],S:["Insert","§"],",":["Spacer",TexConstants_js_1.TexConstant.Length.THINMATHSPACE],":":["Spacer",TexConstants_js_1.TexConstant.Length.MEDIUMMATHSPACE],">":["Spacer",TexConstants_js_1.TexConstant.Length.MEDIUMMATHSPACE],";":["Spacer",TexConstants_js_1.TexConstant.Length.THICKMATHSPACE],"!":["Spacer",TexConstants_js_1.TexConstant.Length.NEGATIVETHINMATHSPACE],enspace:["Spacer",".5em"],quad:["Spacer","1em"],qquad:["Spacer","2em"],thinspace:["Spacer",TexConstants_js_1.TexConstant.Length.THINMATHSPACE],negthinspace:["Spacer",TexConstants_js_1.TexConstant.Length.NEGATIVETHINMATHSPACE],hskip:"Hskip",hspace:"Hskip",kern:"Hskip",mskip:"Hskip",mspace:"Hskip",mkern:"Hskip",rule:"rule",Rule:["Rule"],Space:["Rule","blank"],color:"CheckAutoload",textcolor:"CheckAutoload",colorbox:"CheckAutoload",fcolorbox:"CheckAutoload",href:"CheckAutoload",style:"CheckAutoload","class":"CheckAutoload",cssId:"CheckAutoload",unicode:"CheckAutoload",ref:["HandleRef",!1],eqref:["HandleRef",!0]},TextMacrosMethods_js_1.TextMacrosMethods)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UnicodeConfiguration=exports.UnicodeMethods=void 0;var Configuration_js_1=__webpack_require__(0),TexError_js_1=__webpack_require__(2),SymbolMap_js_1=__webpack_require__(1),ParseUtil_js_1=__webpack_require__(3),NodeUtil_js_1=__webpack_require__(4),Entities_js_1=__webpack_require__(74);exports.UnicodeMethods={};var UnicodeCache={};exports.UnicodeMethods.Unicode=function(parser,name){var HD=parser.GetBrackets(name),HDsplit=null,font=null;HD&&(HD.replace(/ /g,"").match(/^(\d+(\.\d*)?|\.\d+),(\d+(\.\d*)?|\.\d+)$/)?(HDsplit=HD.replace(/ /g,"").split(/,/),font=parser.GetBrackets(name)):font=HD);var n=ParseUtil_js_1["default"].trimSpaces(parser.GetArgument(name)).replace(/^0x/,"x");if(!n.match(/^(x[0-9A-Fa-f]+|[0-9]+)$/))throw new TexError_js_1["default"]("BadUnicode","Argument to \\unicode must be a number");var N=parseInt(n.match(/^x/)?"0"+n:n);UnicodeCache[N]?font||(font=UnicodeCache[N][2]):UnicodeCache[N]=[800,200,font,N],HDsplit&&(UnicodeCache[N][0]=Math.floor(1e3*parseFloat(HDsplit[0])),UnicodeCache[N][1]=Math.floor(1e3*parseFloat(HDsplit[1])));var variant=parser.stack.env.font,def={};font?(UnicodeCache[N][2]=def.fontfamily=font.replace(/'/g,"'"),variant&&(variant.match(/bold/)&&(def.fontweight="bold"),variant.match(/italic|-mathit/)&&(def.fontstyle="italic"))):variant&&(def.mathvariant=variant);var node=parser.create("token","mtext",def,Entities_js_1.numeric(n));NodeUtil_js_1["default"].setProperty(node,"unicode",!0),parser.Push(node)},new SymbolMap_js_1.CommandMap("unicode",{unicode:"Unicode"},exports.UnicodeMethods),exports.UnicodeConfiguration=Configuration_js_1.Configuration.create("unicode",{handler:{macro:["unicode"]}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.options=MathJax._.util.Entities.options,exports.entities=MathJax._.util.Entities.entities,exports.add=MathJax._.util.Entities.add,exports.remove=MathJax._.util.Entities.remove,exports.translate=MathJax._.util.Entities.translate,exports.numeric=MathJax._.util.Entities.numeric},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VerbConfiguration=exports.VerbMethods=void 0;var Configuration_js_1=__webpack_require__(0),TexConstants_js_1=__webpack_require__(6),SymbolMap_js_1=__webpack_require__(1),TexError_js_1=__webpack_require__(2);exports.VerbMethods={},exports.VerbMethods.Verb=function(parser,name){var c=parser.GetNext(),start=++parser.i;if(""===c)throw new TexError_js_1["default"]("MissingArgFor","Missing argument for %1",name);for(;parser.i<parser.string.length&&parser.string.charAt(parser.i)!==c;)parser.i++;if(parser.i===parser.string.length)throw new TexError_js_1["default"]("NoClosingDelim","Can't find closing delimiter for %1",parser.currentCS);var text=parser.string.slice(start,parser.i).replace(/ /g," ");parser.i++,parser.Push(parser.create("token","mtext",{mathvariant:TexConstants_js_1.TexConstant.Variant.MONOSPACE},text))},new SymbolMap_js_1.CommandMap("verb",{verb:"Verb"},exports.VerbMethods),exports.VerbConfiguration=Configuration_js_1.Configuration.create("verb",{handler:{macro:["verb"]}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Loader=MathJax._.components.loader.Loader,exports.MathJax=MathJax._.components.loader.MathJax,exports.CONFIG=MathJax._.components.loader.CONFIG},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mathjax=MathJax._.mathjax.mathjax},function(module,__webpack_exports__,__webpack_require__){"use strict";function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _iterableToArray(iter){return"undefined"!=typeof Symbol&&Symbol.iterator in Object(iter)?Array.from(iter):void 0}function _arrayWithoutHoles(arr){return Array.isArray(arr)?_arrayLikeToArray(arr):void 0}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);len>i;i++)arr2[i]=arr[i];return arr2}__webpack_require__.r(__webpack_exports__);var global=__webpack_require__(20),AllPackages=__webpack_require__(15),AutoloadConfiguration=__webpack_require__(21),RequireConfiguration=__webpack_require__(14);Object(global.combineWithMathJax)({_:{input:{tex:{AllPackages:AllPackages,autoload:{AutoloadConfiguration:AutoloadConfiguration},require:{RequireConfiguration:RequireConfiguration}}}}});
var Options=__webpack_require__(10);if(MathJax.loader&&MathJax.loader.preLoad("[tex]/autoload","[tex]/require"),MathJax.startup){MathJax.config.tex||(MathJax.config.tex={});var all_packages_packages=MathJax.config.tex.packages;MathJax.config.tex.packages=["autoload","require"].concat(_toConsumableArray(AllPackages.AllPackages)),all_packages_packages&&Object(Options.insert)(MathJax.config.tex,{packages:all_packages_packages})}}]);
