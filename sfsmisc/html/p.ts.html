<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: plot.ts with multi-plots and Auto-Title - on 1 page</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body><div class="container">

<table width="100%" summary="page for p.ts {sfsmisc}"><tr><td>p.ts {sfsmisc}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>plot.ts with multi-plots and Auto-Title &ndash; on 1 page</h2>

<h3>Description</h3>

<p>For longer time-series, it is sometimes important to spread the
time-series plots over several subplots.
p.ts(.) does this both automatically, and under manual control.
</p>
<p>Actually, this is a generalization of <code><a href="../../stats/html/plot.ts.html">plot.ts</a></code>
(with different defaults).
</p>


<h3>Usage</h3>

<pre>
p.ts(x, nrplots = max(1, min(8, n %/% 400)), overlap = nk %/% 16,
     date.x = NULL, do.x.axis = !is.null(date.x), do.x.rug = FALSE,
     ax.format, main.tit = NULL, ylim = NULL, ylab = "", xlab = "Time",
     quiet = FALSE, mgp = c(1.25, .5, 0), ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
<p>timeseries (possibly multivariate) or numeric vector.</p>
</td></tr>
<tr valign="top"><td><code>nrplots</code></td>
<td>
<p>number of sub-plots.  Default: in {1..8},
approximately <code>n/400</code> if possible.</p>
</td></tr>
<tr valign="top"><td><code>overlap</code></td>
<td>
<p>by how much should subsequent plots overlap. Defaults
to about 1/16 of sub-length on each side.</p>
</td></tr>
<tr valign="top"><td><code>date.x</code></td>
<td>
<p>a time &ldquo;vector&rdquo; of the same length as <code>x</code>
and coercable to class <code>"POSIXct"</code> (see <a href="../../base/html/DateTimeClasses.html">DateTimeClasses</a>).</p>
</td></tr>
<tr valign="top"><td><code>do.x.axis</code></td>
<td>
<p>logical specifying if an x axis should be drawn
(i.e., tick marks and labels).</p>
</td></tr>
<tr valign="top"><td><code>do.x.rug</code></td>
<td>
<p>logical specifying if <code><a href="../../graphics/html/rug.html">rug</a></code> of
<code>date.x</code> values should drawn along the x axis.</p>
</td></tr>
<tr valign="top"><td><code>ax.format</code></td>
<td>
<p>when <code>do.x.axis</code> is true, specify the
<code>format</code> to be used in the call to <code><a href="../../graphics/html/axis.POSIXct.html">axis.POSIXct</a></code>.</p>
</td></tr>
<tr valign="top"><td><code>main.tit</code></td>
<td>
<p><b>Main</b> title (over all plots).  Defaults to name
of <code>x</code>.</p>
</td></tr>
<tr valign="top"><td><code>ylim</code></td>
<td>
<p>numeric(2) or NULL; if the former, specifying the y-range
for the plots. Defaults to a common pretty range.</p>
</td></tr>
<tr valign="top"><td><code>ylab, xlab</code></td>
<td>
<p>labels for y- and x-axis respectively, see
description in <code><a href="../../graphics/html/plot.default.html">plot.default</a></code>.</p>
</td></tr>
<tr valign="top"><td><code>quiet</code></td>
<td>
<p>logical; if <code>TRUE</code>, there's no reporting on each subplot.</p>
</td></tr>
<tr valign="top"><td><code>mgp</code></td>
<td>
<p>numeric(3) to be passed to <code><a href="../../sfsmisc/help/mult.fig.html">mult.fig</a>()</code>, see
<code><a href="../../graphics/html/par.html">par</a>(mgp = .)</code>.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>further graphic parameters for each <code><a href="../../stats/html/plot.ts.html">plot.ts</a>(..)</code>.</p>
</td></tr>
</table>


<h3>Side Effects</h3>

<p>A page of <code>nrplots</code> subplots is drawn on the current
graphics device.
</p>


<h3>Author(s)</h3>

<p>Martin Maechler, <a href="mailto:maechler@stat.math.ethz.ch">maechler@stat.math.ethz.ch</a>; July 1994 (for S).</p>


<h3>See Also</h3>

<p><code>p.ts()</code> calls <code><a href="../../sfsmisc/help/mult.fig.html">mult.fig</a>()</code> for setup.
Further, <code><a href="../../stats/html/plot.ts.html">plot.ts</a></code> and <code><a href="../../graphics/html/plot.default.html">plot</a></code>.
</p>


<h3>Examples</h3>

<pre>
stopifnot(require(stats))
## stopifnot(require(datasets))

data(sunspots)
p.ts(sunspots, nr=1) # == usual  plot.ts(..)
p.ts(sunspots)
p.ts(sunspots, nr=3, col=2)

data(EuStockMarkets)
p.ts(EuStockMarkets[,"SMI"])
## multivariate :
p.ts(log10(EuStockMarkets), col = 2:5)

## with Date - x-axis (dense random dates):
set.seed(12)
x &lt;- as.Date("2000-02-29") + cumsum(1+ rpois(1000, lambda= 2.5))
z &lt;- cumsum(.1 + 2*rt(1000, df=3))
p.ts(z, 4, date.x = x)
p.ts(z, 6, date.x = x, ax.format = "%b %Y", do.x.rug = TRUE)
</pre>

<hr /><div style="text-align: center;">[Package <em>sfsmisc</em> version 1.1-12 <a href="00Index.html">Index</a>]</div>
</div></body></html>
